<!DOCTYPE html>
<html lang="en">
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>轮播图 Swiper</title>
  <link rel="stylesheet" href="../../css/common.css" />
  <link rel="stylesheet" href="/utils/lib/swiper-11.0.5/package/swiper-bundle.min.css" />
  <base target="_blank" />
  <style>
    .swiper {
      width: 100%;
      max-width: 800px;
      aspect-ratio: 4/3;
    }

    .swiper-slide {
      position: relative;
    }

    .swiper-slide img {
      position: absolute;
      transform: translateX(50%);
      width: 100%;
      opacity: 0;
      transition: 0.4s;
    }

    .swiper-pagination-bullets.swiper-pagination-horizontal {
      bottom: 20px;
      display: flex;
      justify-content: center;
    }

    .swiper-pagination-bullets .swiper-pagination-bullet {
      width: 20px;
      padding: 4px 10px;
      display: grid;
      place-items: center;
      border-radius: 10px;
      background: none;
      opacity: 1;
      align-content: center;
      font-size: 12px;
      color: #000;
      margin: 0;
      border: 1px solid transparent;
    }

    .swiper-pagination-bullets .swiper-pagination-bullet-active {
      border-color: #000;
    }

    .swiper-slide-active img {
      transform: translateX(0);
      opacity: 1;
    }

    .p1 {
      padding-left: var(--p-m-g);
    }

    .p2 {
      padding-left: calc(2 * var(--p-m-g));
    }
  </style>
</head>

<body>
  <header>
    <h1>轮播图</h1>
    <span>&commat;Swiper</span>
    <span class="ham iconfont icon-menu"></span>
    <nav class="nav">
      <a href="" style="--delay:0" class="nav-item">概述 Overview</a>
      <a href="" style="--delay:1" class="nav-item">选项 Option</a>
      <a href="" style="--delay:2" class="nav-item">分页器 Option</a>
      <a href="" style="--delay:3" class="nav-item">导航按钮 Option</a>
      <a href="" style="--delay:4" class="nav-item">滚动条 Option</a>
      <a href="" style="--delay:5" class="nav-item">案例 Cases</a>
    </nav>
  </header>
  <div class="chap">简介 Overview</div>
  <dl class="nav-cont">
    <dd>.目前最新版为11；注意：不同的版本，使用方法略有不同。。。</dd>
    <dd>.更多细节，请访问 <a href="https://www.swiper.com.cn">https://www.swiper.com.cn</a> 或
      <a href="https://swiperjs.com/">https://swiperjs.com/[推荐]</a>；请首先阅读 Get Started 和 Demos 两部分内容
    </dd>
    <dd>.其它工具：<a href="https://glidejs.com/">https://glidejs.com</a> </dd>
    <dt>核心文件 Core</dt>
    <dd>
      <div>
        .可以下载后本地使用，也可以使用在线CDN
        <a href="https://cdnjs.com/">https://cdnjs.com/</a>
      </div>
      <div>.引入样式库 swiper-bundle.min.css</div>
      <pre>
&lt;link rel="stylesheet" href="/utils/lib/swiper-11.0.5/package/swiper-bundle.min.css"&gt;</pre>
      <div>.引入逻辑库 swiper-bundle.min.js</div>
      <pre>
&lt;script src="/utils/lib/swiper-11.0.5/package/swiper-bundle.min.js"&gt;&lt;/script&gt;</pre>
    </dd>
    <dt>基本结构 HTML</dt>
    <dd>
      <div>可以使用任何标签实现结构，保持 <span class="warn">库类名相同</span> 即可</div>
      <div>.swiper</div>
      <div class="p1">.swiper-wrapper</div>
      <div class="p2">.swiper-slide</div>
      <div class="p2">... ...</div>
      <div class="p2">.swiper-slide</div>
      <div class="p1">.swiper-pagination [分页器，可选]</div>
      <div class="p1">.swiper-button-prev [导航按钮；可选]</div>
      <div class="p1">.swiper-button-next [导航按钮；可选]</div>
      <div class="p1">.swiper-scrollbar [滚动条；可选]</div>
      <div>1. 默认结构 - &lt;div&gt;</div>
      <pre>
&lt;div class="team-swiper swiper"&gt;
  &lt;div class="swiper-wrapper"&gt;
    &lt;div class="team-card swiper-slide"&gt;Slide 1&lt;/div&gt;
    &lt;div class="team-card swiper-slide"&gt;Slide 2&lt;/div&gt;
    &lt;div class="team-card swiper-slide"&gt;Slide 3&lt;/div&gt;
    ...
  &lt;/div&gt;

  &lt;div class="swiper-pagination"&gt;&lt;/div&gt;

  &lt;div class="swiper-button-prev"&gt;&lt;/div&gt;
  &lt;div class="swiper-button-next"&gt;&lt;/div&gt;

  &lt;div class="swiper-scrollbar"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
      <div>2. 建议结构 - &lt;ul&gt; &lt;li&gt;</div>
      <pre>
&lt;div class="promotion-swiper swiper"&gt;
  &lt;ul class="swiper-wrapper"&gt;
    &lt;li class="promotion-card swiper-slide"&gt;Slide 1&lt;/li&gt;
    &lt;li class="promotion-card swiper-slide"&gt;Slide 2&lt;/li&gt;
    &lt;li class="promotion-card swiper-slide"&gt;Slide 3&lt;/li&gt;
    ...
  &lt;/ul&gt;

  &lt;div class="swiper-pagination"&gt;&lt;/div&gt;

  &lt;div class="swiper-button-prev"&gt;&lt;/div&gt;
  &lt;div class="swiper-button-next"&gt;&lt;/div&gt;

  &lt;div class="swiper-scrollbar"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
    </dd>
    <dt>样式 CSS</dt>
    <dd>
      <div>.容器 swiper</div>
      <div>.相对定位；为分页器 pagination 提供定位依据</div>
      <div>.指定内容大小[可选]；如图片的显示，可以指定宽高或宽高比</div>
      <div>.不建议使用背景图片 - 渲染可能有异常</div>
      <div>.F12检查并修改对应的类重置样式</div>
      <div>.自定义样式通常需要提权</div>
      <pre>
.swiper {
  width: 100%;
  max-width: 800px;
}</pre>
    </dd>
    <dt>脚本 JavaScript</dt>
    <dd>
      <div>.指定 swiper 的初始化和各种选项</div>
      <pre>
const swiper = new Swiper('.swiper', {
  // Optional parameters
  direction: 'vertical',
  loop: true,
  clickable:true,

  // If we need pagination
  pagination: {
    el: '.swiper-pagination',
  },

  // Navigation arrows
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },

  // And if we need scrollbar
  scrollbar: {
    el: '.swiper-scrollbar',
  },
});</pre>
      <div>.多个轮播图时，使用 <span class="warn">自定义类</span> 区分，如增加 team-swiper 和 team-card</div>
      <pre>const teamSwiper = new Swiper('.team-swiper', {}); 
</pre>
    </dd>
  </dl>
  <div class="chap">选项 Option</div>
  <dl class="nav-cont">
    <dt>参数 Parameters</dt>
    <dd>
      <div>.实例化的同时，配置轮播图基本参数；更多参数，请访问 <a href="https://swiperjs.com/swiper-api#parameters">轮播图 - Parameters</a></div>
      <div>.值对形式 key-value</div>
      <pre>
const swiper = new Swiper('.swiper', {
  // 各配置项
});      </pre>
      <table>
        <caption> 参数 </caption>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>direction</td>
          <td>轮播方向：horizontal | vertical</td>
        </tr>
        <tr>
          <td>autoplay</td>
          <td>自动播放：false | true</td>
        </tr>
        <tr>
          <td>breakpoints</td>
          <td>断点设置；仅支持部分属性，如 spaceBetween、slidesPerView等</td>
        </tr>
        <tr>
          <td>centeredSlides</td>
          <td>居中当前幻灯，适合多个幻灯的情况；false | true | auto*</td>
        </tr>
        <tr>
          <td>effect</td>
          <td>过渡效果；slide | fade | cube | coverflow | flip | creative | cards</td>
        </tr>
        <tr>
          <td>xxxeffect</td>
          <td>配合effect进一步定制过渡效果，如cubeeffect</td>
        </tr>
        <tr>
          <td>grabCursor</td>
          <td>抓取|拖拽鼠标样式，概述桌面端体验：false | true</td>
        </tr>
        <tr>
          <td>loop</td>
          <td>循环模式；false | true</td>
        </tr>
        <tr>
          <td>mousewheel</td>
          <td>鼠标滚轮触发导航：false | true</td>
        </tr>
        <tr>
          <td>slidesPerView</td>
          <td>轮播时可以查看幻灯片的个数；默认1张；可以是小数，如 2.2</td>
        </tr>
        <tr>
          <td>spaceBetween</td>
          <td>幻灯片间隔；单位px；不要为幻灯片指定margin</td>
        </tr>
        <tr>
          <td>speed</td>
          <td>幻灯过渡时间；单位ms；300</td>
        </tr>
        <tr>
          <td>on</td>
          <td>注册事件处理</td>
        </tr>
      </table>
    </dd>
    <dt>属性 Properties</dt>
    <dd>
      <div>.轮播图实例化后，可以使用相应的属性和方法实现参数的功能；更多信息，请访问 <a href="https://swiperjs.com/swiper-api#methods--properties">轮播图 -
          Methods & Properties</a></div>
      <pre>swiper.autoplay</pre>
      <table>
        <caption> 属性 </caption>
        <tr>
          <th>分类</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>activeIndex</td>
          <td>当前活动幻灯片；循环模式下容易出现异常</td>
        </tr>
        <tr>
          <td>realIndex</td>
          <td>幻灯片实际索引；推荐使用</td>
        </tr>
        <tr>
          <td>autoplay</td>
          <td>自动播放；鼠标点击修改该属性，仍然会播放一次才停止</td>
        </tr>
        <tr>
          <td>mousewheel</td>
          <td>使用鼠标滚轮导航</td>
        </tr>
      </table>
    </dd>
    <dt>方法 Methods</dt>
    <dd>
      <div>.更多信息，请访问 <a href="https://swiperjs.com/swiper-api#methods--properties">轮播图 - Methods & Properties</a></div>
      <pre>swiper.init()</pre>
      <table>
        <caption> 方法 </caption>
        <tr>
          <th>分类</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>init(el)</td>
          <td>初始化</td>
        </tr>
        <tr>
          <td>swiper.on(event, handler)</td>
          <td>注册事件</td>
        </tr>
      </table>
    </dd>
    <dt>事件 Events</dt>
    <dd class="sn">
      <p>.同轮播图的交互；支持两种形式；更多信息，请访问 <a href="https://swiperjs.com/swiper-api#events">轮播图 - Events</a></p>
      <p>.尽量不要使用箭头函数，避免 this 丢失</p>
      <div>配置形式</div>
      <pre>
const swiper = new Swiper('.swiper', {
  // ...
  on: {
    init: function () {
      console.log('swiper initialized');
    },
  },
});      </pre>
      <div>实例形式</div>
      <pre>
const swiper = new Swiper('.swiper', {
  // ...
});
swiper.on('slideChange', function () {
  console.log('slide changed');
});      </pre>
      <table>
        <caption>
          事件
        </caption>
        <tr>
          <th>分类</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>init</td>
          <td>初始化</td>
        </tr>
        <tr>
          <td>slideChange</td>
          <td>当前活动幻灯切换完毕</td>
        </tr>
      </table>
    </dd>
    <dt class="nav-cont">分页器 Pagination</dt>
    <dd>
      <div>.基类是 swiper-pagination</div>
      <div>.不同的分页器类型有不同的类实现，如子弹类分页器是 swiper-pagination-bullets；分数类型分页器是 swiper-pagination-fraction</div>
      <div>.辅助类 swiper-pagination-horizontal</div>
      <div>.如果仅仅是定义样式，不修改数字格式，可以直接使用默认类重新定制 </div>
      <div>.如果需要定制分页器的结构，则需要使用专门的配置项定制</div>
      <div>.使用绝对定位；默认在底部居中，可以定位在任何地方</div>
      <div>.可以使用全局变量指定导航按钮样式</div>
      <table>
        <caption>分页器 pagination</caption>
        <tr>
          <th>参数</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>type</td>
          <td>类型；进度条 progressbar | 子弹 bullets，默认 | 分数 fraction | 自定义 custom
            <br />每个类型都可进一步定制
          </td>
        </tr>
        <tr>
          <td>clickable</td>
          <td>单击分页跳转到对应页面，默认为 false</td>
        </tr>
        <tr>
          <td>bulletClass</td>
          <td>和子弹类型分页器相关的默认类；swiper-pagination-bullet-custom </td>
        </tr>
        <tr>
          <td>dynamicBullets</td>
          <td>突出/动态展示少量页码；默认是 false</td>
        </tr>
        <tr>
          <td>renderBullet</td>
          <td>(index,className) => {}
            <br />定制子弹类型分页器；返回定制的DOM结构
          </td>
        </tr>
        <tr>
          <td>currentClass</td>
          <td>和分数类型分页器相关的默认类；swiper-pagination-current</td>
        </tr>
        <tr>
          <td>totalClass</td>
          <td>和分数类型分页器相关的默认类；swiper-pagination-total</td>
        </tr>
        <tr>
          <td>renderFraction</td>
          <td>(currentClass, totalClass) => {}
            <br />定制分数类型分页器；返回定制的DOM结构
          </td>
        <tr>
          <td>renderCustom</td>
          <td>定制和自定义类型custom相关的分页器；function(swiper, current, total)</td>
        </tr>
        </tr>
      </table>
      <pre>
.swiper .swiper-pagination-bullet {
  width: 14px;
  height: 14px;
  background-color: #fff;
}

.swiper .swiper-pagination-bullet-active {
  background-color: #f40;
}</pre>
      <p>或</p>
      <pre>
.swiper-pagination-bullet {
  background-color: transparent;
  width: 40px;
  height: 8px;
  border: 1px solid #fff;
  border-radius: 4px;
  opacity: 1;
}

.swiper-pagination-bullet-active {
  background-color: #f40;
}</pre>
    </dd>
    <dt class="nav-cont">导航按钮 button</dt>
    <dd class="sn">
      <div>直接修改</div>
      <pre>
.swiper-button-prev,
.swiper-button-next {
    color: var(--main-color);
}      </pre>
      <div>添加自定义类，指定缩放、颜色、悬停、空白等等样式，甚至响应移动端时，将其隐藏</div>
      <pre>
.swiper .swiper-btn {
  width: 16px;
  height: 16px;
  color: #fff;
  transform: scale(0.6);
}

.swiper .swiper-btn:hover {
  color: var(--pri-color);
}      </pre>
    </dd>
    <dt class="nav-cont">滚动条 scrollbar</dt>
    <dd>
      <pre>
--swiper-navigation-size: 36px;
--swiper-navigation-color: #fff;      </pre>
    </dd>
  </dl>
  <div class="chap">案例 Cases</div>
  <dl class="nav-cont">
    <dd class="example-sn"><a href="../demo/up2u.html">顶部轮播图 - 响应式设置</a></dd>
    <dd>
      <div>默认显示1张幻灯，间隔10px</div>
      <div>达到768时，显示2张，间隔增加到15px</div>
      <div>达到1024时，显示3张，间隔增加到20px</div>
      <pre>
let swiper = new Swiper('.header-swiper', {
  //... ...
  slidesPerView: 1,
  spaceBetween: 10,
  breakpoints: {
    768: {
      slidesPerView: 2,
      spaceBetween: 15
    },
    1024: {
      slidesPerView: 3,
      spaceBetween: 20
    },
  }
});      </pre>
    </dd>
    <dd class="example-sn">定制子弹类分页器</dd>
    <dd class="sn">
      <div> 当前样式 - 背景红色</div>
      <pre>
.swiper-pagination-bullet-active {
  background-color: #f40;
}      </pre>
      <div>点到圆角矩形的变化</div>
      <pre>
.swiper-pagination-bullet {
  width: 8px;
  height: 8px;
  border-radius: 4px;
  transition: width .4s;
}

.swiper-pagination-bullet-active {
  width: 20px;
  background-color: #f40;
}      </pre>
      <div>定位在右侧居中；注意初始化属性 initial 的使用</div>
      <pre>
.swiper-pagination-bullets.swiper-pagination-horizontal {
  width: initial;
  left: initial;
  height: 100%;
  right: 0;
  top: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 10px;
}</pre>
    </dd>
    <dd class="example-sn">
      <a href="https://swiperjs.com/swiper-api#param-renderBullet">定制子弹类型分页器</a>；完整案例请访问 <a href="../demo/car.html">靓车荟
        - Cars</a>
    </dd>
    <dd>默认样式是1 2 3；定制样式为01 02 03，结构发生变化，需要使用renderBullet属性专门定制</dd>
    <dd>
      <div class="swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="/utils/car/car0.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car1.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car2.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car3.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car4.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car5.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car6.png" alt="" />
          </div>
          <div class="swiper-slide">
            <img src="/utils/car/car7.png" alt="" />
          </div>
        </div>

        <div class="swiper-pagination"></div>
      </div>
      <pre>
const swiper = new Swiper('.swiper', {
  loop: true,
  autoplay: true,
  speed: 1200,
  effect: 'fade',
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
    renderBullet: function (index, className) {
      return '<span class="' + className + '">' + String(index + 1).padStart(2, '0') + '</span>';
    }
  }
});</pre>
      <pre>
.swiper {
  width: 100%;
  max-width: 800px;
  aspect-ratio: 4/3;
}

.swiper-slide {
  position: relative;
}

.swiper-slide img {
  position: absolute;
  transform: translateX(50%);
  width: 100%;
  opacity: 0;
  transition: 0.4s;
}

.swiper-pagination-bullets.swiper-pagination-horizontal {
  bottom: 20px;
  display: flex;
  justify-content: center;
}

.swiper-pagination-bullets .swiper-pagination-bullet {
  width: 20px;
  padding: 4px 10px;
  display: grid;
  place-items: center;
  border-radius: 10px;
  background: none;
  opacity: 1;
  align-content: center;
  font-size: 12px;
  color: #000;
  margin: 0;
  border: 1px solid transparent;
}

.swiper-pagination-bullets .swiper-pagination-bullet-active {
  border-color: #000;
}

.swiper-slide-active img {
  transform: translateX(0);
  opacity: 1;
}</pre>
    </dd>
    <dd class="example-sn">定制分数类型分页器</dd>
    <dd>
      <div>默认样式 1/8</div>
      <div>定制样式01/08</div>
      <div>
        因为Swiper没有直接支持分数型且带补零的分页类型，所以我们使用自定义类型的分页器，并通过renderCustom回调来控制其显示内容
      </div>
      <div>参考源码</div>
      <pre>
function formatFraction(currentIndex, totalSlides) {
  const formattedCurrent = String(currentIndex).padStart(2, "0");
  const formattedTotal = String(totalSlides).padStart(2, "0");
  return `&lt;span class="swiper-pagination-current">${formattedCurrent}&lt;/span>/&lt;span class="swiper-pagination-total">${formattedTotal}&lt;/span>`;
}

const swiper = new Swiper(".swiper", {
  loop: true,
  autoplay: true,
  speed: 1200,
  effect: "fade",
  pagination: {
    el: ".swiper-pagination",
    type: "custom", // 使用自定义分页器类型
    renderCustom: function (swiper, current, total) {
      return formatFraction(current, total); // 直接引用formatFraction函数
    },
  },
  on: {
    init: function () {
      // 初始化时更新分页器文本
      this.pagination.renderedFraction = formatFraction(
        this.activeIndex + 1,
        this.slides.length
      );
    },
    slideChange: function () {
      // 每当幻灯片变化时更新分页器文本
      this.pagination.renderedFraction = formatFraction(
        this.activeIndex + 1,
        this.slides.length
      );
    },
  },
});</pre>
    </dd>
    <dd class="example-sn">
      每次幻灯片切换时，为其中的内容 swiperInfo 添加 anime 动画 -
      <a href="../demo/companies.html">个人网站</a>
    </dd>
    <dd>
      <div>同时使用 <a href="./anime.html">Anime.js库</a></div>
      <pre>
const swiperInfo = document.querySelectorAll('.swiper-info')

const swiper = new Swiper('.swiper', {
  // ...
});

swiper.on('slideChange', function () {
  console.log('slide changed');
  anime({
    targets: swiperInfo[swiper.realIndex].children,
    opacity: [0, 1],
    duration: 400,
    easing: "linear",
    delay: anime.stagger(400, { start: 300 }),
    translateY: [anime.stagger(40, 10), 0],
  })
});</pre>
    </dd>
  </dl>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script src="/utils/lib/swiper-11.0.5/package/swiper-bundle.min.js"></script>
  <script src="/utils/custom/ham2024.js"></script>
  <script>
    const swiper = new Swiper(".swiper", {
      loop: true,
      autoplay: true,
      speed: 1200,
      effect: "fade",
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
        renderBullet: function (index, className) {
          return (
            '<span class="' +
            className +
            '">' +
            String(index + 1).padStart(2, "0") +
            "</span>"
          );
        },
      },
      on: {
        click: function (s, e) {
          console.log('click', { s, e });
        }
      }
    });
  </script>
</body>

</html>

</html>
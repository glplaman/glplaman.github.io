<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>动画 Animations</title>
  <link rel="stylesheet" href="../css/timeline.css">
</head>

<body>
  <header id="header">
    <div class="title">
      <h1>动画</h1>
      <span>Animations</span>
    </div>
    <span class="iconfont icon-Sun theme" id="theme"></span>
    <!-- <span class="iconfont icon-Moon-Star"></span> -->
    <span class="iconfont icon-menu ham" id="ham"></span>
    <div class="nav-wrap" id="nav-wrap">
      <div class="logo"></div>
      <nav class="nav">
        <a class="nav-item" style="--s:--n0" href="#objective"><span class="iconfont icon-gpsfixed"></span>
          Objective</a>
        <a class="nav-item" style="--s:--n1" href="#content"><span class="iconfont icon-assignment"></span> Content</a>
        <a class="nav-item" style="--s:--n2" href="#review"><span class="iconfont icon-magicwand"></span> Review</a>
        <a class="nav-item" style="--s:--n3" href="#introduction"><span class="iconfont icon-arrowforward"></span>
          Introduction</a>
        <a class="nav-item" style="--s:--n4" href="#transition"><span class="iconfont icon-photo"></span>
          Transition</a>
        <a class="nav-item" style="--s:--n5" href="#animation"><span class="iconfont icon-nowwallpaper"></span>
          Animation</a>
        <a class="nav-item" style="--s:--n6" href="#timeline"><span class="iconfont icon-collections"></span>
          Timeline</a>
        <a class="nav-item" style="--s:--n7" href="#init"><span class="iconfont icon-menu"></span>
          Initialization</a>
        <a class="nav-item" style="--s:--n8" href="#drill"><span class="iconfont icon-mouse"></span>
          Drill</a>
        <a class="nav-item" style="--s:--n9" href="#summary"><span class="iconfont icon-hangzhengguanli"></span>
          Summary</a>
        <a class="nav-item" style="--s:--n10" href="#homework"><span class="iconfont icon-pen"></span>
          Homework</a>
        <a class="nav-item" style="--s:--n11" href="#reference"><span class="iconfont icon-clip"></span> Reference</a>
      </nav>
    </div>
  </header>
  <!-- <div class="banner"></div> -->
  <section class="section" style="--s:--n0" id="objective">
    <h2>目标 Objective</h2>
    <ul class="objective">
      <li>Lorem ipsum dolor sit amet.</li>
      <li>Perspiciatis, dolores numquam. Voluptas, earum.</li>
      <li>Repellendus quae quasi obcaecati blanditiis!</li>
      <li>Atque iste amet voluptatibus numquam!</li>
      <li>Laborum sed tempore voluptatum adipisci!</li>
    </ul>
  </section>
  <section class="section" style="--s:--n1" id="content">
    <h2>内容 Content</h2>
    <ol>
      <li>Lorem ipsum dolor sit.</li>
      <li>Aperiam beatae odit consectetur?</li>
      <li>Consectetur amet repellat error?</li>
      <li>Cum, delectus deserunt? Magni.</li>
      <li>Atque illum reiciendis ut.</li>
    </ol>
  </section>
  <section class="section" style="--s:--n2" id="review">
    <h2>回顾 Review</h2>
    <ul class="review">
      <li>Lorem ipsum dolor sit amet.</li>
      <li>Quibusdam veritatis repellat magni possimus.</li>
      <li>Consectetur non impedit eos rerum.</li>
      <li>Ratione ea nihil blanditiis vitae?</li>
      <li>Quibusdam, dolorum aliquam. Facere, sequi.</li>
    </ul>
  </section>
  <section class="section" style="--s:--n3" id="introduction">
    <h2>引言 Introduction</h2>
    <figure>
      <img src="" alt="">
      <figcaption>思维导图</figcaption>
    </figure>
  </section>
  <section class="section" style="--s:--n4" id="transition">
    <h2>过渡动画 Transition</h2>
    <ul>
      <li>元素从一个状态过渡到另外一个状态 - define the transition between two states of an element，包括过渡的2个状态、过渡的时间、过渡的方式、是否延迟等属性</li>
      <li>状态过渡需要一个触发条件，通常是鼠标悬停 hover；也可以通过添加/移除类的方式实现</li>
      <li>只能定义2个状态：开始状态、结束状态；如果需要多个状态呈现变化过程，请使用帧动画 animation</li>
      <li>只适用于 <span class="warn">数值</span> 属性状态的变换；如 display:none; 和 display:block; 之间无法实现过渡</li>
      <li>只能作用于当前元素的状态变换；如果多个元素使用，请使用帧动画</li>
      <li>可以是一个属性的状态变换，也可以是多个属性的状态变换，如宽度和颜色都变换；多个属性使用 <span class="warn">逗号,</span> 分隔 - separated by commas</li>
      <li>桌面端使用较多；移动端使用少</li>
    </ul>
    <h3>动画使用 Usage</h3>
    <ul>
      <li>复合属性 shorthand
        <pre>transition: property duration timing-function delay;</pre>
      </li>
      <li>单独属性 longhand
        <pre>
transition-property:
transition-duration:
transition-timing-function:
transition-delay:</pre>
      </li>
    </ul>
    <table>
      <caption>过渡属性</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>property</td>
          <td>元素参与过渡的属性，必须是 <span class="warn">数值型</span> 的属性
            <br>通常指定为 all；<span class="warn">建议</span> 指定为特定属性
          </td>
        </tr>
        <tr>
          <td>duration</td>
          <td>过渡持续时间，单位秒 s 或毫秒 ms，必选参数，且必须是第一个时间参数；第二个时间参数是延迟时间
            <br>UI界面的过渡通常不超过 0.4s
          </td>
        </tr>
        <tr>
          <td>timing-function</td>
          <td>时间函数，过渡的效果/方式
            <br>默认是 ease
          </td>
        </tr>
        <tr>
          <td>delay</td>
          <td>过渡延迟时间，必须是第二个时间参数；第一个时间参数是过渡时间</td>
        </tr>
      </tbody>
    </table>
    <table>
      <caption>时间函数 timing-function</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>linear</td>
          <td>以相同速度开始到结束（ cubic-bezier(0, 0, 1, 1) ）</td>
        </tr>
        <tr>
          <td class="warn">ease</td>
          <td>默认；开始慢，然后快，慢下来，结束时非常慢（ cubic-bezier(0.25, 0.1, 0.25, 1)）</td>
        </tr>
        <tr>
          <td>ease-in</td>
          <td>开始慢，结束快（ cubic-bezier(0.42,0,1,1)</td>
        </tr>
        <tr>
          <td>ease-out</td>
          <td>开始快，结束慢（ cubic-bezier(0,0,0.58,1)</td>
        </tr>
        <tr>
          <td>ease-in-out</td>
          <td>中间快，两边慢（ cubic-bezier(0.42,0,0.58,1)</td>
        </tr>
        <tr>
          <td>cubic-bezier(n,n,n,n)</td>
          <td>在 cubic-bezier 函数中定义自己的值</td>
        </tr>
        <tr>
          <td>steps()</td>
          <td>步进方式变换，见后续内容</td>
        </tr>
      </tbody>
    </table>
    <h3>步进动画 Steps()</h3>
    <ul>
      <li>由时间函数 steps() 指定的一种特殊的分段过渡效果</li>
      <li>number_of_steps：数字，过渡分几个阶段完成</li>
      <li>direction：start 和 end，默认是 <span class="warn">end</span>，指每个阶段过渡结束后才渲染；start 则是过渡开始前就渲染</li>
    </ul>
    <pre>steps(number_of_steps，direction)</pre>
  </section>
  <section class="section" style="--s:--n5" id="animation">
    <h2>帧动画 Animation</h2>
    <h3>动画状态 State</h3>
    <ul>
      <li>初始状态/initial：元素应用动画前的状态</li>
      <li>开始状态/start state/第一个关键帧状态：如果不指定0%或from，则元素初始状态就是开始状态/第一个关键帧状态</li>
      <li>结束状态/end state/最后一个关键帧状态：如果不指定100%或to，则元素初始状态就是结束状态/最后一个关键帧状态</li>
      <li>动画结束后，默认回到初始状态</li>
    </ul>
    <h3>动画定义 @keyframes</h3>
    <ul>
      <li>利用关键字 from 和 to；通常省略 from，表示从初始状态开始；关键字只能定义2个状态
        <pre>
@keyframes ani_name {
    from {
      /* 开始状态/第一个关键帧 */
    }

    to {
      /* 结束状态/最后一个关键帧 */
    }
}</pre>
      </li>
      <li>使用百分比：可以定义多个百分比节点/状态，动画效果更为灵活细腻
        <pre>
@keyframes ani_name {
    0% {  
      /* 开始状态/第一个关键帧 */    
    }

    50% {    
      /* 中间状态/中间关键帧 */  
    }

    100% {  
      /* 结束状态/最后一个关键帧 */    
    }
}</pre>
      </li>
    </ul>
    <h3>动画使用 Usage</h3>
    <ul>
      <li>复合属性语法</li>
      <pre>animation: name duration timing-function delay iteration-count direction fill-mode;</pre>
      <li>单独属性语法</li>
      <pre>
animation-name:
animation-duration:
animation-timing-function:
animation-delay:
animation-iteration-count:
animation-direction:
animation-fill-mode:
</pre>
    </ul>
    <table>
      <caption>动画属性</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>name</td>
          <td>动画名称</td>
        </tr>
        <tr>
          <td>duration</td>
          <td>动画持续时间 - length of time that an animation takes to complete one cycle
            <br>单位秒 s 或毫秒 ms
            <br>必须是正值或0 - must be positive or zero
            <br>必须指定单位 - unit is required
          </td>
        </tr>
        <tr>
          <td>timing-function</td>
          <td>动画方式；见下表</td>
        </tr>
        <tr>
          <td>delay</td>
          <td>动画延迟时间，必须是第2个时间参数
            <br>正值 positive value：推迟
            <br>负值 negative value：提前
          </td>
        </tr>
        <tr>
          <td>iteration-count</td>
          <td>动画播放次数
            <br>数值：默认1
            <br>infinite：无穷；重复播放
          </td>
        </tr>
        <tr>
          <td>direction</td>
          <td>动画方向
            <br>alternate：
            <br>reverse：反向播放
            <br>alternate-reverse：先反向播放，再正向播放
          </td>
          </td>
        </tr>
        <tr>
          <td>fill-mode</td>
          <td>动画<span class="warn">开始和结束</span>时如何应用状态/样式 - applies styles to its target before and after its execution
            <br>none：不指定任何样式；从元素初始状态开始，结束后返回初始状态；默认值
            <br>backwards：动画开始时，从第一个关键帧开始；如果有延迟，将始终保持在当前状态
            <br>forwards：动画结束时，保持在最后一个关键帧 - retain the computed values set by the last keyframe；特别适合多个有延迟的动画
            <br>both：从第一个关键帧开始，结束时保持在最后一个关键帧；不会返回初始状态
          </td>
        </tr>
        <tr>
          <td>animation-play-state</td>
          <td>动画状态 - whether an animation is running or paused
            <br> paused：暂停状态 - currently paused
            <br>running：播放状态 - currently playing
            <br>可以通过 :hover 或 JavaScript 来控制动画的播放状态
          </td>
        </tr>
        <tr>
          <td><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timeline">animation-timeline</a></td>
          <td>动画时间线</td>
        </tr>
      </tbody>
    </table>
    <table>
      <caption>动画方式 animation-timing-function</擦【>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>ease</td>
          <td>默认。动画以低速开始，然后加快，在结束前变慢</td>
        </tr>
        <tr>
          <td>linear</td>
          <td>动画从头到尾的速度是相同的</td>
        </tr>
        <tr>
          <td>ease-in</td>
          <td>动画以低速开始</td>
        </tr>
        <tr>
          <td>ease-out</td>
          <td>动画以低速结束</td>
        </tr>
        <tr>
          <td>ease-in-out</td>
          <td>动画以低速开始和结束</td>
        </tr>
        <tr>
          <td>cubic-bezier(n,n,n,n)</td>
          <td>使用 cubic-bezier 函数定义过程</td>
        </tr>
        <tr>
          <td>steps()</td>
          <td>步进动画方式；见后续内容</td>
        </tr>
      </tbody>
    </table>
    <h3>步进动画 Steps()</h3>
    <ul>
      <li>.动画方式还可以按照指定的阶段数 steps 逐步完成</li>
      <li>.由时间函数 steps() 指定分段过渡效果</li>
      <li>.同过渡动画 transition</li>
      <li>number_of_steps：数字，过渡分几个阶段完成</li>
      <li>direction：start 和 end，默认是 end，指每个阶段过渡结束后才渲染；start 则是过渡开始前就渲染</li>
    </ul>
    <pre>steps(number_of_steps，direction)</pre>
  </section>
  <section class="section" style="--s:--n6" id="timeline">
    <h2>时间轴动画 Timeline</h2>
    <ul>
      <li>元素的动画效果由容器的滚动或视口触发</li>
      <li>不用设置时长 duration，而是取决于用户滚动的速度</li>
      <li>通常指定 animation-fill-mode 为 both</li>
    </ul>
    <table>
      <caption>时间轴动画常用属性</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>animation-timeline</td>
          <td>none | auto | scroll() | view()</td>
        </tr>
        <tr>
          <td>animation-range-start</td>
          <td>动画开始范围；默认 0</td>
        </tr>
        <tr>
          <td>animation-range-end</td>
          <td>动画结束范围；默认 100%</td>
        </tr>
        <tr>
          <td>animation-range</td>
          <td>复合属性；动画范围；默认 0 100%</td>
        </tr>
      </tbody>
    </table>
    <ol>
      <li>view(start,end)
        <ul>
          <li>元素在屏幕/视口可见时才触发 - animation happens only when the element is visible on the screen</li>
          <li>元素进入视口，动画开始播放</li>
          <li>元素到达视口顶部，动画结束播放</li>
          <li>start: Inward offset from beginning of the scrollport. default 0</li>
          <li>end: Inward offset from end of the scrollport. default 0 </li>
          <li>通常取值 view(50% 10%)</li>
        </ul>
        <figure>
          <img src="./imgs/timeline0.png" alt="">
          <figcaption>定制动画视口大小</figcaption>
        </figure>
      </li>

      <li>scroll()</li>
    </ol>
  </section>
  <section class="section" style="--s:--n7" id="init">
    <h2>初始化 Initialization</h2>
  </section>
  <section class="section" style="--s:--n8" id="drill">
    <h2>练习 Drill</h2>
  </section>
  <section class="section" style="--s:--n9" id="summary">
    <h2>小结 Summary</h2>
    <ol>
    </ol>
  </section>
  <section class="section" style="--s:--n10" id="homework">
    <h2>作业 Homework</h2>
    <ol>
    </ol>
  </section>
  <section class="section" style="--s:--n11" id="reference">
    <h2>参考 Reference</h2>
    <ol class="reference">
      <li><a target="_blank" href="./transition.html">过渡动画 transition</a></li>
      <li><a target="_blank" href="./animation.html">帧动画 animation</a></li>
      <li><a target="_blank"
          href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timeline">animation-timeline</a></li>
      <li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-range">animation-range</a>
      </li>
      <li><a target="_blank"
          href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timeline/view#examples">view()</a></li>
      <li><a target="_blank" href="https://scrollrevealjs.org/">Scroll Reveal</a></li>
      <li><a target="_blank" href="https://gsap.com/">GASP</a></li>
    </ol>
  </section>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script src="/utils/custom/timeline.js"></script>
  <!-- <script>
    let header = document.getElementById('header');
    window.addEventListener('scroll', () => {
      header.style.backgroundColor = `rgba(0,0,0,${window.scrollY * 0.01})`
    })
  </script> -->
</body>

</html>
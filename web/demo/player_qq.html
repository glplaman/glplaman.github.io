<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music Player</title>
  <link rel="stylesheet" href="../css/player.css">
</head>

<body>
  <div class="container">
    <aside>
      <img class="logo" src="../imgs/qq.png" alt="">
      <dl>
        <dt class="title-box">
          <span>在线音乐</span>
        </dt>
        <dd class="nav-item" data-tag="音乐馆">
          <span class="iconfont icon-yinle"></span>
          <span>音乐馆</span>
        </dd>
        <dd class="nav-item" data-tag="视频">
          <span class="iconfont icon-a-178-shipin"></span>
          <span>视频</span>
        </dd>
        <dd class="nav-item" data-tag="电台">
          <span class="iconfont icon-radiotower"></span>
          <span>电台</span>
        </dd>
        <dt class="title-box">
          <span>我的音乐</span>
        </dt>
        <dd class="nav-item nav-active" data-tag="我喜欢">
          <span class="iconfont icon-xihuan2"></span>
          <span>我喜欢</span>
        </dd>
        <dd class="nav-item" data-tag="本地和下载">
          <span class="iconfont icon-diannaoduan"></span>
          <span>本地和下载</span>
        </dd>
        <dd class="nav-item" data-tag="最近播放">
          <span class="iconfont icon-shijian"></span>
          <span>最近播放</span>
        </dd>
        <dd>
          <span class="iconfont icon-24gl-playlistMusic4"></span>
          <span>试听列表</span>
        </dd>
        <dt class="title-box">
          <span>创建歌单</span>
          <span class="iconfont icon-plus"></span>
          <span class="iconfont icon-menu-up"></span>
        </dt>
        <dd>试听列表</dd>
        <dt class="title-box">
          <span>收藏歌单</span>
          <span class="iconfont icon-menu-up"></span>
        </dt>
      </dl>
    </aside>
    <main>
      <section class="header">
        <div class="header-left">
          <span class="iconfont icon-menu-left"></span>
          <span class="iconfont icon-menu-right"></span>
          <input type="text" placeholder="搜索音乐">
          <span class="iconfont icon-dingwei"></span>
          <span class="iconfont icon-chuantongbafenyinfu yinfu"></span>
          <span class="iconfont icon-search search"></span>
        </div>
        <div class="header-right">
          <img class="avatar" src="../imgs/avatar.png" alt="">
          <span class="login-txt">大树</span>
          <span class="iconfont icon-menu-down"></span>
          <span class="iconfont icon-clothes"></span>
          <span class="iconfont icon-hanbaocaidanzhedie"></span>
          <span>|</span>
          <span class="iconfont icon-daxiao1"></span>
          <span class="iconfont icon-2zuixiaohua-1"></span>
          <span class="iconfont icon-3zuidahua-3"></span>
          <span class="iconfont icon-4guanbi-1"></span>
        </div>
      </section>
      <div class="cont-box">
        <section class="cont-title">
          <div class="title">我喜欢</div>
          <span class="iconfont icon-24gl-appsBig2"></span>
          <span>智能分类</span>
        </section>
        <section class="cont-nav">
          <ul>
            <li class="cont-nav-item cont-nav-active">歌曲27</li>
            <li class="cont-nav-item">歌单0</li>
            <li class="cont-nav-item">专辑0</li>
            <li class="cont-nav-item">主播电台0</li>
            <li class="cont-nav-item">视频0</li>
          </ul>
          <div class="list-title">
            <span>歌曲<span class="iconfont icon-shangxiazhankai"></span></span>
            <span>歌手</span>
            <span>专辑</span>
          </div>
        </section>
        <section class="cont-list">
          <div class="list-item active" data-src="../music/Alizee-La Isla Bonita.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>La Isla Bonita</span>
            </span>
            <span>Alizee-la</span>
            <span>Alizee-la</span>
          </div>
          <div class="list-item" data-src="../music/Bandari-New Morning.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>New Morning</span>
            </span>
            <span>Bandari</span>
            <span>Bandari</span>
          </div>
          <div class="list-item" data-src="../music/Disclosure-F For You.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>F For You</span>
            </span>
            <span>Disclosure</span>
            <span>Disclosure</span>
          </div>
          <div class="list-item" data-src="../music/Maksim Mrvica-出埃及记.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>出埃及记</span>
            </span>
            <span>Maksim Mrvica</span>
            <span>Maksim Mrvica</span>
          </div>
          <div class="list-item" data-src="../music/Shakira-Whenever, Wherever.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>Whenever, Wherever</span>
            </span>
            <span>Shakira</span>
            <span>Shakira</span>
          </div>
          <div class="list-item" data-src="../music/wang.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>微风细雨</span>
            </span>
            <span>王菲</span>
            <span>王菲</span>
          </div>
          <div class="list-item" data-src="../music/Alizee-La Isla Bonita.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>La Isla Bonita</span>
            </span>
            <span>Alizee-la</span>
            <span>Alizee-la</span>
          </div>
          <div class="list-item" data-src="../music/Bandari-New Morning.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>New Morning</span>
            </span>
            <span>Bandari</span>
            <span>Bandari</span>
          </div>
          <div class="list-item" data-src="../music/Disclosure-F For You.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>F For You</span>
            </span>
            <span>Disclosure</span>
            <span>Disclosure</span>
          </div>
          <div class="list-item" data-src="../music/Maksim Mrvica-出埃及记.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>出埃及记</span>
            </span>
            <span>Maksim Mrvica</span>
            <span>Maksim Mrvica</span>
          </div>
          <div class="list-item" data-src="../music/Shakira-Whenever, Wherever.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>Whenever, Wherever</span>
            </span>
            <span>Shakira</span>
            <span>Shakira</span>
          </div>
          <div class="list-item" data-src="../music/wang.mp3">
            <span>
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span>微风细雨</span>
            </span>
            <span>王菲</span>
            <span>王菲</span>
          </div>
        </section>
      </div>
      <section class="per">
        <input type="range" min="0" step="1" value="0" title="percent">
      </section>
      <section class="player">
        <div class="player-left">
          <img src="" alt="" title="cover" class="cover">
          <div class="player-left-info">
            <div>霜华月影</div>
            <div class="player-left-desc">
              <span class="iconfont icon-xihuan icon-fav"></span>
              <span class="iconfont icon-xiangxia1"></span>
              <span class="iconfont icon-common"></span>
              <span class="iconfont icon-24gl-bubbleDots4"></span>
            </div>
          </div>
        </div>
        <div class="player-middle">
          <span class="iconfont icon-24gl-repeat2" id="player-mode"></span>
          <span class="iconfont icon-zuiqian"></span>
          <span class="iconfont icon-24gl-play  ctrl"></span>
          <span class="iconfont icon-zuihou"></span>
          <span class="iconfont icon-24gl-volumeHigh"></span>
          <div class="player-mode-ctrl">
            <div class="player-ctrl-item">
              <span class="iconfont icon-24gl-shuffle"></span>
              <span>随机播放</span>
            </div>
            <div class="player-ctrl-item">
              <span class="iconfont icon-24gl-indent2"></span>
              <span>顺序播放</span>
            </div>
            <div class="player-ctrl-item">
              <span class="iconfont icon-24gl-repeat2"></span>
              <span>单曲循环</span>
            </div>
            <div class="player-ctrl-item">
              <span class="iconfont icon-24gl-repeatOnce2"></span>
              <span>列表循环</span>
            </div>
          </div>
        </div>
        <div class="player-right">
          <span id="time0">00:00</span>
          <span>/</span>
          <span id="time1">00:00</span>
          <span>词</span>
          <span class="iconfont icon-24gl-playlistMusic4" style="color: #1ecf9e;"></span>
          <span style="color: #1ecf9e;">28</span>
        </div>
      </section>
    </main>
  </div>
  <script>
    function fn(el) {
      return document.querySelector(el);
    }
    function timeConvert(t) {
      let min = Math.floor(t / 60)
      let sec = t % 60
      return (min > 9 ? min : '0' + min) + ':' + (sec > 9 ? sec : '0' + sec)

    }
    function loadData() { }
    window.onload = function () {
      let per = fn('.per input');
      let time1 = fn('#time1');
      let audio = new Audio();
      // list-item
      let lists = document.querySelectorAll('.list-item')
      lists.forEach(list => {
        list.addEventListener('click', function (e) {
          audio.src = this.getAttribute('data-src');
          audio.play();
          audio.onloadedmetadata = function (e) {
            per.setAttribute('max', e.target.duration.toFixed(0));
            console.log(e.target.duration.toFixed(0));
            time1.innerHTML = timeConvert(e.target.duration.toFixed(0))
          }
          audio.onplaying = function (e) {
            console.log(e);
          }
          audio.onplay = function (e) {
            console.log(e);
          }
        })
      })
      // fav
      let favs = document.querySelectorAll('.icon-fav')
      favs.forEach(item => {
        item.addEventListener('click', () => {
          item.classList.toggle('icon-xihuan2');
          item.style.color = '#f40'
        })
      })
      // player-mode-ctrl
      let playerMode = fn('.player-mode-ctrl')
      fn('#player-mode').addEventListener('click', () => {
        playerMode.style.display = 'block'
      })
    }
  </script>
</body>

</html>
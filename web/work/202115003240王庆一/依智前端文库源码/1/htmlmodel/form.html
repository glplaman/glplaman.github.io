<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>表单 Form</title>
  <link rel="stylesheet" href="./css/styleNew.css">
  <link rel="stylesheet" href="./css/form.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>&commat;Form</h1>
    <span class="iconfont icon-menu ham"></span>
    <ul class="nav">
      <li class="nav-item active">form</li>
      <li class="nav-item">input</li>
      <li class="nav-item">input样式</li>
      <li class="nav-item">input事件</li>
      <li class="nav-item">select</li>
      <li class="nav-item">textarea</li>
      <li class="nav-item">button</li>
    </ul>
  </header>
  <div class="chap nav-cont">表单 &lt;form&gt;</div>
  <dl>
    <dd>. 通过种类多样的表单元素，以值对 name-value 的形式收集/采集数据，提交给后端服务器backend server处理</dd>
    <dd>. 表单本身并不可见；表单元素可见</dd>
    <dd>
      <pre>&lt;form action="" method="" name=""&gt;&lt;/form&gt;</pre>
    </dd>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>action</td>
          <td>表单提交后端处理；通常由服务器端脚本负责处理，如PHP或Node.js</td>
        </tr>
        <tr>
          <td>method</td>
          <td>表单提交的方式，常见有GET | POST；默认GET
            <br>GET：获取数据，数据地址栏可见；数据少，不安全；便于分享[绩效]，通常使用各种ID来标记资源<br>POST：提交数据；数据不可见；数据多，安全；适合上传数据，如用户注册
          </td>
        </tr>
        <tr>
          <td>name</td>
          <td>区分页面中不同的表单</td>
        </tr>
      </table>
    </dd>
    <dt>常见表单元素</dt>
    <dd>. 表单元素类型很多，每个必须指定name，否则提交时无法获取数据；常见的表单元素如下表</dd>
    <dd>. 由于表单元素默认的样式极其丑陋且不一致，需要自定义样式</dd>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>&lt;input&gt;</td>
          <td>供用户输入/选择，类型最为丰富，应用最多</td>
        </tr>
        <tr>
          <td>&lt;select&gt;</td>
          <td>下拉列表</td>
        </tr>
        <tr>
          <td>&lt;textarea&gt;</td>
          <td>多行输入</td>
        </tr>
        <tr>
          <td>&lt;button&gt;</td>
          <td>提交按钮；通过type可以指定为提交submit或清除reset；默认是submit；也可以通过&lt;input&gt;指定其type为button</td>
        </tr>
        <tr>
          <td>&lt;fieldset&gt;</td>
          <td>分组表单元素</td>
        </tr>
        <tr>
          <td>&lt;legend&gt;</td>
          <td>分组的标题；分组的好处是操作整个分组，如使用disabled属性禁止整个分组</td>
        </tr>
        <tr>
          <td>&lt;datalist&gt;</td>
          <td>以下拉列表的形式，为input等文本输入元素提供一个输入可选项；使用list属性和对应文本元素的id绑定在一起</td>
        </tr>
      </table>
    </dd>
    <dt>表单事件类型</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>提交 submit</td>
          <td>按照name-value的形式将各表单元素的数据提交给后端backend处理；默认页面会跳转，通常会阻止该事件</td>
        </tr>
        <tr>
          <td>清除 reset</td>
          <td>清除各表单元素数据</td>
        </tr>
      </table>
    </dd>
    <dd>
      <pre>
&lt;form action=""&gt;
  &lt;input type="text" name="uname" id=""&gt;
  &lt;input type="text" name="upass" id=""&gt;
  &lt;input type="submit" value="submit"&gt;
  &lt;input type="reset" value="reset"&gt;
&lt;/form&gt;</pre>
    </dd>
  </dl>
  <div class="chap nav-cont">&lt;input&gt;</div>
  <dl>
    <dd>. 应用最广泛的表单元素；有很多种类type，默认是text，单行文本输入</dd>
    <dd>
      <pre>&lt;input type = "text"&gt;</pre>
    </dd>
    <dt>常用属性</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>type</td>
          <td>input类型，如：单选radio、多选checkbox等</td>
        </tr>
        <tr>
          <td>name</td>
          <td>提交时，由后端区别不同类型元素的值；还可以对元素分类，如一组单选按钮</td>
        </tr>
        <tr>
          <td>value</td>
          <td>值</td>
        </tr>
        <tr>
          <td>maxlength</td>
          <td>最大字符数</td>
        </tr>
        <tr>
          <td>id</td>
          <td>多用于js控制；或配合&lt;label&gt;使用，增强用户体验</td>
        </tr>
        <tr>
          <td>placeholder</td>
          <td>内容占位符，显示提示信息</td>
        </tr>
        <tr>
          <td>checked</td>
          <td>是否选中；selected表示select的默认选中</td>
        </tr>
        <tr>
          <td>disabled</td>
          <td>是否可用</td>
        </tr>
        <tr>
          <td>autocomplete</td>
          <td>提示历史输入，方便自动完成，一般配合datalist</td>
        </tr>
        <tr>
          <td>autofocus</td>
          <td>自动获取焦点</td>
        </tr>
        <tr>
          <td>required</td>
          <td>必填字段；否则会把空的当成有效字符</td>
        </tr>
        <tr>
          <td>pattern</td>
          <td>利用正则表达式提供验证功能，如：pattern="^[a-zA-Z]\w{4,9}$"</td>
        </tr>
      </table>
    </dd>
    <dt>常用类型</dt>
    <dd>. 更多input类型，请访问 <a href="./input.html">input</a>一节</dd>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>text</td>
          <td>单行文本输入；默认类型</td>
        </tr>
        <tr>
          <td>password</td>
          <td>密码输入</td>
        </tr>
        <tr>
          <td>radio</td>
          <td>单选按钮；多个选一个</td>
        </tr>
        <tr>
          <td>checkbox</td>
          <td>多选按钮</td>
        </tr>
        <tr>
          <td>file</td>
          <td>文件选择按钮，请参考 <a href="./file.html">file</a></td>
        </tr>
        <tr>
          <td>number</td>
          <td>数值，如输入电话号码</td>
        </tr>
        <tr>
          <td>range</td>
          <td>指定数值范围选择，如音量选择</td>
        </tr>
        <tr>
          <td>color</td>
          <td>颜色选择</td>
        </tr>
        <tr>
          <td>submit</td>
          <td>数据提交按钮</td>
        </tr>
        <tr>
          <td>reset</td>
          <td>数据复位按钮</td>
        </tr>
      </table>
    </dd>
    <dt>基本使用</dt>
    <dd>. 为了扩展交互热区，增强用户体验，input通常使用id属性，配合&lt;label&gt;的for属性一起使用</dd>
    <dd>. &lt;label&gt;不能嵌套&lt;div&gt;</dd>
    <dd>1. 默认下，由于元素比较小，用户点击没有那么方便，尤其是单选或多选</dd>
    <dd>
      <pre>&lt;input type = "text"&gt;</pre>
    </dd>
    <dd>2. 改进使用1-通过id将&lt;label&gt;和&lt;input&gt;绑定起来，点击了&lt;label&gt;就相当于选择了&lt;input&gt;</dd>
    <dd><i class="fa-solid fa-star"></i> 方便使用相邻选择器操作元素</dd>
    <dd>
      <pre>
&lt;input type='text' id=''&gt;
&lt;label for=''&gt;text here&lt;/label&gt;</pre>
    </dd>
    <dd>3. 改进使用2-使用&lt;label&gt;包裹&lt;input&gt;，请移除for属性</dd>
    <dd>
      <pre>
&lt;label&gt;
    &lt;input type='text'&gt;text here
&lt;/label&gt;</pre>
    </dd>
    <dd>. 也可以使用&lt;span&gt;包裹文本信息，结构更加清晰</dd>
    <dd>
      <pre>
&lt;label&gt;
    &lt;input type='text'&gt;
    &lt;span&gt;text here&lt;/span&gt;
&lt;/label&gt;</pre>
    </dd>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] input-range</dd>
    <dd>.To add tick marks to a range control, include the list attribute, giving it the id of a &lt;datalist&gt;
      element which defines a series of tick marks on the control. Each point is represented using an &lt;option&gt;
      element with its value set to the range's value at which a mark should be drawn.</dd>
    <dd>.You can label tick marks by giving the &lt;option&gt; elements label attributes. However, the label content
      will not be displayed by default. You can use CSS to show the labels and to position them correctly.</dd>
    <dd>.min、max、step、list</dd>
    <dd>.datalist：value、label</dd>
    <dd class="range">
      <input type="range" name="" id="" min="0" max="10" step="2" list="item">
      <datalist class="datalist-h" id="item">
        <option value="0" label="0"></option>
        <option value="2" label="2"></option>
        <option value="4" label="4"></option>
        <option value="6" label="6"></option>
        <option value="8" label="8"></option>
        <option value="10" label="10"></option>
      </datalist>
    </dd>
    <dd class="txt-center">水平</dd>
    <dd class="range-box">
      <input class="range-v" type="range" name="" id="" min="0" max="10" step="2" list="item">
      <datalist class="datalist-v" id="item">
        <option value="0" label="0"></option>
        <option value="2" label="2"></option>
        <option value="4" label="4"></option>
        <option value="6" label="6"></option>
        <option value="8" label="8"></option>
        <option value="10" label="10"></option>
      </datalist>
    </dd>
    <dd class="txt-center">垂直</dd>
  </dl>
  <div class="chap nav-cont">&lt;input&gt;样式</div>
  <dl>
    <dt>说明</dt>
    <dd>. 表单元素在不同浏览器上的默认样式不尽相同，为了统一，通常需要覆盖默认样式，再重新自定义新的样式</dd>
    <dd>. 部分样式需要使用浏览器前缀</dd>
    <dd>. 方便起见，设置各表单元素为border-box</dd>
    <dd>. 部分元素可以设置appearance为none，从头开始设计UI</dd>
    <dd>. form布局可以使用表格；也可以使用其它布局方式</dd>
    <dd>. 以下各例，如无特殊说明，均进行初始化设计</dd>
    <dd>. 请多参考底部的 can i use，避免样式使用异常</dd>
    <dt>相关伪元素</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>::placeholder</td>
          <td>占位符样式</td>
        </tr>
        <tr>
          <td>::selection</td>
          <td>元素选中部分样式</td>
        </tr>
      </table>
    </dd>
    <dt>相关伪类</dt>
    <dd><i class="fa-solid fa-bell"></i> 以下伪类都可以配合:not()使用</dd>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>:focus</td>
          <td>获取焦点时</td>
        </tr>
        <tr>
          <td>:checked</td>
          <td>元素选择中</td>
        </tr>
        <tr>
          <td>:valid</td>
          <td>有效时</td>
        </tr>
        <tr>
          <td>:invalid</td>
          <td>无效时</td>
        </tr>
        <tr>
          <td>:in-range</td>
          <td>在指定范围</td>
        </tr>
        <tr>
          <td>:out-of-range</td>
          <td>超出指定范围</td>
        </tr>
        <tr>
          <td>:placeholder-shown</td>
          <td>占位符显式[必须有占位符]</td>
        </tr>
      </table>
    </dd>
    <dt>新CSS样式</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>accent-color</td>
          <td>指定部分控件的颜色，如&lt;input&gt;的radio、checkbox、range和&lt;progress&gt;；抛弃原来丑到爆的样式</td>
        </tr>
      </table>
    </dd>
    <dd>可以统一指定</dd>
    <dd>
      <pre>
:root {
  accent-color: #f40;
}</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] input初始化设置</dd>
    <dd>. 字体大小、类型、边框、轮廓</dd>
    <dd>. 默认的占位符样式和文本选择样式</dd>
    <dd>. 通常根据type修改特定的表单元素</dd>
    <dd>
      <pre>
input[type=text] {
    width: 100%;
    border: none;
    outline: none;
    font: inherit;
    box-sizing: border-box;
    background-color: transparent;
}
    
input[type=text]::placeholder {
    color: #089;
}

input[type=text]::selection {
    color: #F40;
}</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 自定义radio-利用:checked</dd>
    <dd>方案1. 额外增加元素，替换/隐藏&lt;input&gt;</dd>
    <dd>. 伪元素 ::after</dd>
    <dd>. 相邻兄弟选择器 +</dd>
    <dd>
      <table>
        <tr>
          <td>Gender</td>
          <td>
            <label class="label-custom">
              <input type="radio" name="cgender" checked>
              <span class="radio"></span>
              <span>Male</span>
            </label>
            <label class="label-custom">
              <input type="radio" name="cgender">
              <span class="radio"></span>
              <span>Female</span>
            </label>
          </td>
        </tr>
      </table>
    </dd>
    <dd>[ HTML ]</dd>
    <dd>
      <pre>
&lt;label class="label-custom"&gt;
    &lt;input type="radio" name="cgender" checked&gt;
    &lt;span class="radio"&gt;&lt;/span&gt;
    &lt;span&gt;Male&lt;/span&gt;
&lt;/label&gt;</pre>
    </dd>
    <dd>[ CSS ]</dd>
    <dd>
      <pre>
.label-custom {
    cursor: pointer;
}

.label-custom input {
    display: none;
    //appearance: none;
}

.label-custom span {
    vertical-align: middle;
}

.label-custom .radio {
    display: inline-block;
    position: relative;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    border: 2px solid #666;
}

.label-custom input:checked+.radio {
    border-color: #f40;
}

.label-custom input:checked+.radio::after {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #f40;
}</pre>
    </dd>
    <dd>方案2. 直接使用&lt;label&gt;替换&lt;input&gt;：可以是文字、图片、字体图标；详情请参考 <a href="./demo/site.html">个人网站</a>
    </dd>
    <dd class="mt2" id="cb">[ <span class="iconfont icon-keyboard"></span> ]
      自定义checkbox-利用伪&lt;label&gt;的伪元素实现；点击时跳转其位置从左边到右边
    </dd>
    <dd>. &lt;label&gt;是inline，要转换为block才可以设置宽高</dd>
    <dd>. 没有使用传统的父相子绝方式，而是让伪元素相对位置发生变化[作为子元素，它本来就在父元素的开始位置]</dd>
    <dd>. 也可以使用accent-color修改默认的背景颜色，简单快捷，但是只适用于部分表单元素</dd>
    <dd>
      <input type="checkbox" id="cb-custom" hidden>
      <label for="cb-custom" class="cb-custom"></label>
    </dd>
    <dd>[ HTML ]</dd>
    <dd>
      <pre>
&lt;input type="checkbox" id="cb-custom" hidden&gt;
&lt;label for="cb-custom" class="cb-custom"&gt;&lt;/label&gt;</pre>
    </dd>
    <dd>[ CSS ]</dd>
    <dd>
      <pre>
.cb-custom {
  display: block;
  margin: 2rem auto;
  width: 80px;
  height: 40px;
  border: 2px solid var(--main-color-gray);
  padding: 2px;
  border-radius: 20px;
  cursor: pointer;
}

.cb-custom::before {
  content: '';
  position: relative;
  display: block;
  left: 0px;
  width: 50%;
  height: 100%;
  background-color: var(--main-color-gray);
  border-radius: 50%;
  transition: 0.4s;
}

#cb-custom:checked+.cb-custom::before {
  left: 50%;
  background-color: var(--main-color-blue);
}</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 自定义range-利用appearance</dd>
    <dd>. 默认高度是16px</dd>
    <dd>. 直接修改滑块背景的样式</dd>
    <dd>. 滑块的样式需要使用浏览器前缀</dd>
    <dd>
      <input class="range-bar" type="range" min="0" max="100" value="50">
    </dd>
    <dd>
      <pre>
.range-bar {
    appearance: none;
    background-image: linear-gradient(74deg, #16a085, #1abc9c);
    border-radius: 16px;
    border: 2px solid #fff;
    box-shadow: 0 0 10px rgba(0, 0, 0, .2);
}

.range-bar::-webkit-slider-thumb {
    appearance: none;
    width: 20px;
    height: 20px;
    background-color: #f1c40f;
    border-radius: 50%;
    transition: 0.5s;
}

.range-bar:active::-webkit-slider-thumb {
    box-shadow: 0 0 10px 4px #f39c12;
}</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 自定义fieldset</dd>
    <dd>. 可以单独设置每一条边；还可以使用定位任意放置legend</dd>
    <dd>
      <form action="" class="fieldset">
        <fieldset>
          <legend>information</legend>
        </fieldset>
        <fieldset>
          <legend>teamwork</legend>
        </fieldset>
        <fieldset>
          <legend>certificates</legend>
        </fieldset>
      </form>
    </dd>
    <dd>
      <pre>
.fieldset fieldset {
  position: relative;
  border: 1px solid var(--main-color-dark);
  border-top: 10px solid var(--main-color-blue);
  margin-bottom: 2rem;
}
.fieldset legend {
  font-size: 1.2rem;
  margin: 0 auto;
  padding: 0 1rem;
  text-transform: capitalize;
}
.fieldset fieldset:nth-child(2) legend {
  position: absolute;
  right: 40px;
  top: -20px;
  background-color: #fff;
}
.fieldset fieldset:nth-child(3) legend {
  position: absolute;
  left: 40px;
  bottom: -20px;
  background-color: #fff;
}</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] :focus - 获取焦点</dd>
    <dd>. 初始设计：边框border、占位符placeholder颜色，填充padding-left、背景background透明</dd>
    <dd>. :hover：边框换色</dd>
    <dd>. :focus：边框换色、字体颜色；后期可用使用动画设计呼吸灯效果</dd>
    <dd>. :valid内容有效时，通常配合:focus一起使用</dd>
    <dd>
      <table>
        <tr>
          <td><label for="user">用户</label></td>
          <td><input class="custom-ipt" type="text" placeholder="昵称" maxlength="8" id="user"></td>
        </tr>
      </table>
    </dd>
    <dd>
      <pre>
.custom-ipt::placeholder {
    color: #999;
}

.custom-ipt::selection {
    color: #089;
}

.custom-ipt:hover {
    border-color: #999;
}

.custom-ipt:focus,
.custom-ipt:valid {
    border-color: #089;
    color: #f40;
}</pre>
    </dd>
  </dl>
  <div class="chap nav-cont">&lt;input&gt;事件</div>
  <dl>
    <dt>事件类型</dt>
    <dd>. 事件处理的业务逻辑在&lt;script&gt;中；建议使用外部.js文件</dd>
    <dd>. 没有失去焦点的伪类选择器；只能通过事件onblur检测</dd>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>input</td>
          <td>数据输入时；使用时要采用 <a href="./js/debounce.html">防抖</a> 措施</td>
        </tr>
        <tr>
          <td>change</td>
          <td>数据改变且失去焦点</td>
        </tr>
        <tr>
          <td>keypress</td>
          <td>按键按下并保持</td>
        </tr>
        <tr>
          <td>keydown</td>
          <td>按键按下</td>
        </tr>
        <tr>
          <td>keyup</td>
          <td>按键释放</td>
        </tr>
        <tr>
          <td>blur</td>
          <td>失去焦点</td>
        </tr>
      </table>
    </dd>
    <dt>事件处理一般步骤</dt>
    <dd>1. 获取input元素 querySelector；更多信息，请参考 <a href="./js/dom.html">DOM</a></dd>
    <dd>2. 添加事件侦听器 addEventListener；更多信息，请参考 <a href="./js/event.html">Event</a></dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 播放器进度条</dd>
    <dd>[H5] audio | button | input[range]</dd>
    <dd>[C3] appearance</dd>
    <dd>[JS] click | input | loadmetadata | timeupdate | querySelector</dd>
    <dd id="player">
      <audio src="./music/Alizee-La Isla Bonita.mp3"></audio>
      <button class="btn">play</button>
      <input type="range" name="" id="dur-slider" min="0" max="100" value="0" class="custom-range">
    </dd>
    <dd>[CSS]</dd>
    <dd>
      <pre>
#player button {
  width: 120px;
}

#player input {
  width: 100%;
}

.custom-range {
  appearance: none;
  height: 10px;
  background-color: #01b4ff;
  border: 2px solid #fff;
  border-radius: 10px;
  box-shadow: 1px 1px 4px rgba(0, 0, 0, .2);
}

.custom-range::-webkit-slider-thumb {
  appearance: none;
  width: 15px;
  height: 15px;
  background-color: #fff;
  border: 1px solid #01b4ff;
  border-radius: 50%;
  cursor: pointer;
}

.custom-range::-webkit-slider-thumb:hover {
  background-color: #ff0;
}</pre>
    </dd>
    <dd>[Javascript]</dd>
    <dd>
      <pre>
let bool = false;
let player = document.querySelector('#player');
let audioIpt = player.querySelector('audio');
let btnIpt = player.querySelector('button');
let sliderIpt = player.querySelector('input');
audioIpt.src = '/music/Alizee-La Isla Bonita.mp3';
audioIpt.addEventListener('loadedmetadata', () => {
  sliderIpt.max = audioIpt.duration;
})
audioIpt.addEventListener('timeupdate', () => {
  sliderIpt.value = Math.floor(audioIpt.currentTime);
})
audioIpt.addEventListener('ended', () => {
  sliderIpt.value = 0;
  // audioIpt.pause();
  btnIpt.innerHTML = 'play';
  bool = false;
})
btnIpt.addEventListener('click', () => {
  if (bool) {
    audioIpt.pause();
    btnIpt.innerHTML = 'play';
    bool = false;
  } else {
    audioIpt.play();
    btnIpt.innerHTML = 'pause';
    bool = true;
  }
})
sliderIpt.addEventListener('input', () => {
  audioIpt.currentTime = sliderIpt.value;
  audioIpt.play();
  btnIpt.innerHTML = 'pause';
  bool = true;
})</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 输入长度提示-检测input值</dd>
    <dd>. 获取input元素：querySelector</dd>
    <dd>. 获取input元素的maxlength属性/最大长度：el.getAttribute()</dd>
    <dd>. 获取当前输入的值的长度：el.value.length</dd>
    <dd>
      <table class="input-tbl">
        <tr>
          <td id="len-val">还可以输入8</td>
          <td><input type="text" name="len" id="len-ipt" maxlength="8" placeholder="text here"></td>
        </tr>
      </table>
    </dd>
    <dd>[HTML]</dd>
    <dd>
      <pre>
&lt;input type="text" name="len" id="len-ipt" required maxlength="8" placeholder="text here"&gt;</pre>
    </dd>
    <dd>[JavaScript] 将input事件分别修改为change事件、keyup事件、blur事件，体会他们之间的不同</dd>
    <dd>
      <pre>
let lenIpt = document.querySelector('#len-ipt');
let lenVal = document.querySelector('#len-val');
lenIpt.addEventListener('input', function () {
    lenVal.innerHTML = '还可以输入' + (this.getAttribute('maxlength') - this.value.length)
})</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 显示密码-修改input类型</dd>
    <dd>. 部分系统自带有显式密码功能</dd>
    <dd>. 部分系统要求密码框必须位于表单form中，且应该指定自动完成autocomplete</dd>
    <dd>
      <table class="input-tbl">
        <tr>
          <td>
            <label for="sp-ipt">密码</label>
          </td>
          <td>
            <form action="">
              <input type="password" id="sp-ipt" placeholder="your password" maxlength="8" autocomplete>
            </form>
          </td>
          <td>
            <input type="button" value="显示密码" id="sp-btn" class="btn">
          </td>
        </tr>
      </table>
    </dd>
    <dd>
      <pre>
let spBtn = document.querySelector('#sp-btn');
let spIpt = document.querySelector('#sp-ipt');
spBtn.addEventListener('click', () => {
    if (spIpt.type == 'text') {
        spIpt.type = 'password'
        spBtn.value = '显示密码'
    } else {
        spIpt.type = 'text'
        spBtn.value = '隐藏密码'
    }
})</pre>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 全选-修改input属性</dd>
    <dd>. 利用元素的checked属性判断当前选择状态；如果全选为真/选中，则所有选项都置为真/选中；否则取消全选/置为假</dd>
    <dd>. 统计选中的个数，如果等于选项个数，则全选；如果为0，则全不选</dd>
    <dd>. 更多案例，请参考 <a href="./js/dom.html">DOM</a></dd>
    <dd>
      <table class="input-tbl">
        <tr>
          <td>
            <span>WEB前端</span>
          </td>
          <td>
            <label><input type="checkbox" name="web" value="HTML" id="h5">HTML</label>
            <label><input type="checkbox" name="web" value="CSS" id="c3">CSS</label>
            <label><input type="checkbox" name="web" value="JAVASCRIPT" id="js">JAVASCRIPT</label>
          </td>
          <td>
            <label>
              <input type="radio" name="sel" id="all" value="yes">
              <span>全选</span>
            </label>
            <label>
              <input type="radio" name="sel" id="all-no" value="no">
              <span>全不选</span>
            </label>
          </td>
        </tr>
      </table>
    </dd>
    <dd>
      <pre>
let cbs = document.querySelectorAll('input[name="web"]');
let all = document.querySelector('#all');
let allNo = document.querySelector('#all-no');
all.addEventListener('change', function (e) {
  console.log(this.checked);
  if (this.checked) {
    for (let i = 0; i &le; cbs.length; i++) {
      cbs[i].checked = true
    }
  }
})

allNo.addEventListener('change', function (e) {
  console.log(this.checked);
  if (this.checked) {
    for (let i = 0; i &le; cbs.length; i++) {
      cbs[i].checked = false
    }
  }
})

cbs.forEach(item => {
  item.addEventListener('change', function () {
    let num = 0
    for (let j = 0; j &le; cbs.length; j++) {
      if (cbs[j].checked) {
        num++;
      }
    }
    console.log((num));
    if (num == 3)
      all.checked = true;
    else if (num == 0)
      allNo.checked = true;
    else {
      all.checked = false;
      allNo.checked = false;
    }
  })
})</pre>
    </dd>
  </dl>
  <div class="chap nav-cont">下拉列表 &lt;select&gt;</div>
  <dl>
    <dd>. 配合&lt;option&gt;使用，其子元素只能是&lt;option&gt;</dd>
    <dd>. 使用&lt;optgroup&gt;分组；分组标题不能选择，仅仅作为提示</dd>
    <dd>. &lt;select&gt;的宽度决定了&lt;option&gt;的宽度</dd>
    <dd>. 可以单独设置&lt;select&gt;和&lt;option&gt;的字体颜色、大小，其它可以设置的属性比较少</dd>
    <dd>. &lt;option&gt;很难动态增加或减少</dd>
    <dd>. 默认样式极其丑陋</dd>
    <dd>. appearance: none;可以去掉默认的小箭头以便重新设计样式</dd>
    <dd>. 如果需要动态增加或减少选项，需要从头定制。如利用无序列表实现选项；更多设计技巧，请访问 <a href="https://www.filamentgroup.com/lab/select-css.html">making
        a better one</a>
    </dd>
    <dt>属性</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>size</td>
          <td>显示几个option；通常不指定，以免影响页面布局</td>
        </tr>
        <tr>
          <td>selected</td>
          <td>默认选中当前&lt;option&gt;</td>
        </tr>
        <tr>
          <td>multiple</td>
          <td>多选；使用较少</td>
        </tr>
      </table>
    </dd>
    <dt>事件</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>change</td>
          <td>选择改变时</td>
        </tr>
      </table>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 单选并获取数据</dd>
    <dd>
      <table class="input-tbl">
        <tr>
          <td>城市</td>
          <td><select name="school" id="school-single">
              <option value="guilin">guilin</option>
              <option value="xiamen">xiamen</option>
              <option value="foshan">foshan</option>
              <option value="haikou" selected>haikou</option>
            </select>
          </td>
        </tr>
      </table>
    </dd>
    <dd>[ HTML ]</dd>
    <dd>
      <pre>
&lt;select name="school" id="school-single"&gt;
    &lt;option value="guilin"&gt;guilin&lt;/option&gt;
    &lt;option value="xiamen"&gt;xiamen&lt;/option&gt;
    &lt;option value="foshan"&gt;foshan&lt;/option&gt;
    &lt;option value="haikou" selected&gt;haikou&lt;/option&gt;
&lt;/select&gt;</pre>
    </dd>
    <dd>[ JavaScript ]</dd>
    <dd>
      <pre>
let single = document.querySelector("#school-single")
single.addEventListener('change', function () {
    console.log(this.value);
})</pre>
    </dd>
    <dd class="mt2">[ <i class="fa-solid fa-keyboard"></i> ] 定制样式-元素覆盖法</dd>
    <dd>. 只显示长的备选信息中的关键信息</dd>
    <dd>
      <table>
        <tr>
          <td>城市</td>
          <td class="custom-wrap">
            <select name="schoolC" id="school-custom">
              <option value="桂林">广西壮族自治区桂林市</option>
              <option value="厦门">福建省厦门市</option>
              <option value="佛山">广东省佛山市</option>
              <option value="海口" selected>海南省海口市</option>
            </select>
            <div class="mask">123</div>
            <span class="iconfont icon-unfoldmore"></span>
          </td>
        </tr>
      </table>
    </dd>
    <dd>[ HTML ]</dd>
    <dd>
      <pre>
&lt;div class="custom-wrap"&gt;
    &lt;select name="schoolC" id="school-custom"&gt;
        &lt;option value="桂林"&gt;广西壮族自治区桂林市&lt;/option&gt;
        &lt;option value="厦门"&gt;福建省厦门市&lt;/option&gt;
        &lt;option value="佛山"&gt;广东省佛山市&lt;/option&gt;
        &lt;option value="海口" selected&gt;海南省海口市&lt;/option&gt;
    &lt;/select&gt;
    &lt;div class="mask"&gt;123&lt;/div&gt;
    &lt;span class="iconfont icon-unfoldmore"&gt;&lt;/span&gt;
&lt;/div&gt;</pre>
    </dd>
    <dd><i class="fa-solid fa-list-ol"></i></dd>
    <dd>1. 增加一个父级容器包裹表单元素&lt;select&gt;；相对定位</dd>
    <dd>2. 增加一个遮罩元素，显示选中的值/城市名；绝对定位到容器前部；取消事件响应</dd>
    <dd>3. 增加一个修饰元素，显示上下箭头，提示用户可以操作；绝对定位到容器后部；取消事件响应</dd>
    <dd>4. 设置&lt;select&gt;颜色透明/不显示</dd>
    <dd>5. 设置&lt;option&gt;颜色为黑色</dd>
    <dd>6. 增加JS；一开始获取&lt;select&gt;的值给遮罩元素</dd>
    <dd>7. 为&lt;select&gt;增加change事件，每次改变时修改遮罩的文本</dd>
    <dd>8. 增加其它设计，如:hover</dd>
    <dd>9. 更多设计细节，请参考<a href="https://login.taobao.com/">天猫登录页面</a></dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 分组-&lt;optgroup&gt;</dd>
    <dd>
      <table>
        <tr>
          <td>城市</td>
          <td><select name="school" id="school-mul">
              <optgroup label="college">
                <option value="guilin">guilin</option>
                <option value="xiamen">xiamen</option>
                <option value="foshan">foshan</option>
                <option value="haikou" selected>haikou</option>
              </optgroup>
              <optgroup label="unit">
                <option value="gl">gl</option>
                <option value="sh">sh</option>
              </optgroup>
            </select>
          </td>
        </tr>
      </table>
    </dd>
    <dd>[ HTML ]</dd>
    <dd>
      <pre>
&lt;select name="school" id="school-mul"&gt;
    &lt;optgroup label="college"&gt;
        &lt;option value="guilin"&gt;guilin&lt;/option&gt;
        &lt;option value="xiamen"&gt;xiamen&lt;/option&gt;
        &lt;option value="foshan"&gt;foshan&lt;/option&gt;
        &lt;option value="haikou" selected&gt;haikou&lt;/option&gt;
    &lt;/optgroup&gt;
    &lt;optgroup label="unit"&gt;
        &lt;option value="gl"&gt;gl&lt;/option&gt;
        &lt;option value="sh"&gt;sh&lt;/option&gt;
    &lt;/optgroup&gt;
&lt;/select&gt;</pre>
    </dd>
    <dd>[ JavaScript ]</dd>
    <dd>
      <pre>
let mul = document.querySelector("#school-mul")
mul.addEventListener('change', function () {
    console.log(this.value);
})</pre>
    </dd>
  </dl>
  <div class="chap nav-cont">多行文本输入框 &lt;textarea&gt;</div>
  <dl>
    <dd>. 文本域；多行文本输入框</dd>
    <dd>. 建议使用CSS指定cols、rows</dd>
    <dd>
      <pre>&lt;textarea name="msg" id="" cols="30" rows="10"&gt;&lt;/textarea&gt;</pre>
    </dd>
    <dd>. 默认情况下，可以自由缩放；为避免影响布局，通常指定其样式为不缩放</dd>
    <dd>
      <pre>
textarea {
    resize: none;
}</pre>
    </dd>
    <dt>属性</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>cols</td>
          <td>列数。建议使用CSS宽高指定</td>
        </tr>
        <tr>
          <td>rows</td>
          <td>行数。建议使用CSS宽高指定</td>
        </tr>
        <tr>
          <td>wrap</td>
          <td>是否换行；默认on|换行。off|不换行。谁会不换行呢</td>
        </tr>
      </table>
    </dd>
    <dt>事件</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>change</td>
          <td>选择改变时</td>
        </tr>
        <tr>
          <td>focus</td>
          <td>获取焦点时</td>
        </tr>
        <tr>
          <td>blur</td>
          <td>失去焦点时</td>
        </tr>
      </table>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 动态改变背景</dd>
    <dd>. 注意封装函数时，需要额外使用匿名函数或箭头函数，详情请查看 <a href="./js/event.html">事件 event</a>一节</dd>
    <dd>
      <textarea name="" id="ta-bg" title="msg"></textarea>
    </dd>
    <dd>
      <pre>
let ta = document.querySelector('#ta-bg');
function setBg(color) {
  console.log('hi');
  console.log(ta);
  ta.style.background = color;
}
ta.addEventListener('focus', (e) => {
  setBg('#f3f4f5')
});
ta.addEventListener('blur', (e) => {
  setBg('#fff')
});</pre>
    </dd>
  </dl>
  <div class="chap nav-cont">按钮 &lt;button&gt;</div>
  <dl>
    <dd>. 将表单收集的数据提交给后端服务器处理</dd>
    <dd>. 也可以使用&lt;input&gt;并指定类型为button</dd>
    <dt>属性</dt>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>submit</td>
          <td>提交按钮；默认</td>
        </tr>
        <tr>
          <td>reset</td>
          <td>还原/清除按钮；清除表单元素所有数据</td>
        </tr>
      </table>
    </dd>
    <dd class="mt2">[ <span class="iconfont icon-keyboard"></span> ] 数据采集完毕后，点击提交，查看浏览器地址栏信息</dd>
    <dd>
      <form action="" class="form">
        <fieldset>
          <legend>基本信息</legend>
          <div class="form-item">
            <label for="name">姓名</label>
            <input type="text" id="name" name="name" value="" placeholder="name" class="border">
          </div>
          <div class="form-item">
            <label for="pass">密码</label>
            <input type="password" id="pass" name="pw" value="" placeholder="password" autocomplete class="border">
          </div>
          <div class="form-item">
            <label>性别</label>
            <div>
              <input type="radio" name='gender' id="male" value="male" checked>
              <label for="male">男</label>
              <input type="radio" name='gender' id="female" value="female">
              <label for="female">女</label>
            </div>
          </div>
        </fieldset>
        <fieldset>
          <legend>学历经历</legend>
          <div class="form-item">
            <label>开始时间</label>
            <input type="date" name="date-start" id="ds" class="border">
          </div>
          <div class="form-item">
            <label>结束时间</label>
            <input type="date" name="date-end" id="de" class="border">
          </div>
          <div class="form-item">
            <label>学校</label>
            <input type="text" name="school" id="school" placeholder="school" class="border">
          </div>
          <div class="form-item">
            <label>专业</label>
            <input type="text" name="major" id="major" placeholder="major" class="border">
          </div>
          <div class="form-item">
            <label>类型</label>
            <div>
              <input type="radio" name="unit-radio" id="unit0" value="full" checked>
              <label for="unit0">全日制</label>
              <input type="radio" name="unit-radio" id="unit1" value="part">
              <label for="unit1">在职</label>
            </div>
          </div>
        </fieldset>
        <div class="form-item">
          <button class="btn" type="submit">submit</button>
          <button class="btn" type="reset">reset</button>
        </div>
      </form>
    </dd>
  </dl>
  <div class="chap">总结与作业 Summary & Homework</div>
  <dl>
    <dt>总结</dt>
    <dd>. 数据的录入和获取</dd>
    <dd class="quote">
      <div><span class="iconfont icon-bell"></span></div>
      <div>. &lt;label&gt;配合表单元素可以实现很多非常棒的设计，如定制表单元素、不使用js却能实现js的效果</div>
      <div>. 部分系统要求表单元素不能单独使用，必须用在&lt;form&gt;中；还有某些元素如密码，必须指定 autocomplete属性，请注意查看控制台提示信息，如：</div>
      <div>
        <pre>xxx field is not contained in a form</pre>
      </div>
      <div>
        <pre>Input elements should have autocomplete attributes</pre>
      </div>
    </dd>
    <dt>作业</dt>
    <dd>. 使用表单元素完善个人网站</dd>
  </dl>
  <iframe src="../../common/Html.html" frameborder="0" scrolling="no" title="html"
    onload="this.height=this.contentDocument.body.scrollHeight"></iframe>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script src="./lib/ham.js"></script>
  <script>
    window.onload = function () {
      // input
      // demo1：len input-value
      let lenIpt = document.querySelector('#len-ipt');
      let lenVal = document.querySelector('#len-val');
      lenIpt.addEventListener('input', function () {
        lenVal.innerHTML = '还可以输入' + (this.getAttribute('maxlength') - this.value.length)
      })

      // demo2：show passw，input-type
      let spBtn = document.querySelector('#sp-btn');
      let spIpt = document.querySelector('#sp-ipt');
      spBtn.addEventListener('click', () => {
        if (spIpt.type == 'text') {
          spIpt.type = 'password'
          spBtn.value = '显示密码'
        } else {
          spIpt.type = 'text'
          spBtn.value = '隐藏密码'
        }
      })

      // demo3：all，input-attr
      let cbs = document.querySelectorAll('input[name="web"]');
      let all = document.querySelector('#all');
      let allNo = document.querySelector('#all-no');
      all.addEventListener('change', function (e) {
        console.log(this.checked);
        if (this.checked) {
          console.log(this.value);
          for (let i = 0; i < cbs.length; i++) {
            cbs[i].checked = true
          }
        }
      })
      allNo.addEventListener('change', function (e) {
        console.log(this.checked);
        if (this.checked) {
          console.log(this.value);
          for (let i = 0; i < cbs.length; i++) {
            cbs[i].checked = false
          }
        }
      })
      cbs.forEach(item => {
        item.addEventListener('change', function () {
          let num = 0
          for (let j = 0; j < cbs.length; j++) {
            if (cbs[j].checked) {
              num++;
            }
          }
          console.log((num));
          if (num == 3)
            all.checked = true;
          else if (num == 0)
            allNo.checked = true;
          else {
            all.checked = false;
            allNo.checked = false;
          }
        })
      })

      // select
      let single = document.querySelector("#school-single")
      single.addEventListener('change', function () {
        console.log(this.value);
      })
      let mul = document.querySelector("#school-mul")
      mul.addEventListener('change', function () {
        console.log(this.value);
      })
      let custom = document.querySelector('#school-custom')
      let mask = document.querySelector('.mask')
      mask.innerHTML = custom.value;
      custom.addEventListener('change', () => {
        console.log(custom.value);
        mask.innerHTML = custom.value;
      })

      // ta
      let ta = document.querySelector('#ta-bg');
      // console.log(ta);
      // ta.style.backgroundColor = '#f40';
      function setBg(color) {
        console.log('hi');
        console.log(ta);
        ta.style.background = color;
      }
      ta.addEventListener('focus', (e) => {
        setBg('#f3f4f5')
      });
      ta.addEventListener('blur', (e) => {
        setBg('#fff')
      });
      // ta.addEventListener('focus', function () {
      //   setBg('#f40')
      // });
      // ta.addEventListener('blur', function () {
      //   setBg('#ccc')
      // });

      // player
      let bool = false;
      let player = document.querySelector('#player');
      let audioIpt = player.querySelector('audio');
      let btnIpt = player.querySelector('button');
      let sliderIpt = player.querySelector('input');
      audioIpt.src = '/music/Alizee-La Isla Bonita.mp3';
      audioIpt.addEventListener('loadedmetadata', () => {
        sliderIpt.max = audioIpt.duration;
      })
      audioIpt.addEventListener('timeupdate', () => {
        sliderIpt.value = Math.floor(audioIpt.currentTime);
      })
      audioIpt.addEventListener('ended', () => {
        sliderIpt.value = 0;
        // audioIpt.pause();
        btnIpt.innerHTML = 'play';
        bool = false;
      })
      btnIpt.addEventListener('click', () => {
        if (bool) {
          audioIpt.pause();
          btnIpt.innerHTML = 'play';
          bool = false;
        } else {
          audioIpt.play();
          btnIpt.innerHTML = 'pause';
          bool = true;
        }
      })
      sliderIpt.addEventListener('input', () => {
        audioIpt.currentTime = sliderIpt.value;
        audioIpt.play();
        btnIpt.innerHTML = 'pause';
        bool = true;
      })

    }
  </script>
</body>

</html>
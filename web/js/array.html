<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数组 Array</title>
  <link rel="stylesheet" href="../../css/common2025.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>数组</h1>
    <span>&commat;Array</span>
  </header>
  <figure>
    <img src="../imgs/arr1.png" alt="">
    <figcaption>思维导图</figcaption>
  </figure>
  <section>
    <h3>概述 Introduction</h3>
    <ul>
      <li>存储多个元素</li>
      <li>每个元素有位序，从0开始</li>
      <li>可调整大小的</li>
      <li>可以包含不同的数据类型</li>
      <li>更多应用，请访问 <a
          href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>、<a
          href="https://www.fadocodecamp.com/posts/javascript-basics-tutorial">javascript basics tutorial</a></li>
    </ul>
    <h3>定义 Defined</h3>
    <ul>
      <li>使用方括号 - square brackets []</li>
      <pre>let arr0 = [1, 2, 3];</pre>
      <li>使用构造函数</li>
      <pre>let arr1 = new Array(1, 2, 3);</pre>
    </ul>
    <h3>实例属性 Instance properties</h3>
    <ol>
      <li>length - 数组长度；可以任意赋值：少于实际个数，数据会丢失，但是数据仍然在内存中；多于实际个数，值为undefined</li>
      <li>index - 数组元素的位置，从0开始</li>
    </ol>
  </section>
  <h2>Usage</h2>
  <section>
    <h3>访问 Access</h3>
    <ul>
      <li>使用索引，从0开始 - using an index (starts at 0)</li>
      <pre>console.log(arr0, arr1);</pre>
    </ul>
    <h3>赋值 Assignment</h3>
    <ul>
      <li>符号：=</li>
      <li>引用赋值</li>
      <li>将变量指向新的引用/地址空间；多个变量引用|指向同一块内存</li>
      <li>变量对内存数据的修改会影响到另外一个变量</li>
      <li>变量重新赋值时，会丢失原来的内存 - 指向变了</li>
      <pre>
let arr0 = [1, 2];
let arr1 = arr0;
arr1.push(3)
arr0 = [1, 3];//指向别的内存</pre>
    </ul>
    <h3>解构赋值 Destructuring</h3>
    <ul>
      <li>符号：[]</li>
      <li>依赖顺序匹配</li>
      <li>一次性把数组元素赋值给多个变量</li>
      <pre>let [a, b] = [1, 3];</pre>
      <div>指定位置赋值 - 获取最后一个</div>
      <pre>
let [, , , , a] = [1, 2, 3, 4, 5];
//a=5</pre>
      <div>交换赋值</div>
      <pre>[a, b] = [b, a];</pre>
      <div>默认赋值 - 位置要匹配</div>
      <pre>
let [name, age = 18, gender] = ['gl', , 'male']
let [name, age = 18] = ['gl']</pre>
    </ul>
    <h3>扩展运算符 spread operator</h3>
    <ul>
      <li>符号：...</li>
      <li>将数组各项展开，特别适合数组复制</li>
      <pre>
let a = [1, 2, 3];
let b = [...a];</pre>
      <div>...剩余赋值 - 第1个给a，其它给rest；剩余属性必须是模式中的最后一个，并且不能有尾随逗号</div>
      <pre>
let [a, ...rest] = [1, 2, 3, 4, 5]
//a=1
//rest=[2,3,4,5]</pre>
    </ul>
    <div class="tips">如何清空数组？</div>
    <!-- <dd>设置长度为0：arr.length = 0</dd> -->
    <!-- <dd>使用splice删除数组元素：arr.splice(0, len)</dd> -->
    <!-- <dd>指向空数组：arr = []</dd> -->
    <div>[<span class="iconfont icon-keyboard"></span>] 直接赋值和解构赋值对数据的影响</div>
    <div>
      <div>1. 基本数据类型</div>
      <pre>
let a0 = [1, 2, 3]
// 直接赋值；会彼此影响
let a1 = a0
a0.push(4)
// 解构赋值：相当于重新赋值；不会彼此影响
let a2 = [...a0]
a2.push(5)
console.log(a0, a1, a2);</pre>
      <div>2. 引用数据类型</div>
      <pre>
let obj0 = [{ id: 1, name: '张三' }, { id: 2, name: '李四' }, { id: 3, name: '王五' }]
console.log(obj0);
let obj1 = obj0
obj0.push({ id: 4, name: '赵六' })
let obj2 = [...obj0]
obj0.push({ id: 5, name: '老郭' })
obj2.push({ id: 5, name: '孙七' })
console.log(obj0, obj1, obj2);
      </pre>
    </div>
  </section>
  <h2>静态方法 Static methods</h2>
  <section>
    <h3><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from">from()</a>
    </h3>
    <ul>
      <li>将一个类数组对象或者可遍历对象转换成一个真正的数组</li>
      <li>1. 类数组</li>
      <li>使用获取多个元素方法，如 querySelectorAll()，得到的元素集合都是类数组对象，最基本的特点就是具有length属性的对象；如果没有长度属性，会被转化为一个空数组</li>
      <li>2. set集合</li>
      <li>无重复数据的集合</li>
      <li>3. 字符串</li>
      <li>将字符串拆分成单个字符的数组</li>
    </ul>
    <h3><a
        href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray">isArray()</a>
    </h3>
    <ul>
      <li>是否是一个数组</li>
      <li>所有的数组都是对象，所以直接使用 typeof 返回的是 object</li>
      <pre>
console.log(typeof [1, 2]);//object
console.log(Array.isArray([1, 2]));//true</pre>
    </ul>
  </section>
  <h2>实例方法 Instance methods</h2>
  <section>
    <h3>一般方法 Normal</h3>
    <ul>
      <li>数组既有栈的行为函数也有队列的行为函数</li>
      <li>栈行为：先进后出 FILO；尾端操作；push()、pop()</li>
      <li>队列行为：先进先出 FIFO；头出尾进：push()、shift()；使用 unshift()和 pop() 方法，可以从相反的方向来模拟队列，即在数组的前端添加项，从数组末端移除项</li>
    </ul>
    <table>
      <caption>一般方法 Normal</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push">push()</a>
          </td>
          <td>添加元素到数组末尾</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift">unshift()</a>
          </td>
          <td>添加元素到头部</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/pop">pop()</a>
          </td>
          <td>移除数组末尾元素并返回</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/shift">shift()</a>
          </td>
          <td>移除数组头部元素并返回</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat">concat()</a>
          </td>
          <td>数组连接；返回一个新数组；不会修改原数组；不会去重</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join">join()</a>
          </td>
          <td>数组元素按照指定的分隔符连接为字符串</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">slice(start,end)</a>
          </td>
          <td>
            <div>Returns a copy of a section of an array. </div>
            <div>取子串 - 选取串中位置|索引从 start 到 end 的部分；不包括 end</div>
            <div>返回：一个新的数组/字符串</div>
            <div>原数组：不变</div>
            <div>start不指定，从0开始；end 不指定，截取到末尾</div>
            <div>目标位置为负数时，反向截取；最后一位是-1；倒数第二位是-2，依次类推；可以用于获取后缀名；</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice">splice(start,count[,el...])</a>
          </td>
          <td>
            <div>Removes elements from an array and, if necessary, inserts new elements in their place, returning the
              deleted elements.</div>
            <div>从原来数组中截取|删除指定长度的字符串</div>
            <div>返回：删除的数据项</div>
            <div>原数组：被修改</div>
            <div>在删除的基础上，还可以插入新的元素el；如果 count 为0，则不删除</div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="tips">要清楚每个函数有无返回？如果有的话，返回值是什么？原数组有没有破坏？</div>
    <div>
      <div>[<span class="iconfont icon-keyboard"></span>] 示例</div>
      <pre>
let arr0 = [1, 2, 3];
let arr1 = [3, 4, 5];
console.log(arr0.concat(arr1));//1, 2, 3, 3, 4, 5
console.log(arr0);//1, 2, 3
console.log(arr0.join('-'));//1-2-3</pre>
      <pre>
let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
let res = arr.slice(2, 4);
console.log(res);//3,4
console.log(arr);//不变</pre>
      <pre>
let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
let res = arr.splice(2, 2);
console.log(res);//[3,4]
console.log(arr);//[1,2,5,6,7,8,9]
arr.splice(2, 1, 8, 8);
console.log(arr);//[1,2,8,8,6,7,8,9]；5被删除，插入|增加了2个8</pre>
      <div>[<span class="iconfont icon-keyboard"></span>] 应用 - 洗牌 Shuffle</div>
      <ul>
        <li>根据串/数组的长度，随机取一个位置值，然后将该位置的数据删除，形成一个新串/数组；重复执行到串/数组为空</li>
        <li>每次删除的数据放到一个新数组中，保存起来；这个数组就是洗牌的结果</li>
        <pre>
function shuffle(arr) {
  let tmp = [];
  while (arr.length > 0) {
    let rad = Math.floor(Math.random() * arr.length)
    tmp.push(arr[rad])
    arr.splice(rad, 1)
  }
  return tmp;
}</pre>
      </ul>
    </div>
    <h3>迭代方法 Iteration</h3>
    <div>除了使用通用方法 for 外，还可以使用专有方法进行数据迭代</div>
    <table>
      <caption>迭代方法 Iteration</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">forEach()</a>
          </td>
          <td>
            <div>返回：没有</div>
            <div>对数组中的每一项执行给定函数。本质上与使用 for 循环迭代数组一样</div>
            <div>原数组：不会被修改；仅仅使用数据</div>
            <div>无法中断</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">map()</a>
          </td>
          <td>
            <div>对数组中的每一项执行给定函数，返回每次函数调用的结果组成的数组</div>
            <div>适合创建包含的项与另一个数组一一对应的数组 - 映射</div>
            <div>返回：新数组</div>
            <div>原数组：不会被修改</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every">every()</a>
          </td>
          <td>
            <div>对数组中的每一项执行给定函数；如果该函数对 <span class="warn">每一项</span> 都返回 true，则返回 true</div>
            <div>返回：布尔值</div>
            <div>原数组：不会被修改</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some">some()</a>
          </td>
          <td>
            <div>对数组中的每一项执行给定函数；如果该函数 <span class="warn">有一项</span> 返回 true，则返回 true</div>
            <div>返回类型：布尔值</div>
            <div>原数组：不会被修改</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">filter()</a>
          </td>
          <td>
            <div>对数组中的每一项执行给定函数，返回执行结果为 true 的项组成的数组 - calls the predicate function one time for each element in the
              array </div>
            <div>返回：符合条件的新数组</div>
            <div>原数组：不会被修改</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find">find()</a>
          </td>
          <td>
            <div>查找满足提供的测试函数的 <span class="warn">第一个</span> 数据项</div>
            <div>返回：查找到的数据项；若没有则返回 undefined</div>
            <div>原数组：不会被修改</div>
            <div>如果有，则立即返回；不会再继续测试后面的数据项</div>
          </td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex">findIndex()</a>
          </td>
          <td>
            <div>返回数组中满足提供的测试函数的 <span class="warn">第一个</span> 元素的索引</div>
            <div>返回：查找到的数据项的索引；若没有找到对应元素则返回 -1</div>
            <div>原数组：不会被修改</div>
            <div>如果有，则立即返回；不会再继续测试后面的数据项</div>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="tips">
      <div>querySelectorAll 返回的是一个静态的 NodeList：NodeList 是类数组结构，且具有 forEach 方法</div>
      <div>getElementsByTagName 返回的是一个动态的 HTMLCollection：HTMLCollection 也是一个类数组结构，但它没有 forEach 方法</div>
      <div>filter 会遍历整个数组并返回所有匹配项；find 和 findIndex 在找到第一个匹配项后就会停止遍历，性能更优</div>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 示例</div>
    <div>
      <pre>let data = [{ id: 10, name: 'gl' }, { id: 11, name: 'cq' }, { id: 12, name: 'sz' }]</pre>
      <div>提取特征数据 - 从API请求的数据中获取数据项的 name 展示；也可以在请求时指定需要的数据，具体情况看API的支持</div>
      <div>提取1个 - 返回每个数据项的 name 组成的数组；需要使用变量接受新数组</div>
      <pre>let res = data.map(item => item.name)</pre>
      <div>提取多个 - 返回每个数据项的 name、desc 组成的数组；需要使用变量接受新数组</div>
      <pre>let res = data.map(item => ({name: item.name, desc:item.desc}))</pre>
      <div>修改格式 - 修改每个数据项的 name 为大写；无需使用变量接受</div>
      <pre>data.map(item => item.name = item.name.toUpperCase())</pre>
      <div>添加属性 - 为每个数据项增加一个数量，初始化为1；如添加到购物车；无需使用变量接受</div>
      <pre>data.map(item => item.num = 1)</pre>
      <div>添加属性 -简单数组生成索引数组；改变了数据结构，需要使用变量接受新数组</div>
      <pre>
let data = ['gl', 'cq', 'sz', 'sh', 'gz']
let res = data.map((item, ind) => ({ id: ind, location: item }))</pre>
    </div>
    <div class="tips">如果仅仅是修改数据项的属性，无需使用变量接受</div>
    <div>[<span class="iconfont icon-keyboard"></span>] 创建 DOM</div>
    <div>
      <div>使用 join() 将数组转化为字符串使用</div>
      <pre>
fetch('/utils/data/message.json')
.then(res => res.json())
.then(res => {
  console.log(res);
  let json = res.cont.map(item => `<li>${item.msg}</li>`).join('')
  ul.innerHTML = json
})</pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 全选业务</div>
    <div>
      <div>全选为真，所有待选项都选中</div>
      <div>全选为假，所有待选项都不选中</div>
      <div>如果有一个待选项没有选中，则全选为假 - 每一个待选项都为真，全选才为真</div>
      <pre>checkAll = options.every(item => item.check)</pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 应用：查找数据列表中是否有符合条件的数据项，避免重名</div>
    <div>
      <pre>
let arr = [0, 1, 2, 3, 4, 5]
let flag = arr.some(item => item > 5)
console.log(flag);  // false      </pre>
      <pre>
let obj = [{ id: 10, name: 'gl' }, { id: 11, name: 'cq' }, { id: 12, name: 'sz' }]
let flag = obj.some(item => item.name == 'sz')
console.log(flag); // true     </pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 模糊查询</div>
    <div>
      <div>根据名字是否包含指定的关键字过滤结果</div>
      <pre>goods.filter(item => item.name.includes(keyword))</pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 获取偶数</div>
    <div>
      <pre>
let arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
let res = arr.filter(item => item % 2 === 0)</pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 删除指定特征如 id 的数据项 - 购物车、歌单</div>
    <div>
      <pre>
let data = [{ id: 10, name: 'gl' }, { id: 11, name: 'cq' }, { id: 12, name: 'sz' }]
let res = data.filter(item => item.id != 11)</pre>
      <div>函数封装</div>
      <pre>
function delItem(dataItem) {
  data = data.filter(item => item.id != dataItem.id)
}</pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 根据 id 获取/请求商品</div>
    <div>
      <pre>
let obj = [{ id: 10, name: 'gl' }, { id: 11, name: 'cq' }, { id: 12, name: 'sz' }]
let res = obj.find(item => item.id === 11)
console.log(res); // { id: 11, name: 'cq' }</pre>
    </div>
    <div>[<span class="iconfont icon-keyboard"></span>] 添加到购物车</div>
    <div>
      <div>根据 id 查找购物车，如果有，则数量 +1；如果没有，则新增一个数量值对，为 1</div>
      <pre>
const existingItem = cart.find(item => item.id === product.id)
if (existingItem) {
  existingItem.quantity++
} else {
  cart.push({ ...product, quantity: 1 })
}</pre>
    </div>
    <h3>归并方法 Subtotal</h3>
    <table>
      <caption>归并方法 subtotal</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">reduce()</a>
          </td>
          <td>reduce()方法从数组的第一项开始，逐个遍历到最后</td>
        </tr>
        <tr>
          <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight">reduceRight()</a>
          </td>
          <td>从数组的最后一项开始，向前遍历到第一项</td>
        </tr>
      </tbody>
    </table>
    <ul>
      <li>这两个方法都接收两个参数：一个在每一项上调用的函数fn和（可选的）作为归并基础的初始值</li>
      <li>fn接收 4 个参数：前一个值pre|累加器acc、当前值cur、项的索引index和数组对象array</li>
      <li>可以是普通数组，也可以是数组对象</li>
      <li>map filter是reduce的特例</li>
      <li>应用：求和、计数、分类</li>
    </ul>
    <div>
      <div>[<span class="iconfont icon-keyboard"></span>] 应用- 数组求和</div>
      <div>1. 普通数组</div>
      <pre>
  let sum = arr.reduce((pre, cur, index, array) => {
      return pre + cur;
  })</pre>
      <div>2. 对象数组 - 具有数值属性 price 和 quantity</div>
      <pre>
  let sum = goods.reduce((total, item) => {
    return total + item.price + item.quantity;
  }, 0)</pre>
    </div>
    <h3>排序方法 Sort</h3>
    <ul>
      <li>按照一定规则对数据项排序</li>
      <li>数组排序会修改原数组</li>
      <li>更多信息，请访问 <a
          href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">sort()</a>
      </li>
    </ul>
    <table>
      <caption>排序方法 Sort</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>sort()</td>
          <td>
            <div>不指定比较函数</div>
            <div>默认根据数据项 <span class="warn">UTF-16 编码</span>升序比较 - The default sort order is ascending</div>
          </td>
        </tr>
        <tr>
          <td>sort(compareFn)</td>
          <td>指定比较函数 - 按照参数进行排序</td>
        </tr>
      </tbody>
    </table>
    <div>
      <div>[<span class="iconfont icon-keyboard"></span>] 示例</div>
      <div>1. 简单数组</div>
      <pre>
const arr = [1,45,6,2,4,5]
//升序
arr.sort(); //[1, 2, 4, 45, 5, 6]
//降序
arr.sort().reverse(); //[6, 5, 45, 4, 2, 1]</pre>
      <pre>
const arr = ['banana', 'apple', 'cherry'];
arr.sort(); // ['apple', 'banana', 'cherry']</pre>
      <pre>
arr = [1,45,6,2,4,5]
//升序
arr.sort((a, b) => a - b);  //[1, 2, 4, 5, 6, 45]
//降序
arr.sort((a, b) => b - a);  //[45, 6, 5, 4, 2, 1]</pre>
      <div>2. 对象数组 - 按年纪 age 排序</div>
      <pre>
//升序
obj.sort((a, b) => a['age'] - b['age']);
//降序
obj.sort((a, b) => b['age'] - a['age']);</pre>
      <div>. 封装函数使用 - 根据 key 排序</div>
      <pre>
const sortUp = (key) => {
  arr.sort((a, b) => {
    return a[key] - b[key]
  })
}
const sortDown = (key) => {
  arr.sort((a, b) => {
    return b[key] - a[key]
  })
}</pre>
      <div class="tips">为什么连续测试结果相等？</div>
      <!-- <div>数组的引用传值</div> -->
      <div>3. 字符数组排序</div>
      <div>. 如果需要根据字符排序，需要使用比较函数 <span class="warn">localeCompare()</span></div>
      <div>. 按字符升序排序</div>
      <pre>
obj.sort((a, b) => {
  return a.name.localeCompare(b.name)
})    </pre>
      <div>. 按字符降序排序</div>
      <pre>
obj.sort((a, b) => {
  return b.name.localeCompare(a.name)
})    </pre>
      <div>[<span class="iconfont icon-keyboard"></span>] 应用 - <a href="../demo/table.html">排序表格</a></div>
      <ul>
        <li>请优化逻辑</li>
        <pre>
sortProducts(e) {
  const flag = e.currentTarget.dataset.flag
  const selectd = [...this.data.selectedProducts]
  let isSort = !this.data.isSort
  switch (flag) {
    case 'title':
      selectd.sort((a, b) => {
        return isSort ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title)
      })
      this.setData({
        selectedProducts: [...selectd],
        isSort,
        isSortTitle: false,
        isSortPrice: true,
        isSortSold: true
      })
      break;
    case 'price':
      selectd.sort((a, b) => {
        return isSort ? a.price - b.price : b.price - a.price
      })
      this.setData({
        selectedProducts: [...selectd],
        isSort,
        isSortPrice: false,
        isSortTitle: true,
        isSortSold: true
      })
      break;
    case 'sold':
      selectd.sort((a, b) => {
        return isSort ? a.sold - b.sold : b.sold - a.sold
      })
      this.setData({
        selectedProducts: [...selectd],
        isSort,
        isSortSold: false,
        isSortTitle: true,
        isSortPrice: true
      })
      break;
  }
}</pre>
      </ul>
    </div>
  </section>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script>
    const arr = [{ id: 1, name: 'gl' }, { id: 2, name: 'cq' }, { id: 3, name: 'sz' }]
    console.log(arr);
    arr.map(item => item.num = 1)
    console.log(arr);
    arr.map(item => item.name = item.name.toUpperCase())
  </script>
</body>

</html>
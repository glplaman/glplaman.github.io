<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>弹性盒子布局 Flexbox</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="./css/flex.css">
  <base target="_blank">
  <style>
    .br {
      border-radius: 12px;
      border: 1px solid #0b57d0;
      padding: 0 6px;
      font-size: 12px;
      background-color: #fff;
      color: #0b57d0;
    }

    .bg {
      background-color: #0b57d0;
      color: #fff;
    }
  </style>
</head>

<body>
  <header>
    <h1>&commat;Flexbox</h1>
    <span class="ham"></span>
    <nav class="nav">
      <a href="" style="--delay:0" class="nav-item">容器 Container</a>
      <a href="" style="--delay:1" class="nav-item">子项 Item</a>
      <a href="" style="--delay:2" class="nav-item">布局 Layout</a>
      <a href="" style="--delay:3" class="nav-item">案例 Cases</a>
    </nav>
  </header>
  <dl>
    <dt>概述 Overview</dt>
    <dd>
      <div>. 布局容器做布局的事</div>
      <div>. 将一个元素声明为弹性盒子后，该元素称为容器 container，其中的子元素为项目 item</div>
      <div>. 内部直接子元素如果是非块元素，将会变为块元素 block</div>
      <div>1. 具备块特性的弹性盒子</div>
      <pre>display: flex;</pre>
      <div>2. 具备行内块特性的弹性盒子；特别适合处理图文混合这种大小不一致的结构，方便对齐</div>
      <pre>display: inline-flex;</pre>
      <div>. 容器元素可以：</div>
      <div>. 控制其直接子元素的排列方式 - 横排、竖排</div>
      <div>. 控制其直接子元素的对齐方式 - 左、中、右还是上、中、下或者分散</div>
      <div>. 控制其直接子元素渲染的先后顺序</div>
      <div>. Flex 对使用绝对定位的子项仍然具有布局的能力</div>
      <div>. 更多信息，请访问 <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox">MDN -
          flexbox</a>、<a href="https://mp.weixin.qq.com/s/3cxv1y14OLcPJjEN4f_OiA">如何用一行 CSS 实现 10 种现代布局</a>
      </div>
    </dd>
    <dt>快速上手 Quick Started</dt>
    <dd class="sn">
      <div>创建一个容器，若干子项；指定容器为弹性盒子</div>
      <div>右键单击容器，选择检查，打开开发者视图，自动切换到元素标签页 Element，容器标签右侧会显示 <span class="br">flex</span> 标记</div>
      <div>底部的样式标签页 Style 中，显示弹性盒子编辑器，点击后可以调整容器的5个布局属性，见下图</div>
      <div>单击标记后变为 <span class="br bg">flex</span>，页面中显示容器和子项的布局使用</div>
      <div>调整弹性盒子编辑器，页面相应的发生变化</div>
      <div>调整完毕后，复制容器增加的样式，返回到编辑器，更新容器的样式即可</div>
      <figure>
        <img class="bs" src="./imgs/flexeditor.png" alt="">
        <figcaption>样式标签页中的弹性盒子编辑器</figcaption>
      </figure>
    </dd>
    <dd><span class="iconfont icon-help"></span> PPT如何对齐多个形状？</dd>
  </dl>
  <div class="chap">容器 Container</div>
  <dl class="nav-cont">
    <dd>. 弹性盒子/容器的属性</dd>
    <dt>flex-direction</dt>
    <dd>
      <div>. <span class="warn">主轴 main axis</span> 方向：默认是行 row</div>
      <div>. 反向可以应用到响应式开发中；如：桌面端 row 分布，左边是图，右边是表单；移动端时，可以调整为 column-reverse，优先展示表单；更多应用，请访问 <a
          href="./demo/timeline.html">时间轴</a></div>
      <pre>flex-direction: row | row-reverse | column | column-reverse;</pre>
      <figure>
        <img src="./imgs/flex1.png" alt="" loading="lazy">
        <figcaption class="fig-sn">flex-direction: row</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex2.png" alt="" loading="lazy">
        <figcaption class="fig-sn">flex-direction: column-reverse</figcaption>
      </figure>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content">justify-content</a></dt>
    <dd>
      <div>. <span class="warn">主轴 main axis</span> 方向子项的分布，默认是 flex-start</div>
      <div>. 有时候通过指定子项的 margin 为 auto，也可以实现两端分布</div>
      <div>. 通常是<span class="warn">轴上有剩余空间</span>才会涉及到分布；如显示的指定了宽度，且小于容器宽度</div>
      <pre>justify-content: flex-start | flex-end | center | space-between | space-around | space-evenly;</pre>
      <figure>
        <img src="./imgs/flex3.png" alt="" loading="lazy">
        <figcaption class="fig-sn">justify-content: flex-start</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex4.png" alt="" loading="lazy">
        <figcaption class="fig-sn">justify-content: center</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex5.png" alt="" loading="lazy">
        <figcaption class="fig-sn">justify-content: space-between</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex7.png" alt="" loading="lazy">
        <figcaption class="fig-sn">justify-content: space-evenly</figcaption>
      </figure>
      <figure> <img src="./imgs/flex8.png" alt="" loading="lazy">
        <figcaption class="fig-sn">justify-content: space-around</figcaption>
      </figure>
      <figure><img src="./imgs/flex6.png" alt="" loading="lazy">
        <figcaption class="fig-sn">justify-content: flex-end</figcaption>
      </figure>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-items">align-items</a></dt>
    <dd>
      <div>. <span class="warn">交叉轴 cross
          axis</span> 方向子项的对齐，默认是 stretch：所有元素的高度拉伸至和容器元素/最高的元素一致[为子项 item 添加背景可以直观的看出来]；其它选项则是根据自身的高度开始或结束对齐</div>
      <div>. 如果指定了或者继承了行高和高度一致，则已经是垂直方向居中</div>
      <div>. 通常是<span class="warn">轴上有剩余空间</span>才会涉及到分布；如显示的指定了高度，且小于容器高度</div>
      <pre>align-items: stretch | center | flex-start | flex-end;</pre>
      <figure>
        <img src="./imgs/flex12.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-items: stretch</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex9.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-items: flex-start</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex10.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-items: center</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex11.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-items: flex-end</figcaption>
      </figure>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/align-content">align-content</a></dt>
    <dd>
      <div>. 多行情况下，子项交叉轴 cross axis | 垂直方向的对齐</div>
      <div>. 容器实际区域比子项大</div>
      <div>. 容器通常由子项撑开，特别是 <span class="warn">允许换行</span>，多行的情况下 - This property has no effect on single line flex
        containers</div>
      <figure>
        <img src="./imgs/flex20.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-content: normal;</figcaption>
      </figure>
      <figure>
        <img src="./imgs/flex21.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-content: flex-start;</figcaption>
      </figure>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/justify-items">justify-items</a></dt>
    <dd>
      <div>. Flex 中，该属性被忽略 - In flexbox layouts, this property is ignored (more about alignment in flexbox)</div>
      <div>. Grid 中，该属性可以正常使用，所以更多的被当作是仅适用 Grid 的属性</div>
      <div>. justify-content 和 justify-items / justify-self 的主要区别在于前者控制整个容器的对齐方式，而后者控制单个项目或所有项目的对齐方式</div>
      <div>. 在 Flex 中，没有 justify-items 或 justify-self 属性，因为 Flex 通过 justify-content 和 align-items 来控制项目的对齐和分布</div>
      <div>. justify-self 和 justify-items 只在 Grid 中有效</div>
    </dd>
    <dt>flex-wrap</dt>
    <dd>
      <div>. 容器容纳不下子项时，是否换行</div>
      <div>. 默认不换行 nowrap</div>
      <div>. 响应式布局中，使用自动换行 wrap 往往比 Grid 更灵活；见后续布局一节</div>
      <pre>flex-wrap: nowrap | wrap | wrap-reverse;</pre>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/gap">gap</a></dt>
    <dd>
      <div>. 各子项的间隔；也叫 gutter</div>
      <div>. Grid 也可以使用；非常爽 - This property applies to multi-column, flex, and grid containers</div>
      <div>. 微信小程序的弹性盒子好像不支持</div>
    </dd>
  </dl>
  <div class="chap">子项 Item</div>
  <dl class="nav-cont">
    <dd>
      <div>. 弹性盒子的直接子元素</div>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/flex-basis">flex-basis</a></dt>
    <dd>
      <div>. item 在主轴上分配|预留的 <span class="warn">初始 initial</span> 大小，相当于指定了 width。默认为 auto，根据元素内容分配</div>
      <div>. 指定了该属性后，原有的宽度或高度就无效了</div>
      <pre>flex-basis: auto | number;</pre>
    </dd>
    <dt>flex-grow</dt>
    <dd>
      <div>. 容器有剩余空间时，是否放大子项</div>
      <div>. 默认为0，不放大；有多大，占多大</div>
      <pre>flex-grow: number;</pre>
    </dd>
    <dt>flex-shrink</dt>
    <dd>
      <div>. 容器空间不足时，是否压缩子项</div>
      <div>. 默认为1，压缩；不压缩我放不下啊；但是：子项如果是 &lt;img&gt; 不压缩。。。</div>
      <pre>flex-shrink: number;</pre>
      <div>[<span class="iconfont icon-keyboard"></span>] 多余空间分配</div>
      <div>
        <div>. 容器为500；各子项原始大小各为50；剩余500-50-50=400；去除100的间隔，可分配的空间为300</div>
        <div>. 第一项放大因子为1，分到100；第2项放大因子为2，分到200；最后大小分别为150、250</div>
        <pre>
  .box {
    display: flex;
    width: 500px;
    gap: 100px;
  }
  
  .box div:nth-child(1) {
    width: 50px;
    height: 50px;
    flex-grow: 1;
    background-color: #f40;
  }
  
  .box div:nth-child(2) {
    width: 50px;
    height: 50px;
    flex-grow: 2;
    background-color: #f40;
  }</pre>
      </div>
      <div>[<span class="iconfont icon-keyboard"></span>] 空间不足的压缩分配</div>
      <div class="sn">
        <div>容器300，子项各为200</div>
        <pre>200+200=400=300+100->200-50，200-50</pre>
        <div>容器300，子项分别为400、200</div>
        <pre>400+200=600=300+300->400-200，200-100</pre>
      </div>
    </dd>
    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/flex">flex</a></dt>
    <dd>
      <div>. 复合属性</div>
      <pre>flex: flex-grow flex-shrink flex-basis;</pre>
      <div>. 单值、双值和三值的含义个不相同</div>
      <table>
        <caption>flex属性组合</caption>
        <thead>
          <tr>
            <th>Item</th>
            <th>Desc</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>flex: none;</td>
            <td>0 0 auto；默认</td>
          </tr>
          <tr>
            <td>flex: auto;</td>
            <td>1 1 auto；自动分配；如果有，则放大；否则压缩；根据内容大小来分</td>
          </tr>
          <tr>
            <td>flex: num;</td>
            <td>无单位数值，0 num 0%</td>
          </tr>
          <tr>
            <td>flex: num;</td>
            <td>带单位数值，指的是flex-basis；其它为默认值，相当于1 0 num；不建议使用 </td>
          </tr>
          <tr>
            <td>flex: 1 1 num;</td>
            <td>可以放大或压缩，初始大小为num<br>可以简写为flex: num;</td>
          </tr>
          <tr>
            <td>flex: 1 0 num</td>
            <td>有剩余则放大，但是不能压缩，至少mum</td>
          </tr>
        </tbody>
      </table>
    </dd>
    <dt>align-self</dt>
    <dd>
      <div>. 单独设置 item 在辅轴上的对齐方式</div>
      <div>. 容器需要有多余的空间</div>
      <figure>
        <img src="./imgs/flex13.png" alt="" loading="lazy">
        <figcaption class="fig-sn">align-items: stretch</figcaption>
      </figure>
      <pre>
  .wrap div:nth-child(even) {
    align-self: center;
  }</pre>
    </dd>
    <dt><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/order">order</a></dt>
    <dd>
      <div>. item 的布局|排列顺序；小的在前，大的在后 - sorted by ascending order</div>
      <div>. 适用于 Flex 和 Grid</div>
      <div>. 默认都是0；可以设置为负数；值小的，提前渲染；值大的，滞后渲染</div>
      <div>. 也可以通过调整结构实现</div>
      <div>. 更多案例请访问 <a href="./demo/timeline.html">时间轴</a>、<a href="../minip/index.html">微信小程序 - mini App</a>、<a
          href="./agenda.html">日程安排 - Agenda</a></div>
    </dd>
  </dl>
  <div class="chap">布局 Layout</div>
  <dl class="nav-cont">
    <dd>[<span class="iconfont icon-keyboard"></span>] 两列布局/左右布局</dd>
    <dd class="sn">
      <img src="./imgs/flex17.png" alt="" loading="lazy">
      <div>Flex - 需要单独设置每个 item 属性</div>
      <pre>
.col2 {
    display: flex;
}

.col2 .left {
    flex-basis: 80px;
}

.col2 .right {
    flex: 1;
}</pre>
      <div>Grid - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
col2 {
  display: grid;
  grid-template-columns: 80px 1fr;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a
        href="https://blog.csdn.net/qq_38128179/article/details/86533976">三列布局/圣杯布局/双飞燕布局</a>；<a
        href="./web.html#browser">浏览器市场占有率</a></dd>
    <dd class="sn">
      <p>. 左右固定；中间自适应</p>
      <img src="./imgs/flex18.png" alt="" loading="lazy">
      <p>. 不考虑优先渲染</p>
      <pre>
&lt;div class="col3"&gt;
  &lt;div class="left"&gt;&lt;/div&gt;
  &lt;div class="main"&gt;&lt;/div&gt;
  &lt;div class="right"&gt;&lt;/div&gt;
&lt;/div&gt;      </pre>
      <div>Flex - 需要单独设置每个 item 属性</div>
      <pre>
.col3 {
    display: flex;
}

.col3 .left,
.col3 .right {
    flex-basis: 80px;
}

.col3 .main {
    flex: 1;
}</pre>
      <p>. 考虑优先渲染</p>
      <pre>
&lt;div class="col3"&gt;
  &lt;div class="main"&gt;&lt;/div&gt;
  &lt;div class="left"&gt;&lt;/div&gt;
  &lt;div class="right"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
      <pre>// ... ...</pre>
      <div>Grid - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
col3 {
  display: grid;
  grid-template-columns: 80px 1fr 80px;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 栈布局/煎饼布局</dd>
    <dd class="sn">
      <p>. 上下高度固定；中间自适应</p>
      <p>. 为了容纳更多内容，中间指定 overflow-y: auto</p>
      <p>. 多见于移动端</p>
      <img src="./imgs/flex19.png" alt="" loading="lazy">
      <div>Flex - 需要单独设置每个 item 属性</div>
      <pre>
.stack {
    display: flex;
    flex-direction: column;
    height: 100vh;
}

.stack .top,
.stack .bottom {
    height: 80px;
}

.stack .middle {
    flex: 1;
    overflow-y: auto;
}</pre>
      <div>Grid - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
.stack {
  display: grid;
  grid-template-rows: 80px 1fr 80px;
  min-height: 100vh;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 等分/不等分布局</dd>
    <dd>. 分别占1份、1份、1份</dd>
    <dd>. 很容易调整成不等分布局，如分别占1份、2份、3份、1份</dd>
    <dd class="sn">
      <div>Flex - 需要单独设置每个 item 属性</div>
      <pre>
.wrap {
    display: flex;
}

.wrap .item {
    flex: 1;
}</pre>
      <div>Grid - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
.wrap {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
}</pre>
      <p>或</p>
      <pre>
.wrap {
  display: grid;
  grid-template-columns: 1fr 2fr 3fr 1fr;
}</pre>
    </dd>
  </dl>
  <div class="chap">案例 Cases</div>
  <dl class="nav-cont">
    <dd>[<span class="iconfont icon-keyboard"></span>] 居中 - <a href="./demo/avatar.html">头像设计</a></dd>
    <dd>
      <div>. 指定大小</div>
      <div>. 仅仅使用定位</div>
      <div>. 使用定位配合弹性盒子</div>
      <div>. //后面是属性简写</div>
      <pre>
.wrap {
    display: flex;//df
    justify-content: center;//jcc
    align-items: center;//aic
    height: 100vh;//h100vh
}      </pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 分布 - <a href="./demo/nav-sample.html">常见导航</a>、<a
        href="./img.html">网站图文导航</a></dd>
    <dd>
      <div>. 使用1个 Flex：两端分布；&lt;nav&gt; + &lt;a&gt;</div>
      <div>. 使用2个 Flex：两端分布；&lt;ul&gt; + &lt;li&gt; + &lt;a&gt;</div>
      <div>. 使用1个 Flex：第一项右侧空白自动分配</div>
    </dd>
    <dd class="tips">
      <div>注意：行内元素 inline 的影响</div>
      <div>方便起见，图片会初始化 block 或 inline-block</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 方向/次序 - <a href="./demo/timeline.html">时间轴</a>、<a
        href="./agenda.html">学习路线 - agenda</a>、<a href="../course/rank.html">积分榜</a></dd>
    <dd>
      <div>. 方案1：利用 nth-child 调整子项的 order 实现</div>
      <div>. 方案2：利用方向 flex-direction 的反向实现</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 换行 - <a href="./demo/form-message1.html">表单设计 - 留言板</a></dd>
    <dd>
      <div>. 可以使用一个 flex 盒子；也可以使用 2个 flex 盒子</div>
      <div>. <a href="./animation.html">帧动画</a></div>
      <div>. <a href="./background3.html">径向渐变背景</a></div>
      <div>. <a href="./boxshadow.html">盒阴影</a></div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 自动分配 - <a href="./demo/grid-sudoku.html">九宫格</a>、<a
        href="./demo/up2u.html">个人网站 - 相册</a></dd>
    <dd>
      <div>. 每个 item 的宽度和 gap 相加不能超过100%</div>
      <div>. 通常取项目的宽度为25%-30%，剩下的空间由 auto 自动分配，故而可以撑满到3个子项，实现九宫格</div>
      <img src="./imgs/flex14.png" alt="" loading="lazy">
      <pre>
.sudoku {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  width: 100%;
  max-width: 800px;
}

.sudoku .item {
  width: 30%;
  aspect-ratio: 16/9;
  flex: auto;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 自动分配 - <a href="./demo/bread.html">面包屑导航</a></dd>
    <dd class="sn">
      <div>子项不做任何处理：边缘不齐[剩余空间没有利用起来]</div>
      <pre>
.bread {
    display: flex;
    flex-wrap: wrap;
}</pre>
      <div>改进方式</div>
      <p>. 子项显式指定 flex: auto；同九宫格一样，让其自动占用剩余空间</p>
      <p>. 子项指定最大宽度 max-width，避免最后一项铺满[是否需要铺满，看设计需求]</p>
      <p>. 可以使用水平分布吗？</p>
      <pre>
.bread.adv li {
    flex: auto;
    max-width: 115px;
    //
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/acc_flex.html">预分配 - 手风琴 - flex</a></dd>
    <dd>
      <div>. 开始平分空间；:hover时，使用 flex-basis 重新分配</div>
      <div>. 如何实现竖版的手风琴效果？</div>
      <pre>
.cor-wrap div {
  flex: 1;
}

.cor-wrap div:hover {
  flex-basis: 200px;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./index.html">首页小标题</a>、<a
        href="https://moodle.org/index.php?">moodle</a></dd>
    <dd>
      <div>. 指定高度 36px</div>
      <div>. 使用 Flex，使得空间可弹性变换</div>
      <div>. 静态底部边框为 2px；鼠标悬停时，为 5px</div>
      <div>. 使用过渡动画 transition</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/up2u.html#tri">版权LOGO</a>、<a
        href="./demo/margin-flex.html">相册</a></dd>
    <dd>
      <div>. <a href="./margin.html">负边距 margin</a> - 拉进/重叠</div>
      <div>. 路径裁剪 <a href="./clip-path.html">clip-path</a></div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./masonry.html">瀑布流</a></dd>
  </dl>
  <div class="chap">总结与作业 Summary & Homework</div>
  <dl>
    <dt>总结</dt>
    <dd>1.弹性盒子的特性和使用</dd>
    <dt>作业</dt>
    <dd>1.利用弹性盒子，优化个人网站导航</dd>
  </dl>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script src="/utils/custom/ham2024.js"></script>
</body>

</html>
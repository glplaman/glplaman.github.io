<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>下拉列表 &lt;select&gt;</title>
  <link rel="stylesheet" href="../css/common2025.css">
  <link rel="stylesheet" href="./css/select.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>下拉列表</h1>
    <span>&lt;select&gt;</span>
  </header>
  <section>
    <h3>Introduction</h3>
    <ul>
      <li>行内盒 inline-block</li>
      <li>配合 &lt;option&gt; 使用；其子元素只能是 &lt;option&gt; block</li>
      <li>name-value 比较特别。name写在 &lt;select&gt;；value 写在 &lt;option&gt;，也可以省略 value，系统会把 &lt;option&gt; 的值自动作为 value
      </li>
      <li>&lt;select&gt; 的宽度决定了 &lt;option&gt; 的宽度</li>
      <li>&lt;option&gt; 很难动态增加或减少</li>
      <li>使用 &lt;optgroup&gt; 分组；分组标题不能选择，仅仅作为提示</li>
      <li>如果需要动态增加或减少选项，需要从头定制。如利用无序列表实现选项；更多信息，请访问<a
          href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select">MDN -
          &lt;select&gt;</a>、<a href="https://www.filamentgroup.com/lab/select-css.html">making
          a better one</a>
      </li>
    </ul>
    <table>
      <caption>属性</caption>
      <thead>
        <tr>
          <th>item</th>
          <th>desc</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>selected</td>
          <td>默认选中当前 &lt;option&gt;</td>
        </tr>
        <tr>
          <td>size</td>
          <td>显示几个 option；通常不指定，以免影响页面布局</td>
        </tr>
        <tr>
          <td>multiple</td>
          <td>多选；使用较少</td>
        </tr>
      </tbody>
    </table>
    <pre>
&lt;select name="school" id="school" class="school"&gt;
  &lt;option value=""&gt;please select your school...&lt;/option&gt;
  &lt;option value="guilin"&gt;guilin&lt;/option&gt;
  &lt;option value="xiamen"&gt;xiamen&lt;/option&gt;
  &lt;option value="foshan"&gt;foshan&lt;/option&gt;
  &lt;option value="haikou" selected&gt;haikou&lt;/option&gt;
  &lt;option value="dongguan"&gt;dongguan&lt;/option&gt;
&lt;/select&gt;</pre>
  </section>
  <h2>CSS</h2>
  <section>
    <h3>Initialization</h3>
    <ul>
      <li>先初始化样式再定制样式</li>
      <li>去除边框、轮廓、背景</li>
      <li>字体和颜色继承父级</li>
      <li>下拉菜单的样式由浏览器原生控件控制，无法通过CSS完全自定义；具体要看浏览器支持</li>
      <li>&lt;select&gt; 可以设置字体颜色、大小、选项选中，其它可以设置的属性比较少</li>
      <li>&lt;option&gt 不支持 :hover；通过自定义数据data- 可以单独设置样式</li>
      <li>通常要隐去原有样式并重新设计</li>
      <li>更多信息，请访问 <a
          href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Advanced_form_styling#appearance_controlling_os-level_styling">MDN
          - appearance</a> 以便重新设计 - notoriously difficult to style productively with CSS</li>
    </ul>
    <div>[<span class="iconfont icon-keyboard"></span>] 初始化样式</div>
    <pre>
select {
  appearance: none;
  display: block;
  width: 100%;
  outline: none;
  border: none;
  font: inherit;
  color: inherit;
  background-color: transparent;
  padding: 0 10px;
}</pre>
    <div>[<span class="iconfont icon-keyboard"></span>] 定制样式1 - 不增加元素 </div>
    <ul>
      <li>隐去默认样式</li>
      <li>使用边框 border</li>
      <li>使用背景图片代替小三角，不能使用伪元素</li>
      <li>增加 hover 和 focus设计</li>
      <pre>
.school {
  border: 1px solid #eee;
  padding: 4px 10px;
  background-image: url(../imgs/down.png);
  background-repeat: no-repeat;
  background-position: right 10px top 10px;
}

.school:hover {
  border-color: #f40;
}</pre>
    </ul>
    <div>[<span class="iconfont icon-keyboard"></span>] 定制样式2 - 额外增加1个容器、1个遮罩和1个标记</div>
    <ul>
      <li>增加一个容器元素 wrap 包裹表单元素 &lt;select&gt;；wrap 为 <a href="./position.html">相对定位</a>，为 mask 和 marker 提供定位依据</li>
      <li>增加一个遮罩元素 mask，用于显示选中的值；mask 为绝对定位，覆盖 &lt;select&gt;；取消事件响应</li>
      <li>增加一个标记元素 marker，显示上下箭头，用于提示用户操作；marker 为绝对定位到容器右部；取消事件响应；可以是图片或字体图标</li>
      <li>设置 &lt;select&gt; 字体颜色透明；会影响到 &lt;option&gt;，所以需要设置 &lt;option&gt; 颜色为黑色</li>
      <li>增加 JavaScript；一开始获取 &lt;select&gt; 的值给遮罩元素 mask</li>
      <li>为 &lt;select&gt; 增加 change 事件，每次改变时修改遮罩元素 mask 的内容</li>
      <li>其它细节设计，如 高度、:hover、:focus等</li>
      <li>更多设计细节，请参考<a href="https://login.taobao.com/">天猫登录页面</a>、<a href="./demo/login_taobao.html">淘宝高仿</a></li>
    </ul>
    <div>[<span class="iconfont icon-keyboard"></span>] 定制样式3 - <a href="./demo/select.html">下拉列表</a>
      全新定制</div>
    <ul>
      <li>完全抛弃表单元素，从0开始设计</li>
      <li>无法响应表单事件</li>
    </ul>
  </section>
  <h2 id="js">JavaScript</h2>
  <section>
    <ul>
      <li>获取元素</li>
      <li>响应事件</li>
      <table>
        <caption>事件</caption>
        <thead>
          <tr>
            <th>item</th>
            <th>desc</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/change_event">change</a></td>
            <td>选择改变时</td>
          </tr>
        </tbody>
      </table>
      <pre>
const school = document.getElementById("school")
school.addEventListener('change',  ()=> {
    console.log(school.value);
    // ...
})</pre>
      <li>或者使用事件对象获取</li>
      <pre>
const school = document.getElementById("school")
school.addEventListener('change',  (e)=> {
    console.log(e.target.value);
    // ...
})</pre>
    </ul>
    <div>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/theme.html">主题切换 Theme</a></div>
    <ul>
      <li>使用自定义数据 data- 设置对应的背景色，用于提示用户</li>
      <li>单击时，选择颜色，修改页面背景</li>
      <li>其它设计：使用 <a href="./js/localStorage.html">本地保存 localStorage</a>保存主题色</li>
      <pre>&lt;option value="#f40" data-bg="#f40"&gt;红色&lt;/option&gt;</pre>
      <pre>
option[data-bg="#f40"] {
  background-color: #f40;
  color: #fff;
}</pre>
      <pre>
const body = document.body
const theme = document.getElementById('theme')
theme.addEventListener('change', () => {
  body.style.background = theme.value
})</pre>
    </ul>
  </section>
  <h2>Summary & Homework</h2>
  <section>
    <h3>Summary</h3>
    <ul>
      <li>&lt;select&gt; 的使用</li>
      <li>&lt;select&gt; 样式的设计；特别是伪类选择器 :hover、:checked 和属性 appearance 在样式设计中的作用</li>
      <li>&lt;select&gt; 的事件运用</li>
    </ul>
    <h3>Homework</h3>
    <div>. 使用 &lt;select&gt; 元素完善个人网站的留言板或信息采集表的设计</div>
  </section>
  <a class="back2top" target="_self" href="#">
    <svg t="1733899399303" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
      p-id="31526" width="32" height="32">
      <path
        d="M414.90963001 900.3614811l0-291.27111111 194.18074112 0 0 291.27111111 242.72592554 0 0-388.3614811 145.63555556 0-485.45185223-436.90666667-485.45185223 436.90666667 145.63555556 0 0 388.3614811z"
        fill="#ffffff" p-id="31527"></path>
    </svg>
  </a>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script src="/utils/custom/back2top.js"></script>
</body>

</html>
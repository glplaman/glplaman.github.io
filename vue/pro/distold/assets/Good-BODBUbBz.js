import{C as N,r as g,A as y,_ as k,D as v,a as i,E as G,e as p,c as r,z as I,T as L,p as w,k as x,d as s,o as $,F,m as T,f as S,N as b,g as _,t as n}from"./index-CxmxyRm1.js";import{u as B}from"./cart-RAVUwiio.js";const C=N("good",()=>{let e="https://glpla.github.io/utils/data/coffee.json",t=g([]),c=g(!1),a=g("");return{good:t,isLoading:c,errMsg:a,fetchGood:async()=>{c.value=!0,a.value="loading...";try{const d=await y.get(e);t.value=d.data.cont,a.value="loading ok"}catch(d){a.value=d.message}finally{c.value=!1,a.value="loading done"}},testFn:async()=>{const d=await y.get(e);t.value=d.data.cont}}}),V=e=>(w("data-v-f2580fd6"),e=e(),x(),e),D={key:0,class:"msg"},E=V(()=>s("div",{class:"modal-cont"},[s("div",{class:"item",style:{"--deg":"0"}}),s("div",{class:"item",style:{"--deg":"1"}}),s("div",{class:"item",style:{"--deg":"2"}}),s("div",{class:"item",style:{"--deg":"3"}}),s("div",{class:"item",style:{"--deg":"4"}}),s("div",{class:"item",style:{"--deg":"5"}}),s("div",{class:"item",style:{"--deg":"6"}}),s("div",{class:"item",style:{"--deg":"7"}}),s("div",{class:"item",style:{"--deg":"8"}}),s("div",{class:"item",style:{"--deg":"9"}}),s("div",{class:"item",style:{"--deg":"10"}}),s("div",{class:"item",style:{"--deg":"11"}}),s("div",{class:"item",style:{"--deg":"12"}}),s("div",{class:"item",style:{"--deg":"13"}}),s("div",{class:"item",style:{"--deg":"14"}}),s("div",{class:"item",style:{"--deg":"15"}}),s("div",{class:"item",style:{"--deg":"16"}}),s("div",{class:"item",style:{"--deg":"17"}})],-1)),M=[E],j={__name:"Loading",setup(e){const t=C();let c=v(()=>t.isLoading);return(a,u)=>(i(),G(L,{to:"body"},[p(c)?(i(),r("div",D,M)):I("",!0)]))}},z=k(j,[["__scopeId","data-v-f2580fd6"]]),A=e=>(w("data-v-11afc653"),e=e(),x(),e),O={class:"good"},q={key:0,class:"wrap"},H=["src"],J={class:"info"},K={class:"title"},P={class:"flavour"},Q={class:"desc"},R={class:"price"},U={class:"price-inner"},W={class:"price-discount"},X=["onClick"],Y=A(()=>s("span",{class:"iconfont icon-cart-full-fill"},null,-1)),Z=[Y],ss={key:1,class:"wrap"},es={__name:"Good",setup(e){let t=g(!1),c=g("");const a=C(),u=B(),f=v(()=>l=>(l.price*(1-l.discount)).toFixed(2)),d=l=>{u.addToCart(l),m("添加到购物车")},h=v(()=>a.good);$(()=>{a.fetchGood(),m("数据加载完毕")});const m=l=>{t.value=!0,c.value=l,setTimeout(()=>{t.value=!1},3e3)};return(l,ts)=>(i(),r("div",O,[h.value.length?(i(),r("div",q,[(i(!0),r(F,null,T(h.value,(o,as)=>(i(),r("div",{class:"item",key:o.id},[s("img",{class:"img",src:"https://glpla.github.io/utils"+o.img,alt:""},null,8,H),s("div",J,[s("div",K,[_(n(o.name)+" ",1),s("span",P,n(o.flavour),1)]),s("div",Q,n(o.desc.repeat(2)),1),s("div",R,[_("¥"+n(o.price)+" ",1),s("span",U,[_("(市场价"),s("span",null,"¥"+n(o.priceOrignal),1),_(")")])]),s("div",W,[_("预估到手 "),s("span",null,"¥"+n(f.value(o)),1)])]),s("div",{class:"btn",onClick:os=>d(o)},Z,8,X)]))),128))])):(i(),r("div",ss,"lists empty")),S(z),S(b,{flag:p(t),tips:p(c)},null,8,["flag","tips"])]))}},ls=k(es,[["__scopeId","data-v-11afc653"]]);export{ls as default};

import{C as N,r as g,A as y,_ as k,D as v,a as i,E as b,e as p,c as r,z as G,T as I,p as w,k as x,d as s,o as L,F as $,m as F,f as S,g as _,t as n}from"./index-zaYE3T3a.js";import{u as T}from"./cart-C_IwHJON.js";import{N as B}from"./Notice-BC1P1D-t.js";const C=N("good",()=>{let e="https://glpla.github.io/utils/data/coffee.json",t=g([]),d=g(!1),o=g("");return{good:t,isLoading:d,errMsg:o,fetchGood:async()=>{d.value=!0,o.value="loading...";try{const c=await y.get(e);t.value=c.data.cont,o.value="loading ok"}catch(c){o.value=c.message}finally{d.value=!1,o.value="loading done"}},testFn:async()=>{const c=await y.get(e);t.value=c.data.cont}}}),V=e=>(w("data-v-f2580fd6"),e=e(),x(),e),D={key:0,class:"msg"},E=V(()=>s("div",{class:"modal-cont"},[s("div",{class:"item",style:{"--deg":"0"}}),s("div",{class:"item",style:{"--deg":"1"}}),s("div",{class:"item",style:{"--deg":"2"}}),s("div",{class:"item",style:{"--deg":"3"}}),s("div",{class:"item",style:{"--deg":"4"}}),s("div",{class:"item",style:{"--deg":"5"}}),s("div",{class:"item",style:{"--deg":"6"}}),s("div",{class:"item",style:{"--deg":"7"}}),s("div",{class:"item",style:{"--deg":"8"}}),s("div",{class:"item",style:{"--deg":"9"}}),s("div",{class:"item",style:{"--deg":"10"}}),s("div",{class:"item",style:{"--deg":"11"}}),s("div",{class:"item",style:{"--deg":"12"}}),s("div",{class:"item",style:{"--deg":"13"}}),s("div",{class:"item",style:{"--deg":"14"}}),s("div",{class:"item",style:{"--deg":"15"}}),s("div",{class:"item",style:{"--deg":"16"}}),s("div",{class:"item",style:{"--deg":"17"}})],-1)),M=[E],j={__name:"Loading",setup(e){const t=C();let d=v(()=>t.isLoading);return(o,u)=>(i(),b(I,{to:"body"},[p(d)?(i(),r("div",D,M)):G("",!0)]))}},z=k(j,[["__scopeId","data-v-f2580fd6"]]),A=e=>(w("data-v-77b9907d"),e=e(),x(),e),O={class:"good"},q={key:0,class:"wrap"},H=["src"],J={class:"info"},K={class:"title"},P={class:"flavour"},Q={class:"desc"},R={class:"price"},U={class:"price-inner"},W={class:"price-discount"},X=["onClick"],Y=A(()=>s("span",{class:"iconfont icon-cart-full-fill"},null,-1)),Z=[Y],ss={key:1,class:"wrap"},es={__name:"Good",setup(e){let t=g(!1),d=g("");const o=C(),u=T(),m=v(()=>l=>(l.price*(1-l.discount)).toFixed(2)),c=l=>{u.addToCart(l),h("添加到购物车")},f=v(()=>o.good);L(()=>{o.fetchGood(),h("数据加载完毕")});const h=l=>{t.value=!0,d.value=l,setTimeout(()=>{t.value=!1},3e3)};return(l,ts)=>(i(),r("div",O,[f.value.length?(i(),r("div",q,[(i(!0),r($,null,F(f.value,(a,os)=>(i(),r("div",{class:"item",key:a.id},[s("img",{class:"img",src:"https://glpla.github.io/utils"+a.img,alt:""},null,8,H),s("div",J,[s("div",K,[_(n(a.name)+" ",1),s("span",P,n(a.flavour),1)]),s("div",Q,n(a.desc.repeat(2)),1),s("div",R,[_("¥"+n(a.price)+" ",1),s("span",U,[_("(市场价"),s("span",null,"¥"+n(a.priceOrignal),1),_(")")])]),s("div",W,[_("预估到手 "),s("span",null,"¥"+n(m.value(a)),1)])]),s("div",{class:"btn",onClick:as=>c(a)},Z,8,X)]))),128))])):(i(),r("div",ss,"lists empty")),S(z),S(B,{flag:p(t),tips:p(d)},null,8,["flag","tips"])]))}},is=k(es,[["__scopeId","data-v-77b9907d"]]);export{is as default};

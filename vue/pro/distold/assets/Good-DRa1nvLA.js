import{B as k,r as u,C as p,_ as h,D as v,b as i,E as S,u as x,c as n,y as C,T as w,p as m,l as y,d as s,o as G,F as I,e as L,i as $,k as r,t as l}from"./index-C6zddt7Q.js";import{u as b}from"./cart-B8gZZmuj.js";const f=k("good",()=>{let e="https://glpla.github.io/utils/data/coffee.json",a=u([]),c=u(!1),d=u("");return{good:a,isLoading:c,errMsg:d,fetchGood:async()=>{c.value=!0,d.value="loading...";try{const t=await p.get(e);a.value=t.data.cont,d.value="loading ok"}catch(t){d.value=t.message}finally{c.value=!1,d.value="loading done"}},testFn:async()=>{const t=await p.get(e);a.value=t.data.cont}}}),B=e=>(m("data-v-f2580fd6"),e=e(),y(),e),F={key:0,class:"msg"},N=B(()=>s("div",{class:"modal-cont"},[s("div",{class:"item",style:{"--deg":"0"}}),s("div",{class:"item",style:{"--deg":"1"}}),s("div",{class:"item",style:{"--deg":"2"}}),s("div",{class:"item",style:{"--deg":"3"}}),s("div",{class:"item",style:{"--deg":"4"}}),s("div",{class:"item",style:{"--deg":"5"}}),s("div",{class:"item",style:{"--deg":"6"}}),s("div",{class:"item",style:{"--deg":"7"}}),s("div",{class:"item",style:{"--deg":"8"}}),s("div",{class:"item",style:{"--deg":"9"}}),s("div",{class:"item",style:{"--deg":"10"}}),s("div",{class:"item",style:{"--deg":"11"}}),s("div",{class:"item",style:{"--deg":"12"}}),s("div",{class:"item",style:{"--deg":"13"}}),s("div",{class:"item",style:{"--deg":"14"}}),s("div",{class:"item",style:{"--deg":"15"}}),s("div",{class:"item",style:{"--deg":"16"}}),s("div",{class:"item",style:{"--deg":"17"}})],-1)),T=[N],V={__name:"Loading",setup(e){const a=f();let c=v(()=>a.isLoading);return(d,_)=>(i(),S(w,{to:"body"},[x(c)?(i(),n("div",F,T)):C("",!0)]))}},D=h(V,[["__scopeId","data-v-f2580fd6"]]),E=e=>(m("data-v-74f262a6"),e=e(),y(),e),M={class:"good"},j={key:0,class:"wrap"},O=["src"],q={class:"info"},z={class:"title"},A={class:"flavour"},H={class:"desc"},J={class:"price"},K={class:"price-inner"},P={class:"price-discount"},Q=["onClick"],R=E(()=>s("span",{class:"iconfont icon-cart-full-fill"},null,-1)),U=[R],W={key:1,class:"wrap"},X={__name:"Good",setup(e){const a=f(),c=b(),d=v(()=>t=>(t.price*(1-t.discount)).toFixed(2)),_=t=>{c.addToCart(t)},g=v(()=>a.good);return G(()=>{a.fetchGood()}),(t,Y)=>(i(),n("div",M,[g.value.length?(i(),n("div",j,[(i(!0),n(I,null,L(g.value,(o,Z)=>(i(),n("div",{class:"item",key:o.id},[s("img",{class:"img",src:"https://glpla.github.io/utils"+o.img,alt:""},null,8,O),s("div",q,[s("div",z,[r(l(o.name)+" ",1),s("span",A,l(o.flavour),1)]),s("div",H,l(o.desc.repeat(2)),1),s("div",J,[r("¥"+l(o.price)+" ",1),s("span",K,[r("(市场价"),s("span",null,"¥"+l(o.priceOrignal),1),r(")")])]),s("div",P,[r("预估到手 "),s("span",null,"¥"+l(d.value(o)),1)])]),s("div",{class:"btn",onClick:ss=>_(o)},U,8,Q)]))),128))])):(i(),n("div",W,"lists empty")),$(D)]))}},os=h(X,[["__scopeId","data-v-74f262a6"]]);export{os as default};

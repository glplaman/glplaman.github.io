import{_ as A,r as S,G as v,g as $,w as q,o as i,c,F as _,b as t,a as f,v as C,e as L,t as a,q as D,s as I}from"./index-4NOsK6IO.js";import{u as x}from"./cart-Dw6bVP2t.js";const l=d=>(D("data-v-186afbac"),d=d(),I(),d),O={class:"cart"},U={class:"item leading"},B={class:"leading-title"},F=l(()=>t("span",null,"商品",-1)),M={class:"sort-box"},V={class:"leading-title"},E=l(()=>t("span",null,"单价",-1)),G={class:"sort-box"},N={class:"leading-title"},T=l(()=>t("span",null,"库存",-1)),j={class:"sort-box"},z=l(()=>t("div",null,"操作",-1)),H={class:"item"},J=["value"],K={class:"ellipsis"},P={class:"btn-group"},Q=["onClick"],R={class:"number"},W=["onClick"],X={class:"total"},Y={key:1,class:"empty"},Z=l(()=>t("span",{class:"iconfont icon-cart-full-fill"},null,-1)),ss=l(()=>t("div",null,"购物车为空",-1)),ts=[Z,ss],os={__name:"Cart",setup(d){const k=x(),e=S({selectedAll:!1,selectedLists:[],lists:[]}),b=()=>{e.selectedLists.length==e.lists.length&&e.lists.length?e.selectedAll=!0:e.selectedAll=!1},g=o=>{o.quantity<o.stock&&o.quantity++},h=o=>{o.quantity>1&&o.quantity--},m=v(()=>e.selectedLists.reduce((o,s)=>o+s.quantity*s.price,0).toFixed(2)),u=o=>{e.lists.sort((s,n)=>s[o]-n[o])},p=o=>{e.lists.sort((s,n)=>n[o]-s[o])},w=o=>{e.lists.sort((s,n)=>s[o].localeCompare(n[o]))},y=o=>{e.lists.sort((s,n)=>n[o].localeCompare(s[o]))};return $(()=>{e.lists=v(()=>k.cart)}),q(()=>e.selectedAll,o=>{console.log(o),o&&(e.selectedLists=e.lists)}),(o,s)=>(i(),c("div",O,[e.lists.length?(i(),c(_,{key:0},[t("div",U,[f(t("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=n=>e.selectedAll=n),onChange:s[1]||(s[1]=(...n)=>o.selAll&&o.selAll(...n))},null,544),[[C,e.selectedAll]]),t("div",B,[F,t("div",M,[t("span",{class:"iconfont icon-up icon",onClick:s[2]||(s[2]=n=>w("name"))}),t("span",{class:"iconfont icon-down icon",onClick:s[3]||(s[3]=n=>y("name"))})])]),t("div",V,[E,t("div",G,[t("span",{class:"iconfont icon-up icon",onClick:s[4]||(s[4]=n=>u("price"))}),t("span",{class:"iconfont icon-down icon",onClick:s[5]||(s[5]=n=>p("price"))})])]),t("div",N,[T,t("div",j,[t("span",{class:"iconfont icon-up icon",onClick:s[6]||(s[6]=n=>u("stock"))}),t("span",{class:"iconfont icon-down icon",onClick:s[7]||(s[7]=n=>p("stock"))})])]),z]),(i(!0),c(_,null,L(e.lists,n=>(i(),c("div",H,[f(t("input",{type:"checkbox",value:n,"onUpdate:modelValue":s[8]||(s[8]=r=>e.selectedLists=r),onChange:b},null,40,J),[[C,e.selectedLists]]),t("div",K,a(n.name),1),t("div",null,a(n.price),1),t("div",null,a(n.stock),1),t("div",P,[t("button",{onClick:r=>h(n)},"-",8,Q),t("div",R,a(n.quantity),1),t("button",{onClick:r=>g(n)},"+",8,W)])]))),256)),t("div",X,[t("div",null,"总价: "+a(m.value),1),t("button",{class:"order-btn",onClick:s[9]||(s[9]=(...n)=>o.setOrder&&o.setOrder(...n))},"立即下单"),t("button",{class:"cart-btn",onClick:s[10]||(s[10]=(...n)=>o.setOrder&&o.setOrder(...n))},"找人代付")])],64)):(i(),c("div",Y,ts))]))}},ls=A(os,[["__scopeId","data-v-186afbac"]]);export{ls as default};

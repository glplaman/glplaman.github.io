import{l as b,r as u,_ as f,m,a as d,D as w,e as p,c as l,B as N,E as x,p as h,k as y,d as s,o as I,F as L,s as $,f as g,g as _,t as i}from"./index-C0kaU_JG.js";import{b as B}from"./api-CvFuAddq.js";import{u as G}from"./cart-ixJNYOJ3.js";import{N as T}from"./Notice-jwjBIq-d.js";const S=b("coffee",()=>{let e=u([]),t=u(!1),a=u("");return{goods:e,isLoading:t,errMsg:a,fetchGoods:async()=>{t.value=!0,a.value="loading...";const r=await B();e.value=r.data.cont,t.value=!1,a.value="loading ok"}}}),V=e=>(h("data-v-68ab2ac2"),e=e(),y(),e),D={key:0,class:"msg"},F=V(()=>s("div",{class:"modal-cont"},[s("div",{class:"item",style:{"--deg":"0"}}),s("div",{class:"item",style:{"--deg":"1"}}),s("div",{class:"item",style:{"--deg":"2"}}),s("div",{class:"item",style:{"--deg":"3"}}),s("div",{class:"item",style:{"--deg":"4"}}),s("div",{class:"item",style:{"--deg":"5"}}),s("div",{class:"item",style:{"--deg":"6"}}),s("div",{class:"item",style:{"--deg":"7"}}),s("div",{class:"item",style:{"--deg":"8"}}),s("div",{class:"item",style:{"--deg":"9"}}),s("div",{class:"item",style:{"--deg":"10"}}),s("div",{class:"item",style:{"--deg":"11"}}),s("div",{class:"item",style:{"--deg":"12"}}),s("div",{class:"item",style:{"--deg":"13"}}),s("div",{class:"item",style:{"--deg":"14"}}),s("div",{class:"item",style:{"--deg":"15"}}),s("div",{class:"item",style:{"--deg":"16"}}),s("div",{class:"item",style:{"--deg":"17"}})],-1)),E=[F],M={__name:"Loading",setup(e){const t=S();let a=m(()=>t.isLoading);return(n,r)=>(d(),w(x,{to:"body"},[p(a)?(d(),l("div",D,E)):N("",!0)]))}},O=f(M,[["__scopeId","data-v-68ab2ac2"]]),j=e=>(h("data-v-f3bf20d8"),e=e(),y(),e),q={class:"good"},z={key:0,class:"wrap"},A=["src"],H={class:"info"},J={class:"title"},K={class:"flavour"},P={class:"desc"},Q={class:"price"},R={class:"price-inner"},U={class:"price-discount"},W=["onClick"],X=j(()=>s("span",{class:"iconfont icon-cart-full-fill"},null,-1)),Y=[X],Z={key:1,class:"wrap"},ss={__name:"Good",setup(e){let t=u(!1),a=u("");const n=S(),r=G(),k=m(()=>c=>(c.price*(1-c.discount)).toFixed(2)),C=c=>{r.addToCart(c),v("添加到购物车")};I(()=>{n.fetchGoods(),r.fetchCart(),v("数据加载完毕")});const v=c=>{t.value=!0,a.value=c,setTimeout(()=>{t.value=!1},3e3)};return(c,es)=>(d(),l("div",q,[p(n).goods.length?(d(),l("div",z,[(d(!0),l(L,null,$(p(n).goods,(o,ts)=>(d(),l("div",{class:"item",key:o.id},[s("img",{class:"img",src:"https://glpla.github.io/utils"+o.img,alt:""},null,8,A),s("div",H,[s("div",J,[_(i(o.name)+" ",1),s("span",K,i(o.flavour),1)]),s("div",P,i(o.desc.repeat(2)),1),s("div",Q,[_("¥"+i(o.price)+" ",1),s("span",R,[_("(市场价"),s("span",null,"¥"+i(o.priceOrignal),1),_(")")])]),s("div",U,[_("预估到手 "),s("span",null,"¥"+i(k.value(o)),1)])]),s("div",{class:"btn",onClick:os=>C(o)},Y,8,W)]))),128))])):(d(),l("div",Z,"lists empty")),g(O),g(T,{flag:p(t),tips:p(a)},null,8,["flag","tips"])]))}},ls=f(ss,[["__scopeId","data-v-f3bf20d8"]]);export{ls as default};

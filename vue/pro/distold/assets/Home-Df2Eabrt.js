import{_ as y,r as m,o as M,a as i,c as r,u as C,b as $,d as e,e as h,f as n,w as p,g as _,h as k,n as w,i as S,j as B,p as T,k as V,l as j,m as L,q as A,F as x,s as I,t as b,v as D,x as E}from"./index-C0kaU_JG.js";import{g as H}from"./api-CvFuAddq.js";const P={__name:"Map",setup(u){let o=m(null),s=m(null);const l=m(""),a=m("");window.initMap=()=>{let t=new TMap.LatLng(a.value,l.value);s.value=new TMap.Map(o.value,{center:t,zoom:17.2,viewMode:"2D",showControl:!1}),f(t)};const f=t=>{new TMap.MultiMarker({position:t,map:s.value,styles:{marker:new TMap.MarkerStyle({width:20,height:30,anchor:{x:10,y:30}})},geometries:[{position:t,id:"marker"}]})},v=()=>{let t=document.createElement("script");t.type="text/javascript",t.src="https://map.qq.com/api/gljs?v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&callback=initMap",document.body.appendChild(t)},c=t=>{l.value=t.coords.longitude,a.value=t.coords.latitude,v()},g=t=>{console.error(`Error code: ${t.code}. Message: ${t.message}`)};return M(()=>{navigator.geolocation.getCurrentPosition(c,g)}),(t,ye)=>(i(),r("div",{class:"map",ref_key:"map",ref:o},null,512))}},R=y(P,[["__scopeId","data-v-c34e7a8b"]]),d=u=>(T("data-v-06136121"),u=u(),V(),u),W={class:"aside"},q={class:"logo"},z=["src"],F={key:0,class:"iconfont icon-close"},N={key:1,class:"iconfont iconfont icon-thlist"},O=d(()=>e("div",{class:"title"},"大树 · 桂林 · 中国",-1)),U=d(()=>e("span",{class:"iconfont icon-customer-fill"},null,-1)),J=d(()=>e("span",{class:"iconfont icon-all-fill"},null,-1)),Z=d(()=>e("span",{class:"iconfont icon-cart-full-fill"},null,-1)),G=d(()=>e("span",{class:"iconfont icon-order-fill"},null,-1)),K=d(()=>e("span",{class:"iconfont icon-shuju"},null,-1)),Q=d(()=>e("span",{class:"iconfont icon-message-comments-fill"},null,-1)),X=d(()=>e("span",{class:"iconfont icon-layers-fill"},null,-1)),Y=d(()=>e("span",{class:"iconfont icon-settings-fill"},null,-1)),ee=d(()=>e("span",{class:"iconfont icon-fuwu"},null,-1)),se=d(()=>e("span",{class:"iconfont icon-info-fill"},null,-1)),te=d(()=>e("span",{class:"iconfont icon-logout"},null,-1)),oe={__name:"Aside",setup(u){let o=m("/imgs/avatar.jpg"),s=m(!1);const l=C(),a=()=>{B.replace("/"),localStorage.removeItem("token")};return(f,v)=>{const c=$("router-link");return i(),r("div",W,[e("div",q,[e("img",{src:h(o),alt:""},null,8,z)]),e("div",{class:"ham",onClick:v[0]||(v[0]=g=>h(l).switchFlag())},[h(l).flag?(i(),r("span",F)):(i(),r("span",N))]),O,e("nav",{class:w(["main-nav",{active:h(l).flag}])},[n(c,{class:"nav-item",style:{"--delay":"5"},to:"/home/user"},{default:p(()=>[U,_(" User")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"4"},to:"/home/good"},{default:p(()=>[J,_(" Good")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"3"},to:"/home/cart"},{default:p(()=>[Z,_(" Cart")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"2"},to:"/home/order"},{default:p(()=>[G,_(" Order")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"1"},to:"/home/charts"},{default:p(()=>[K,_(" Charts")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"0"},to:"/home/message"},{default:p(()=>[Q,_(" Meassage")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"1"},to:"/home/todo"},{default:p(()=>[X,_(" Todo")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"2"},to:"/home/setup"},{default:p(()=>[Y,_(" Setup")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"3"},to:"/home/admin"},{default:p(()=>[ee,_(" Admin")]),_:1}),n(c,{class:"nav-item",style:{"--delay":"4"},to:"/home/about"},{default:p(()=>[se,_(" About")]),_:1}),e("a",{class:"nav-item",style:{"--delay":"5"},onClick:k(a,["prevent"])},[te,_(" Logout")])],2),e("div",{class:w(["map-box",{active:h(s)}]),onClick:v[2]||(v[2]=g=>S(s)?s.value=!0:s=!0)},[n(R),e("div",{class:"close-btn",onClick:v[1]||(v[1]=k(g=>S(s)?s.value=!1:s=!1,["stop"]))},"×")],2)])}}},ae=y(oe,[["__scopeId","data-v-06136121"]]),ne=j("swiper",()=>{let u=m([]),o=m(!1),s=m("");return{swipers:u,isLoading:o,errMsg:s,fetchSwiper:async()=>{o.value=!0,s.value="loading...";const a=await H();u.value=[...a.data.cont],o.value=!1,s.value="loading ok"}}}),le={class:"dot-box"},ce={key:1},ie={__name:"HomeSwiper",setup(u){const o=ne(),s=L(()=>o.swipers);let l,a=m(0);const f=()=>{a.value++,a.value=a.value%o.swipers.length};return M(()=>{o.fetchSwiper(),l=setInterval(()=>{f()},3e3)}),A(()=>{clearInterval(l)}),(v,c)=>s.value.length?(i(),r("div",{key:0,class:"home-swiper",style:D(`background-image:url(${s.value[h(a)].url})`)},[e("div",le,[(i(!0),r(x,null,I(s.value,(g,t)=>(i(),r("div",{class:w(["dot",{active:t==h(a)}]),key:g.id},b(t+1),3))),128))])],4)):(i(),r("div",ce,"empty"))}},re=y(ie,[["__scopeId","data-v-e31d7144"]]),de={class:"bread"},ue=["to"],_e={__name:"Bread",setup(u){const o=E();return(s,l)=>(i(),r("div",de,[(i(!0),r(x,null,I(h(o).matched,(a,f)=>(i(),r("div",{key:f,to:a.path},b(a.name)+"/",9,ue))),128))]))}},pe=y(_e,[["__scopeId","data-v-6deb1e26"]]),me={class:"home"},ve={class:"main"},he={class:"header"},fe={class:"cont"},ge={__name:"Home",setup(u){return(o,s)=>{const l=$("RouterView");return i(),r("div",me,[n(ae),e("div",ve,[e("header",he,[n(re)]),n(pe),e("div",fe,[n(l)])])])}}},Se=y(ge,[["__scopeId","data-v-ae9d7c34"]]);export{Se as default};

import{_ as oe,r as se,o as le,b as ce,c as de,d as ue}from"./index-lUHXOrYZ.js";import{_ as G,j as _,d as N,m as F,c as O,a as ee,J as pe,aO as me,aY as he,C as ve,g as M,X as P,aZ as ge,a_ as fe,L as te,K as ae,a$ as H,h as ye,A as B,W as xe,b0 as Se,O as W,G as U,a0 as X,$ as Y,aa as Z,b1 as Ae,a5 as Ie,a7 as Me,a6 as be,a9 as we,a4 as Te,b2 as _e,b3 as Le,z as Ce,b as q,b4 as De,aI as J,U as Ne,N as re,ae as Ve,af as ke}from"./installCanvasRenderer-CioQ-8se.js";import{d as Re}from"./dataFilter-Cxhk-D3S.js";import{c as Ee}from"./createSeriesDataSimply-BcVC4w9g.js";import{L as Ge,i as Be}from"./LegendVisualProvider-Bbs_quxI.js";import{A as $e,a as Pe,b as ze,c as Fe}from"./axisAlignTicks-C49psHoB.js";import{A as He,I as K}from"./AxisBuilder-BHtNzj-w.js";import{i as We}from"./install-BeibJXVY.js";var E=Pe.value;function $(r,e){return N({show:e},r)}var Ue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),a=this.get("splitNumber"),i=this.get("scale"),l=this.get("axisLine"),o=this.get("axisTick"),n=this.get("axisLabel"),p=this.get("axisName"),v=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),A=this.get("axisNameGap"),c=this.get("triggerEvent"),m=_(this.get("indicator")||[],function(s){s.max!=null&&s.max>0&&!s.min?s.min=0:s.min!=null&&s.min<0&&!s.max&&(s.max=0);var g=p;s.color!=null&&(g=N({color:s.color},p));var u=F(O(s),{boundaryGap:t,splitNumber:a,scale:i,axisLine:l,axisTick:o,axisLabel:n,name:s.text,showName:v,nameLocation:"end",nameGap:A,nameTextStyle:g,triggerEvent:c},!1);if(ee(h)){var f=u.name;u.name=h.replace("{value}",f??"")}else pe(h)&&(u.name=h(u.name,u));var d=new me(u,null,this.ecModel);return he(d,$e.prototype),d.mainType="radar",d.componentIndex=this.componentIndex,d},this);this._indicatorModels=m},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:F({lineStyle:{color:"#bbb"}},E.axisLine),axisLabel:$(E.axisLabel,!1),axisTick:$(E.axisTick,!1),splitLine:$(E.splitLine,!0),splitArea:$(E.splitArea,!0),indicator:[]},e}(ve);const Xe=Ue;var Ye=["axisLine","axisTickLabel","axisName"],Ze=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,i){var l=this.group;l.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var a=t.coordinateSystem,i=a.getIndicatorAxes(),l=_(i,function(o){var n=o.model.get("showName")?o.name:"",p=new He(o.model,{axisName:n,position:[a.cx,a.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return p});M(l,function(o){M(Ye,o.add,o),this.group.add(o.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var a=t.coordinateSystem,i=a.getIndicatorAxes();if(!i.length)return;var l=t.get("shape"),o=t.getModel("splitLine"),n=t.getModel("splitArea"),p=o.getModel("lineStyle"),v=n.getModel("areaStyle"),h=o.get("show"),A=n.get("show"),c=p.get("color"),m=v.get("color"),s=P(c)?c:[c],g=P(m)?m:[m],u=[],f=[];function d(T,C,k){var R=k%C.length;return T[R]=T[R]||[],R}if(l==="circle")for(var S=i[0].getTicksCoords(),D=a.cx,V=a.cy,y=0;y<S.length;y++){if(h){var w=d(u,s,y);u[w].push(new ge({shape:{cx:D,cy:V,r:S[y].coord}}))}if(A&&y<S.length-1){var w=d(f,g,y);f[w].push(new fe({shape:{cx:D,cy:V,r0:S[y].coord,r:S[y+1].coord}}))}}else for(var x,b=_(i,function(T,C){var k=T.getTicksCoords();return x=x==null?k.length-1:Math.min(k.length-1,x),_(k,function(R){return a.coordToPoint(R.coord,C)})}),L=[],y=0;y<=x;y++){for(var I=[],z=0;z<i.length;z++)I.push(b[z][y]);if(I[0]&&I.push(I[0].slice()),h){var w=d(u,s,y);u[w].push(new te({shape:{points:I}}))}if(A&&L){var w=d(f,g,y-1);f[w].push(new ae({shape:{points:I.concat(L)}}))}L=I.slice().reverse()}var ne=p.getLineStyle(),ie=v.getAreaStyle();M(f,function(T,C){this.group.add(H(T,{style:N({stroke:"none",fill:g[C%g.length]},ie),silent:!0}))},this),M(u,function(T,C){this.group.add(H(T,{style:N({fill:"none",stroke:s[C%s.length]},ne),silent:!0}))},this)},e.type="radar",e}(ye);const qe=Ze;var Je=function(r){G(e,r);function e(t,a,i){var l=r.call(this,t,a,i)||this;return l.type="value",l.angle=0,l.name="",l}return e}(ze);const Ke=Je;var je=function(){function r(e,t,a){this.dimensions=[],this._model=e,this._indicatorAxes=_(e.getIndicatorModels(),function(i,l){var o="indicator_"+l,n=new Ke(o,new K);return n.name=i.get("name"),n.model=i,i.axis=n,this.dimensions.push(o),n},this),this.resize(e,a)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var a=this._indicatorAxes[t];return this.coordToPoint(a.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var a=this._indicatorAxes[t],i=a.angle,l=this.cx+e*Math.cos(i),o=this.cy-e*Math.sin(i);return[l,o]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,a=e[1]-this.cy,i=Math.sqrt(t*t+a*a);t/=i,a/=i;for(var l=Math.atan2(-a,t),o=1/0,n,p=-1,v=0;v<this._indicatorAxes.length;v++){var h=this._indicatorAxes[v],A=Math.abs(l-h.angle);A<o&&(n=h,p=v,o=A)}return[p,+(n&&n.coordToData(i))]},r.prototype.resize=function(e,t){var a=e.get("center"),i=t.getWidth(),l=t.getHeight(),o=Math.min(i,l)/2;this.cx=B(a[0],i),this.cy=B(a[1],l),this.startAngle=e.get("startAngle")*Math.PI/180;var n=e.get("radius");(ee(n)||xe(n))&&(n=[0,n]),this.r0=B(n[0],o),this.r=B(n[1],o),M(this._indicatorAxes,function(p,v){p.setExtent(this.r0,this.r);var h=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),p.angle=h},this)},r.prototype.update=function(e,t){var a=this._indicatorAxes,i=this._model;M(a,function(n){n.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(n,p){if(!(n.get("coordinateSystem")!=="radar"||e.getComponent("radar",n.get("radarIndex"))!==i)){var v=n.getData();M(a,function(h){h.scale.unionExtentFromData(v,v.mapDimension(h.dim))})}},this);var l=i.get("splitNumber"),o=new K;o.setExtent(0,l),o.setInterval(1),M(a,function(n,p){Fe(n.scale,n.model,o)})},r.prototype.convertToPixel=function(e,t,a){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(e,t,a){return console.warn("Not implemented."),null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.create=function(e,t){var a=[];return e.eachComponent("radar",function(i){var l=new r(i,e,t);a.push(l),i.coordinateSystem=l}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=a[i.get("radarIndex")||0])}),a},r.dimensions=[],r}();const Qe=je;function Oe(r){r.registerCoordinateSystem("radar",Qe),r.registerComponentModel(Xe),r.registerComponentView(qe),r.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(a){t.setItemVisual(a,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function et(r){r.eachSeriesByType("radar",function(e){var t=e.getData(),a=[],i=e.coordinateSystem;if(i){var l=i.getIndicatorAxes();M(l,function(o,n){t.each(t.mapDimension(l[n].dim),function(p,v){a[v]=a[v]||[];var h=i.dataToPoint(p,n);a[v][n]=j(h)?h:Q(i)})}),t.each(function(o){var n=Se(a[o],function(p){return j(p)})||Q(i);a[o].push(n.slice()),t.setItemLayout(o,a[o])})}})}function j(r){return!isNaN(r[0])&&!isNaN(r[1])}function Q(r){return[r.cx,r.cy]}function tt(r){var e=r.polar;if(e){P(e)||(e=[e]);var t=[];M(e,function(a,i){a.indicator?(a.type&&!a.shape&&(a.shape=a.type),r.radar=r.radar||[],P(r.radar)||(r.radar=[r.radar]),r.radar.push(a)):t.push(a)}),r.polar=t}M(r.series,function(a){a&&a.type==="radar"&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}var at=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,i){var l=t.coordinateSystem,o=this.group,n=t.getData(),p=this._data;function v(c,m){var s=c.getItemVisual(m,"symbol")||"circle";if(s!=="none"){var g=Le(c.getItemVisual(m,"symbolSize")),u=Ce(s,-1,-1,2,2),f=c.getItemVisual(m,"symbolRotate")||0;return u.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:f*Math.PI/180||0}),u}}function h(c,m,s,g,u,f){s.removeAll();for(var d=0;d<m.length-1;d++){var S=v(g,u);S&&(S.__dimIdx=d,c[d]?(S.setPosition(c[d]),_e[f?"initProps":"updateProps"](S,{x:m[d][0],y:m[d][1]},t,u)):S.setPosition(m[d]),s.add(S))}}function A(c){return _(c,function(m){return[l.cx,l.cy]})}n.diff(p).add(function(c){var m=n.getItemLayout(c);if(m){var s=new ae,g=new te,u={shape:{points:m}};s.shape.points=A(m),g.shape.points=A(m),W(s,u,t,c),W(g,u,t,c);var f=new U,d=new U;f.add(g),f.add(s),f.add(d),h(g.shape.points,m,d,n,c,!0),n.setItemGraphicEl(c,f)}}).update(function(c,m){var s=p.getItemGraphicEl(m),g=s.childAt(0),u=s.childAt(1),f=s.childAt(2),d={shape:{points:n.getItemLayout(c)}};d.shape.points&&(h(g.shape.points,d.shape.points,f,n,c,!1),X(u),X(g),Y(g,d,t),Y(u,d,t),n.setItemGraphicEl(c,s))}).remove(function(c){o.remove(p.getItemGraphicEl(c))}).execute(),n.eachItemGraphicEl(function(c,m){var s=n.getItemModel(m),g=c.childAt(0),u=c.childAt(1),f=c.childAt(2),d=n.getItemVisual(m,"style"),S=d.fill;o.add(c),g.useStyle(N(s.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),Z(g,s,"lineStyle"),Z(u,s,"areaStyle");var D=s.getModel("areaStyle"),V=D.isEmpty()&&D.parentModel.isEmpty();u.ignore=V,M(["emphasis","select","blur"],function(x){var b=s.getModel([x,"areaStyle"]),L=b.isEmpty()&&b.parentModel.isEmpty();u.ensureState(x).ignore=L&&V}),u.useStyle(N(D.getAreaStyle(),{fill:S,opacity:.7,decal:d.decal}));var y=s.getModel("emphasis"),w=y.getModel("itemStyle").getItemStyle();f.eachChild(function(x){if(x instanceof Ae){var b=x.style;x.useStyle(Ie({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},d))}else x.useStyle(d),x.setColor(S),x.style.strokeNoScale=!0;var L=x.ensureState("emphasis");L.style=O(w);var I=n.getStore().get(n.getDimensionIndex(x.__dimIdx),m);(I==null||isNaN(I))&&(I=""),Me(x,be(s),{labelFetcher:n.hostModel,labelDataIndex:m,labelDimIndex:x.__dimIdx,defaultText:I,inheritColor:S,defaultOpacity:d.opacity})}),we(c,y.get("focus"),y.get("blurScope"),y.get("disabled"))}),this._data=n},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Te);const rt=at;var nt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Ge(q(this.getData,this),q(this.getRawData,this))},e.prototype.getInitialData=function(t,a){return Ee(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,a,i){var l=this.getData(),o=this.coordinateSystem,n=o.getIndicatorAxes(),p=this.getData().getName(t),v=p===""?this.name:p,h=De(this,t);return J("section",{header:v,sortBlocks:!0,blocks:_(n,function(A){var c=l.get(l.mapDimension(A.dim),t);return J("nameValue",{markerType:"subItem",markerColor:h,name:A.name,value:c,sortParam:c})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var a=this.getData(),i=this.coordinateSystem,l=a.getValues(_(i.dimensions,function(v){return a.mapDimension(v)}),t),o=0,n=l.length;o<n;o++)if(!isNaN(l[o])){var p=i.getIndicatorAxes();return i.coordToPoint(p[o].dataToCoord(l[o]),o)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Ne);const it=nt;function ot(r){re(Oe),r.registerChartView(rt),r.registerSeriesModel(it),r.registerLayout(et),r.registerProcessor(Re("radar")),r.registerPreprocessor(tt)}const st={class:"radar"},lt={__name:"Radar",setup(r){let e=se(null);re([We,Be,ot,ke]);var t;return t={title:{text:"Basic Radar Chart"},legend:{data:["Allocated Budget","Actual Spending"]},radar:{indicator:[{name:"Sales",max:6500},{name:"Administration",max:16e3},{name:"Information Technology",max:3e4},{name:"Customer Support",max:38e3},{name:"Development",max:52e3},{name:"Marketing",max:25e3}]},series:[{name:"Budget vs spending",type:"radar",data:[{value:[4200,3e3,2e4,35e3,5e4,18e3],name:"Allocated Budget"},{value:[5e3,14e3,28e3,26e3,42e3,21e3],name:"Actual Spending"}]}]},le(()=>{var a=Ve(e.value);t&&a.setOption(t)}),(a,i)=>(ce(),de("div",st,[ue("div",{class:"chart",ref_key:"main",ref:e},null,512)]))}},ft=oe(lt,[["__scopeId","data-v-d4823dea"]]);export{ft as default};

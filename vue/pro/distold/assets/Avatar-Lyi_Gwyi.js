import{_ as m,m as d,r as c,b as u,c as _,d as o,u as f}from"./index-C6zddt7Q.js";const g={class:"avatar"},h=["src"],v={__name:"Avatar",setup(k){const n=d("axios");let s=c({}),l=c(null);const r=()=>{l.value.click()},i=a=>{console.log(a.target.files[0]);let e=a.target.files[0];p(e)},p=a=>{let e=new FormData;e.append("image",a),n.post("/api/uploadImg",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{console.log("then",t),s.value.imgUrl=t.data.data.url}).catch(t=>{console.log("err",t)})};return(a,e)=>(u(),_("div",g,[o("img",{src:f(s).imgUrl,alt:""},null,8,h),o("input",{type:"file",name:"image",ref_key:"ipt",ref:l,accept:"image/*",hidden:"",onChange:i},null,544),o("div",{class:"avatar-btn",onClick:r},"上传头像")]))}},I=m(v,[["__scopeId","data-v-f7131643"]]);export{I as default};

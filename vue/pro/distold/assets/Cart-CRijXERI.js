import{_ as $,G as w,D as _,o as x,c as l,F as v,d as s,x as m,H as k,m as A,t as c,a,p as q,k as D}from"./index-CxmxyRm1.js";import{u as I}from"./cart-RAVUwiio.js";const i=d=>(q("data-v-b76cb2a3"),d=d(),D(),d),O={class:"cart"},U={class:"item leading"},B={class:"leading-title"},F=i(()=>s("span",null,"商品",-1)),V={class:"sort-box"},E={class:"leading-title"},M=i(()=>s("span",null,"单价",-1)),G={class:"sort-box"},H={class:"leading-title"},N=i(()=>s("span",null,"库存",-1)),T={class:"sort-box"},j=i(()=>s("div",null,"操作",-1)),z={class:"item"},J=["value"],K={class:"ellipsis"},P={class:"btn-group"},Q=["onClick"],R={class:"number"},W=["onClick"],X={class:"total"},Y={key:1,class:"empty"},Z=i(()=>s("span",{class:"iconfont icon-cart-full-fill"},null,-1)),ss=i(()=>s("div",null,"购物车为空",-1)),ts=[Z,ss],es={__name:"Cart",setup(d){const b=I(),o=w({selectedAll:!1,selectedLists:[],lists:[{id:70,name:"红烧牛肉面",price:15,number:1,stock:100},{id:71,name:"大馅水饺",price:15,number:1,stock:200},{id:72,name:"隆江猪脚饭",price:12,number:1,stock:50},{id:73,name:"乌龙纯茶",price:9,number:1,stock:100},{id:74,name:"桂二酸菜鱼",price:88,number:1,stock:100},{id:75,name:"正新大鸡排",price:10,number:1,stock:50},{id:76,name:"瑞幸咖啡",price:9.9,number:1,stock:200},{id:77,name:"海底捞",price:200,number:1,stock:500},{id:78,name:"晋道刀削面",price:12,number:1,stock:100},{id:79,name:"尚园自助餐",price:13.8,number:1,stock:50}]}),f=()=>{o.selectedAll?o.selectedLists=o.lists:o.selectedLists=[]},C=()=>{o.selectedLists.length==o.lists.length&&o.lists.length?o.selectedAll=!0:o.selectedAll=!1},h=n=>{n.quantity<n.stock&&n.quantity++},g=n=>{n.quantity>1&&n.quantity--},y=_(()=>{let n=0;return o.selectedLists.forEach(t=>{n+=t.quantity*t.price}),n.toFixed(2)}),u=n=>{o.lists.sort((t,e)=>t[n]-e[n])},p=n=>{o.lists.sort((t,e)=>e[n]-t[n])},L=n=>{o.lists.sort((t,e)=>t[n].localeCompare(e[n]))},S=n=>{o.lists.sort((t,e)=>e[n].localeCompare(t[n]))};return x(()=>{o.lists=_(()=>b.cart)}),(n,t)=>(a(),l("div",O,[o.lists.length?(a(),l(v,{key:0},[s("div",U,[m(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedAll=e),onChange:f},null,544),[[k,o.selectedAll]]),s("div",B,[F,s("div",V,[s("span",{class:"iconfont icon-up icon",onClick:t[1]||(t[1]=e=>L("name"))}),s("span",{class:"iconfont icon-down icon",onClick:t[2]||(t[2]=e=>S("name"))})])]),s("div",E,[M,s("div",G,[s("span",{class:"iconfont icon-up icon",onClick:t[3]||(t[3]=e=>u("price"))}),s("span",{class:"iconfont icon-down icon",onClick:t[4]||(t[4]=e=>p("price"))})])]),s("div",H,[N,s("div",T,[s("span",{class:"iconfont icon-up icon",onClick:t[5]||(t[5]=e=>u("stock"))}),s("span",{class:"iconfont icon-down icon",onClick:t[6]||(t[6]=e=>p("stock"))})])]),j]),(a(!0),l(v,null,A(o.lists,e=>(a(),l("div",z,[m(s("input",{type:"checkbox",value:e,"onUpdate:modelValue":t[7]||(t[7]=r=>o.selectedLists=r),onChange:C},null,40,J),[[k,o.selectedLists]]),s("div",K,c(e.name),1),s("div",null,c(e.price),1),s("div",null,c(e.stock),1),s("div",P,[s("button",{onClick:r=>g(e)},"-",8,Q),s("div",R,c(e.quantity),1),s("button",{onClick:r=>h(e)},"+",8,W)])]))),256)),s("div",X,[s("div",null,"总价: "+c(y.value),1),s("button",{class:"order-btn",onClick:t[8]||(t[8]=(...e)=>n.setOrder&&n.setOrder(...e))},"下单"),s("button",{class:"cart-btn",onClick:t[9]||(t[9]=(...e)=>n.setOrder&&n.setOrder(...e))},"添加到购物车")])],64)):(a(),l("div",Y,ts))]))}},is=$(es,[["__scopeId","data-v-b76cb2a3"]]);export{is as default};

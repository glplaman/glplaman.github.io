import{_ as S,G as $,D as _,o as w,c as l,F as v,d as s,x as m,H as k,m as A,t as c,a,p as q,k as D}from"./index-zaYE3T3a.js";import{u as I}from"./cart-C_IwHJON.js";const i=d=>(q("data-v-c25e160f"),d=d(),D(),d),U={class:"cart"},B={class:"item leading"},F={class:"leading-title"},V=i(()=>s("span",null,"商品",-1)),E={class:"sort-box"},M={class:"leading-title"},O=i(()=>s("span",null,"单价",-1)),T={class:"sort-box"},G={class:"leading-title"},H=i(()=>s("span",null,"库存",-1)),N={class:"sort-box"},j=i(()=>s("div",null,"操作",-1)),z={class:"item"},J=["value"],K={class:"ellipsis"},P={class:"btn-group"},Q=["onClick"],R={class:"number"},W=["onClick"],X={class:"total"},Y={key:1,class:"empty"},Z=i(()=>s("span",{class:"iconfont icon-cart-full-fill"},null,-1)),ss=i(()=>s("div",null,"购物车为空",-1)),ts=[Z,ss],es={__name:"Cart",setup(d){const f=I(),n=$({selectedAll:!1,selectedLists:[],lists:[{id:70,name:"红烧牛肉面",price:15,number:1,stock:100},{id:71,name:"大馅水饺",price:15,number:1,stock:200},{id:72,name:"隆江猪脚饭",price:12,number:1,stock:50},{id:73,name:"乌龙纯茶",price:9,number:1,stock:100},{id:74,name:"桂二酸菜鱼",price:88,number:1,stock:100},{id:75,name:"正新大鸡排",price:10,number:1,stock:50},{id:76,name:"瑞幸咖啡",price:9.9,number:1,stock:200},{id:77,name:"海底捞",price:200,number:1,stock:500},{id:78,name:"晋道刀削面",price:12,number:1,stock:100},{id:79,name:"尚园自助餐",price:13.8,number:1,stock:50}]}),b=()=>{n.selectedAll?n.selectedLists=n.lists:n.selectedLists=[]},h=()=>{n.selectedLists.length==n.lists.length&&n.lists.length?n.selectedAll=!0:n.selectedAll=!1},C=o=>{o.quantity<o.stock&&o.quantity++},g=o=>{o.quantity>1&&o.quantity--},x=_(()=>{let o=0;return n.selectedLists.forEach(t=>{o+=t.quantity*t.price}),o.toFixed(2)}),u=o=>{n.lists.sort((t,e)=>t[o]-e[o])},p=o=>{n.lists.sort((t,e)=>e[o]-t[o])},y=o=>{n.lists.sort((t,e)=>t[o].localeCompare(e[o]))},L=o=>{n.lists.sort((t,e)=>e[o].localeCompare(t[o]))};return w(()=>{n.lists=_(()=>f.cart)}),(o,t)=>(a(),l("div",U,[n.lists.length?(a(),l(v,{key:0},[s("div",B,[m(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedAll=e),onChange:b},null,544),[[k,n.selectedAll]]),s("div",F,[V,s("div",E,[s("span",{class:"iconfont icon-up icon",onClick:t[1]||(t[1]=e=>y("name"))}),s("span",{class:"iconfont icon-down icon",onClick:t[2]||(t[2]=e=>L("name"))})])]),s("div",M,[O,s("div",T,[s("span",{class:"iconfont icon-up icon",onClick:t[3]||(t[3]=e=>u("price"))}),s("span",{class:"iconfont icon-down icon",onClick:t[4]||(t[4]=e=>p("price"))})])]),s("div",G,[H,s("div",N,[s("span",{class:"iconfont icon-up icon",onClick:t[5]||(t[5]=e=>u("stock"))}),s("span",{class:"iconfont icon-down icon",onClick:t[6]||(t[6]=e=>p("stock"))})])]),j]),(a(!0),l(v,null,A(n.lists,e=>(a(),l("div",z,[m(s("input",{type:"checkbox",value:e,"onUpdate:modelValue":t[7]||(t[7]=r=>n.selectedLists=r),onChange:h},null,40,J),[[k,n.selectedLists]]),s("div",K,c(e.name),1),s("div",null,c(e.price),1),s("div",null,c(e.stock),1),s("div",P,[s("button",{onClick:r=>g(e)},"-",8,Q),s("div",R,c(e.quantity),1),s("button",{onClick:r=>C(e)},"+",8,W)])]))),256)),s("div",X,[s("div",null,"Total: "+c(x.value),1),s("button",{onClick:t[8]||(t[8]=(...e)=>o.setOrder&&o.setOrder(...e))},"下单")])],64)):(a(),l("div",Y,ts))]))}},is=S(es,[["__scopeId","data-v-c25e160f"]]);export{is as default};

import{_ as ne,r as le,o as oe,b as se,c as ve,d as ge}from"./index-BXEbfFZd.js";import{_ as K,aw as ue,b6 as ce,e as he,a4 as x,L as X,af as de,a6 as q,a7 as F,ae as Y,W as $,ci as Q,al as j,bo as fe,E as me,av as I,au as ee,a3 as te,G as ae,at as ye,aL as pe,aq as we,U as Se,i as Ae,ag as re,aj as be,ah as Me,J as _e,az as Pe,aA as xe}from"./installCanvasRenderer-Dz4YvAYh.js";import{S as ie}from"./sausage-DvDP_B-f.js";import{c as ke}from"./createSeriesDataSimply-DDnhIBOn.js";var Ce=function(){function p(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return p}(),Ee=function(p){K(i,p);function i(e){var r=p.call(this,e)||this;return r.type="pointer",r}return i.prototype.getDefaultShape=function(){return new Ce},i.prototype.buildPath=function(e,r){var f=Math.cos,s=Math.sin,t=r.r,c=r.width,o=r.angle,_=r.x-f(o)*c*(c>=t/3?1:2),m=r.y-s(o)*c*(c>=t/3?1:2);o=r.angle-Math.PI/2,e.moveTo(_,m),e.lineTo(r.x+f(o)*c,r.y+s(o)*c),e.lineTo(r.x+f(r.angle)*t,r.y+s(r.angle)*t),e.lineTo(r.x-f(o)*c,r.y-s(o)*c),e.lineTo(_,m)},i}(ue);function Le(p,i){var e=p.get("center"),r=i.getWidth(),f=i.getHeight(),s=Math.min(r,f),t=x(e[0],i.getWidth()),c=x(e[1],i.getHeight()),o=x(p.get("radius"),s/2);return{cx:t,cy:c,r:o}}function J(p,i){var e=p==null?"":p+"";return i&&(Se(i)?e=i.replace("{value}",e):Ae(i)&&(e=i(p))),e}var De=function(p){K(i,p);function i(){var e=p!==null&&p.apply(this,arguments)||this;return e.type=i.type,e}return i.prototype.render=function(e,r,f){this.group.removeAll();var s=e.get(["axisLine","lineStyle","color"]),t=Le(e,f);this._renderMain(e,r,f,s,t),this._data=e.getData()},i.prototype.dispose=function(){},i.prototype._renderMain=function(e,r,f,s,t){var c=this.group,o=e.get("clockwise"),_=-e.get("startAngle")/180*Math.PI,m=-e.get("endAngle")/180*Math.PI,E=e.getModel("axisLine"),N=E.get("roundCap"),V=N?ie:re,y=E.get("show"),W=E.getModel("lineStyle"),L=W.get("width"),h=[_,m];ce(h,!o),_=h[0],m=h[1];for(var n=m-_,A=_,P=[],D=0;y&&D<s.length;D++){var k=Math.min(Math.max(s[D][0],0),1);m=_+n*k;var C=new V({shape:{startAngle:A,endAngle:m,cx:t.cx,cy:t.cy,clockwise:o,r0:t.r-L,r:t.r},silent:!0});C.setStyle({fill:s[D][1]}),C.setStyle(W.getLineStyle(["color","width"])),P.push(C),A=m}P.reverse(),he(P,function(T){return c.add(T)});var M=function(T){if(T<=0)return s[0][1];var a;for(a=0;a<s.length;a++)if(s[a][0]>=T&&(a===0?0:s[a-1][0])<T)return s[a][1];return s[a-1][1]};this._renderTicks(e,r,f,M,t,_,m,o,L),this._renderTitleAndDetail(e,r,f,M,t),this._renderAnchor(e,t),this._renderPointer(e,r,f,M,t,_,m,o,L)},i.prototype._renderTicks=function(e,r,f,s,t,c,o,_,m){for(var E=this.group,N=t.cx,V=t.cy,y=t.r,W=+e.get("min"),L=+e.get("max"),h=e.getModel("splitLine"),n=e.getModel("axisTick"),A=e.getModel("axisLabel"),P=e.get("splitNumber"),D=n.get("splitNumber"),k=x(h.get("length"),y),C=x(n.get("length"),y),M=c,T=(o-c)/P,a=T/D,d=h.getModel("lineStyle").getLineStyle(),S=n.getModel("lineStyle").getLineStyle(),w=h.get("distance"),v,g,l=0;l<=P;l++){if(v=Math.cos(M),g=Math.sin(M),h.get("show")){var u=w?w+m:m,b=new X({shape:{x1:v*(y-u)+N,y1:g*(y-u)+V,x2:v*(y-k-u)+N,y2:g*(y-k-u)+V},style:d,silent:!0});d.stroke==="auto"&&b.setStyle({stroke:s(l/P)}),E.add(b)}if(A.get("show")){var u=A.get("distance")+w,G=J(de(l/P*(L-W)+W),A.get("formatter")),z=s(l/P),B=v*(y-k-u)+N,Z=g*(y-k-u)+V,R=A.get("rotate"),H=0;R==="radial"?(H=-M+2*Math.PI,H>Math.PI/2&&(H+=Math.PI)):R==="tangential"?H=-M-Math.PI/2:be(R)&&(H=R*Math.PI/180),H===0?E.add(new q({style:F(A,{text:G,x:B,y:Z,verticalAlign:g<-.8?"top":g>.8?"bottom":"middle",align:v<-.4?"left":v>.4?"right":"center"},{inheritColor:z}),silent:!0})):E.add(new q({style:F(A,{text:G,x:B,y:Z,verticalAlign:"middle",align:"center"},{inheritColor:z}),silent:!0,originX:B,originY:Z,rotation:H}))}if(n.get("show")&&l!==P){var u=n.get("distance");u=u?u+m:m;for(var O=0;O<=D;O++){v=Math.cos(M),g=Math.sin(M);var U=new X({shape:{x1:v*(y-u)+N,y1:g*(y-u)+V,x2:v*(y-C-u)+N,y2:g*(y-C-u)+V},silent:!0,style:S});S.stroke==="auto"&&U.setStyle({stroke:s((l+O/D)/P)}),E.add(U),M+=a}M-=a}else M+=T}},i.prototype._renderPointer=function(e,r,f,s,t,c,o,_,m){var E=this.group,N=this._data,V=this._progressEls,y=[],W=e.get(["pointer","show"]),L=e.getModel("progress"),h=L.get("show"),n=e.getData(),A=n.mapDimension("value"),P=+e.get("min"),D=+e.get("max"),k=[P,D],C=[c,o];function M(a,d){var S=n.getItemModel(a),w=S.getModel("pointer"),v=x(w.get("width"),t.r),g=x(w.get("length"),t.r),l=e.get(["pointer","icon"]),u=w.get("offsetCenter"),b=x(u[0],t.r),G=x(u[1],t.r),z=w.get("keepAspect"),B;return l?B=te(l,b-v/2,G-g,v,g,null,z):B=new Ee({shape:{angle:-Math.PI/2,width:v,r:g,x:b,y:G}}),B.rotation=-(d+Math.PI/2),B.x=t.cx,B.y=t.cy,B}function T(a,d){var S=L.get("roundCap"),w=S?ie:re,v=L.get("overlap"),g=v?L.get("width"):m/n.count(),l=v?t.r-g:t.r-(a+1)*g,u=v?t.r:t.r-a*g,b=new w({shape:{startAngle:c,endAngle:d,cx:t.cx,cy:t.cy,clockwise:_,r0:l,r:u}});return v&&(b.z2=D-n.get(A,a)%D),b}(h||W)&&(n.diff(N).add(function(a){var d=n.get(A,a);if(W){var S=M(a,c);Y(S,{rotation:-((isNaN(+d)?C[0]:$(d,k,C,!0))+Math.PI/2)},e),E.add(S),n.setItemGraphicEl(a,S)}if(h){var w=T(a,c),v=L.get("clip");Y(w,{shape:{endAngle:$(d,k,C,v)}},e),E.add(w),Q(e.seriesIndex,n.dataType,a,w),y[a]=w}}).update(function(a,d){var S=n.get(A,a);if(W){var w=N.getItemGraphicEl(d),v=w?w.rotation:c,g=M(a,v);g.rotation=v,j(g,{rotation:-((isNaN(+S)?C[0]:$(S,k,C,!0))+Math.PI/2)},e),E.add(g),n.setItemGraphicEl(a,g)}if(h){var l=V[d],u=l?l.shape.endAngle:c,b=T(a,u),G=L.get("clip");j(b,{shape:{endAngle:$(S,k,C,G)}},e),E.add(b),Q(e.seriesIndex,n.dataType,a,b),y[a]=b}}).execute(),n.each(function(a){var d=n.getItemModel(a),S=d.getModel("emphasis"),w=S.get("focus"),v=S.get("blurScope"),g=S.get("disabled");if(W){var l=n.getItemGraphicEl(a),u=n.getItemVisual(a,"style"),b=u.fill;if(l instanceof fe){var G=l.style;l.useStyle(me({image:G.image,x:G.x,y:G.y,width:G.width,height:G.height},u))}else l.useStyle(u),l.type!=="pointer"&&l.setColor(b);l.setStyle(d.getModel(["pointer","itemStyle"]).getItemStyle()),l.style.fill==="auto"&&l.setStyle("fill",s($(n.get(A,a),k,[0,1],!0))),l.z2EmphasisLift=0,I(l,d),ee(l,w,v,g)}if(h){var z=y[a];z.useStyle(n.getItemVisual(a,"style")),z.setStyle(d.getModel(["progress","itemStyle"]).getItemStyle()),z.z2EmphasisLift=0,I(z,d),ee(z,w,v,g)}}),this._progressEls=y)},i.prototype._renderAnchor=function(e,r){var f=e.getModel("anchor"),s=f.get("show");if(s){var t=f.get("size"),c=f.get("icon"),o=f.get("offsetCenter"),_=f.get("keepAspect"),m=te(c,r.cx-t/2+x(o[0],r.r),r.cy-t/2+x(o[1],r.r),t,t,null,_);m.z2=f.get("showAbove")?1:0,m.setStyle(f.getModel("itemStyle").getItemStyle()),this.group.add(m)}},i.prototype._renderTitleAndDetail=function(e,r,f,s,t){var c=this,o=e.getData(),_=o.mapDimension("value"),m=+e.get("min"),E=+e.get("max"),N=new ae,V=[],y=[],W=e.isAnimationEnabled(),L=e.get(["pointer","showAbove"]);o.diff(this._data).add(function(h){V[h]=new q({silent:!0}),y[h]=new q({silent:!0})}).update(function(h,n){V[h]=c._titleEls[n],y[h]=c._detailEls[n]}).execute(),o.each(function(h){var n=o.getItemModel(h),A=o.get(_,h),P=new ae,D=s($(A,[m,E],[0,1],!0)),k=n.getModel("title");if(k.get("show")){var C=k.get("offsetCenter"),M=t.cx+x(C[0],t.r),T=t.cy+x(C[1],t.r),a=V[h];a.attr({z2:L?0:2,style:F(k,{x:M,y:T,text:o.getName(h),align:"center",verticalAlign:"middle"},{inheritColor:D})}),P.add(a)}var d=n.getModel("detail");if(d.get("show")){var S=d.get("offsetCenter"),w=t.cx+x(S[0],t.r),v=t.cy+x(S[1],t.r),g=x(d.get("width"),t.r),l=x(d.get("height"),t.r),u=e.get(["progress","show"])?o.getItemVisual(h,"style").fill:D,a=y[h],b=d.get("formatter");a.attr({z2:L?0:2,style:F(d,{x:w,y:v,text:J(A,b),width:isNaN(g)?null:g,height:isNaN(l)?null:l,align:"center",verticalAlign:"middle"},{inheritColor:u})}),ye(a,{normal:d},A,function(z){return J(z,b)}),W&&pe(a,h,o,e,{getFormattedLabel:function(z,B,Z,R,H,O){return J(O?O.interpolatedValue:A,b)}}),P.add(a)}N.add(P)}),this.group.add(N),this._titleEls=V,this._detailEls=y},i.type="gauge",i}(we);const Ve=De;var Ne=function(p){K(i,p);function i(){var e=p!==null&&p.apply(this,arguments)||this;return e.type=i.type,e.visualStyleAccessPath="itemStyle",e}return i.prototype.getInitialData=function(e,r){return ke(this,["value"])},i.type="series.gauge",i.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},i}(Me);const Te=Ne;function Ge(p){p.registerChartView(Ve),p.registerSeriesModel(Te)}const ze={class:"speed"},We={__name:"Speed",setup(p){let i=le(null);_e([Ge,xe]);let e;return e={series:[{type:"gauge",axisLine:{lineStyle:{width:30,color:[[.3,"#67e0e3"],[.7,"#37a2da"],[1,"#fd666d"]]}},pointer:{itemStyle:{color:"auto"}},axisTick:{distance:-30,length:8,lineStyle:{color:"#fff",width:2}},splitLine:{distance:-30,length:30,lineStyle:{color:"#fff",width:4}},axisLabel:{color:"inherit",distance:40,fontSize:20},detail:{valueAnimation:!0,formatter:"{value} km/h",color:"inherit"},data:[{value:70}]}]},oe(()=>{let r=Pe(i.value);setInterval(function(){r.setOption({series:[{data:[{value:+(Math.random()*100).toFixed(2)}]}]})},2e3),e&&r.setOption(e)}),(r,f)=>(se(),ve("div",ze,[ge("div",{class:"chart",ref_key:"main",ref:i},null,512)]))}},Re=ne(We,[["__scopeId","data-v-5a03942d"]]);export{Re as default};

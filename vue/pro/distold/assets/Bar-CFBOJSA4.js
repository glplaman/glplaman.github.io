import{_ as Ht,r as Yt,o as Xt,b as $t,c as Ut,d as jt}from"./index-BXEbfFZd.js";import{S as k,e as S,c as Z,a as Kt,b as Mt,i as le,d as ie,m as qt,p as Jt,f as Qt,g as J,h as er,C as tr,j as ue,k as rr,_ as C,l as Le,n as ar,o as H,q as ir,r as bt,s as nr,t as or,u as sr,B as ke,v as Ze,w as wt,x as lr,y as j,z as ur,A as Dt,R as z,D as he,G as ne,E as Ie,F as hr,L as Be,H as ze,I as Ct,J as K,K as cr,M as dr,N as D,O as Lt,P as Ge,Q as oe,T as fr,U as Te,V as pr,W as E,X as vr,Y as U,Z as Ne,$ as Re,a0 as It,a1 as gr,a2 as mr,a3 as We,a4 as Fe,a5 as yr,a6 as xr,a7 as Ar,a8 as _r,a9 as Sr,aa as He,ab as Mr,ac as br,ad as wr,ae as Y,af as Q,ag as Pe,ah as Tt,ai as Ye,aj as Dr,ak as Cr,al as q,am as Lr,an as Ir,ao as Xe,ap as Oe,aq as Tr,ar as Rr,as as Pr,at as Or,au as Er,av as Vr,aw as kr,ax as Zr,ay as $e,az as Br,aA as zr}from"./installCanvasRenderer-Dz4YvAYh.js";import{A as Gr,a as Nr,b as Wr,c as Fr,i as Hr}from"./install-DesYsCc5.js";import{e as Yr,O as Xr,a as $r,c as Ur,g as jr,i as Kr,b as Me,n as Ue,A as qr,u as Jr,d as Qr,f as ea,l as ta}from"./AxisBuilder-CJ6ixypU.js";import{i as je,f as Ke,l as ra,A as aa,a as ia}from"./install-dJ-wKo8Z.js";import{S as qe}from"./sausage-DvDP_B-f.js";import{g as na}from"./sectorHelper-BmNEt_nx.js";var oa=function(){function i(t){this.coordSysDims=[],this.axisMap=Z(),this.categoryAxisMap=Z(),this.coordSysName=t}return i}();function sa(i){var t=i.get("coordinateSystem"),e=new oa(t),r=la[t];if(r)return r(i,e,e.axisMap,e.categoryAxisMap),e}var la={cartesian2d:function(i,t,e,r){var a=i.getReferringComponents("xAxis",k).models[0],n=i.getReferringComponents("yAxis",k).models[0];t.coordSysDims=["x","y"],e.set("x",a),e.set("y",n),N(a)&&(r.set("x",a),t.firstCategoryDimIndex=0),N(n)&&(r.set("y",n),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(i,t,e,r){var a=i.getReferringComponents("singleAxis",k).models[0];t.coordSysDims=["single"],e.set("single",a),N(a)&&(r.set("single",a),t.firstCategoryDimIndex=0)},polar:function(i,t,e,r){var a=i.getReferringComponents("polar",k).models[0],n=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",n),e.set("angle",o),N(n)&&(r.set("radius",n),t.firstCategoryDimIndex=0),N(o)&&(r.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(i,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(i,t,e,r){var a=i.ecModel,n=a.getComponent("parallel",i.get("parallelIndex")),o=t.coordSysDims=n.dimensions.slice();S(n.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),h=o[l];e.set(h,u),N(u)&&(r.set(h,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function N(i){return i.get("type")==="category"}function ua(i,t){var e=i.get("coordinateSystem"),r=tr.get(e),a;return t&&t.coordSysDims&&(a=ue(t.coordSysDims,function(n){var o={name:n},s=t.axisMap.get(n);if(s){var l=s.get("type");o.type=rr(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function ha(i,t,e){var r,a;return e&&S(i,function(n,o){var s=n.coordDim,l=e.categoryAxisMap.get(s);l&&(r==null&&(r=o),n.ordinalMeta=l.getOrdinalMeta(),t&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(i[r].otherDims.itemName=0),r}function Rt(i,t,e){e=e||{};var r=t.getSourceManager(),a,n=!1;i?(n=!0,a=Kt(i)):(a=r.getSource(),n=a.sourceFormat===Mt);var o=sa(t),s=ua(t,o),l=e.useEncodeDefaulter,u=le(l)?l:l?ie(qt,s,t):null,h={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},c=Jt(a,h),p=ha(c.dimensions,e.createInvertedIndices,o),d=n?null:r.getSharedDataStore(c),f=Yr(t,{schema:c,store:d}),v=new Qt(c,t);v.setCalculationInfo(f);var g=p!=null&&ca(a)?function(x,m,y,A){return A===p?y:this.defaultDimValueGetter(x,m,y,A)}:null;return v.hasItemOption=!1,v.initData(n?a:d,null,g),v}function ca(i){if(i.sourceFormat===Mt){var t=da(i.data||[]);return!J(er(t))}}function da(i){for(var t=0;t<i.length&&i[t]==null;)t++;return i[t]}var fa=function(i){C(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Le);const pa=fa;var be=function(i){C(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",k).models[0]},t.type="cartesian2dAxis",t}(Le);ar(be,Gr);var va={value:1,category:1,time:1,log:1};function Je(i,t,e,r){S(va,function(a,n){var o=H(H({},Nr[n],!0),r,!0),s=function(l){C(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=t+"Axis."+n,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var p=ir(this),d=p?bt(h):{},f=c.getTheme();H(h,f.get(n+"Axis")),H(h,this.getDefaultOption()),h.type=Qe(h),p&&nr(h,d,p)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=Xr.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+n,u.defaultOption=o,u}(e);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(t+"Axis",Qe)}function Qe(i){return i.type||(i.data?"category":"value")}var ga=function(){function i(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return i.prototype.getAxis=function(t){return this._axes[t]},i.prototype.getAxes=function(){return ue(this._dimList,function(t){return this._axes[t]},this)},i.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),or(this.getAxes(),function(e){return e.scale.type===t})},i.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},i}();const ma=ga;var we=["x","y"];function et(i){return i.type==="interval"||i.type==="time"}var ya=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=we,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!et(e)||!et(r))){var a=e.getExtent(),n=r.getExtent(),o=this.dataToPoint([a[0],n[0]]),s=this.dataToPoint([a[1],n[1]]),l=a[1]-a[0],u=n[1]-n[0];if(!(!l||!u)){var h=(s[0]-o[0])/l,c=(s[1]-o[1])/u,p=o[0]-a[0]*h,d=o[1]-n[0]*c,f=this._transform=[h,0,0,c,p,d];this._invTransform=sr([],f)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&a.contain(a.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,r){var a=this.dataToPoint(e),n=this.dataToPoint(r),o=this.getArea(),s=new ke(a[0],a[1],n[0]-a[0],n[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,r,a){a=a||[];var n=e[0],o=e[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return Ze(a,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(n,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},t.prototype.clampData=function(e,r){var a=this.getAxis("x").scale,n=this.getAxis("y").scale,o=a.getExtent(),s=n.getExtent(),l=a.parse(e[0]),u=n.parse(e[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(e,r){var a=[];if(this._invTransform)return Ze(a,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return a[0]=n.coordToData(n.toLocalCoord(e[0]),r),a[1]=o.coordToData(o.toLocalCoord(e[1]),r),a},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var r=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),n=Math.min(r[0],r[1])-e,o=Math.min(a[0],a[1])-e,s=Math.max(r[0],r[1])-n+e,l=Math.max(a[0],a[1])-o+e;return new ke(n,o,s,l)},t}(ma),xa=function(i){C(t,i);function t(e,r,a,n,o){var s=i.call(this,e,r,a)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Wr);const Aa=xa;var _a=function(){function i(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=we,this._initCartesian(t,e,r),this.model=t}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function a(o){var s,l=ur(o),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var p=+l[c],d=o[p],f=d.model,v=d.scale;Me(v)&&f.get("alignTicks")&&f.get("interval")==null?h.push(d):(Ue(v,f),Me(v)&&(s=d))}h.length&&(s||(s=h.pop(),Ue(s.scale,s.model)),S(h,function(g){Fr(g.scale,g.model,s.scale)}))}}a(r.x),a(r.y);var n={};S(r.x,function(o){tt(r,"y",o,n)}),S(r.y,function(o){tt(r,"x",o,n)}),this.resize(this.model,e)},i.prototype.resize=function(t,e,r){var a=t.getBoxLayoutParams(),n=!r&&t.get("containLabel"),o=wt(a,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(S(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=$r(u);if(h){var c=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);o[c]-=h[c]+p,u.position==="top"?o.y+=h.height+p:u.position==="left"&&(o.x+=h.width+p)}}}),l()),S(this._coordsList,function(u){u.calcAffineTransform()});function l(){S(s,function(u){var h=u.isHorizontal(),c=h?[0,o.width]:[0,o.height],p=u.inverse?1:0;u.setExtent(c[p],c[1-p]),Sa(u,h?o.x:o.y)})}},i.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null)return r[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}lr(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,n=this._coordsList;a<n.length;a++)if(n[a].getAxis("x").index===t||n[a].getAxis("y").index===e)return n[a]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(t,e,r){var a=this._findConvertTarget(e);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},i.prototype.convertFromPixel=function(t,e,r){var a=this._findConvertTarget(e);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},i.prototype._findConvertTarget=function(t){var e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",k).models[0],a=t.yAxisModel||e&&e.getReferringComponents("yAxis",k).models[0],n=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,j(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},i.prototype._initCartesian=function(t,e,r){var a=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,S(s.x,function(h,c){S(s.y,function(p,d){var f="x"+c+"y"+d,v=new ya(f);v.master=a,v.model=t,a._coordsMap[f]=v,a._coordsList.push(v),v.addAxis(h),v.addAxis(p)})});function u(h){return function(c,p){if(pe(c,t)){var d=c.get("position");h==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var f=new Aa(h,Ur(c),[0,0],c.get("type"),d),v=f.type==="category";f.onBand=v&&c.get("boundaryGap"),f.inverse=c.get("inverse"),c.axis=f,f.model=c,f.grid=n,f.index=p,n._axesList.push(f),s[h][p]=f,l[h]++}}}},i.prototype._updateScale=function(t,e){S(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var n=a.model.get("categorySortInfo");a.scale.setSortInfo(n)}}),t.eachSeries(function(a){if(je(a)){var n=Ke(a),o=n.xAxisModel,s=n.yAxisModel;if(!pe(o,e)||!pe(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),h=l.getAxis("x"),c=l.getAxis("y");r(u,h),r(u,c)}},this);function r(a,n){S(jr(a,n.dim),function(o){n.scale.unionExtentFromData(a,o)})}},i.prototype.getTooltipAxes=function(t){var e=[],r=[];return S(this.getCartesians(),function(a){var n=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(n);j(e,n)<0&&e.push(n),j(r,o)<0&&r.push(o)}),{baseAxes:e,otherAxes:r}},i.create=function(t,e){var r=[];return t.eachComponent("grid",function(a,n){var o=new i(a,t,e);o.name="grid_"+n,o.resize(a,e,!0),a.coordinateSystem=o,r.push(o)}),t.eachSeries(function(a){if(je(a)){var n=Ke(a),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},i.dimensions=we,i}();function pe(i,t){return i.getCoordSysModel()===t}function tt(i,t,e,r){e.getAxesOnZeroOf=function(){return n?[n]:[]};var a=i[t],n,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)rt(a[l])&&(n=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&rt(a[u])&&!r[h(a[u])]){n=a[u];break}n&&(r[h(n)]=!0);function h(c){return c.dim+"_"+c.index}}function rt(i){return i&&i.type!=="category"&&i.type!=="time"&&Kr(i)}function Sa(i,t){var e=i.getExtent(),r=e[0]+e[1];i.toGlobalCoord=i.dim==="x"?function(a){return a+t}:function(a){return r-a+t},i.toLocalCoord=i.dim==="x"?function(a){return a-t}:function(a){return r-a+t}}const Ma=_a;var De=Dt();function ba(i,t,e,r){var a=e.axis;if(!a.scale.isBlank()){var n=e.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var h=s.length,c=De(i).splitAreaColors,p=Z(),d=0;if(c)for(var f=0;f<u.length;f++){var v=c.get(u[f].tickValue);if(v!=null){d=(v+(h-1)*f)%h;break}}var g=a.toGlobalCoord(u[0].coord),x=o.getAreaStyle();s=J(s)?s:[s];for(var f=1;f<u.length;f++){var m=a.toGlobalCoord(u[f].coord),y=void 0,A=void 0,_=void 0,w=void 0;a.isHorizontal()?(y=g,A=l.y,_=m-y,w=l.height,g=y+_):(y=l.x,A=g,_=l.width,w=m-A,g=A+w);var b=u[f-1].tickValue;b!=null&&p.set(b,d),t.add(new z({anid:b!=null?"area_"+b:null,shape:{x:y,y:A,width:_,height:w},style:he({fill:s[d]},x),autoBatch:!0,silent:!0})),d=(d+1)%h}De(i).splitAreaColors=p}}}function wa(i){De(i).splitAreaColors=null}var Da=["axisLine","axisTickLabel","axisName"],Ca=["splitArea","splitLine","minorSplitLine"],Pt=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,r,a,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ne,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=ra(s,e),u=new qr(e,Ie({handleAutoShown:function(c){for(var p=s.coordinateSystem.getCartesians(),d=0;d<p.length;d++)if(Me(p[d].getOtherAxis(e.axis).scale))return!0;return!1}},l));S(Da,u.add,u),this._axisGroup.add(u.getGroup()),S(Ca,function(c){e.get([c,"show"])&&La[c](this,this._axisGroup,e,s)},this);var h=n&&n.type==="changeAxisOrder"&&n.isInitSort;h||hr(o,this._axisGroup,e),i.prototype.render.call(this,e,r,a,n)}},t.prototype.remove=function(){wa(this)},t.type="cartesianAxis",t}(aa),La={splitLine:function(i,t,e,r){var a=e.axis;if(!a.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=J(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=a.isHorizontal(),h=0,c=a.getTicksCoords({tickModel:n}),p=[],d=[],f=o.getLineStyle(),v=0;v<c.length;v++){var g=a.toGlobalCoord(c[v].coord);u?(p[0]=g,p[1]=l.y,d[0]=g,d[1]=l.y+l.height):(p[0]=l.x,p[1]=g,d[0]=l.x+l.width,d[1]=g);var x=h++%s.length,m=c[v].tickValue,y=new Be({anid:m!=null?"line_"+c[v].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:he({stroke:s[x]},f),silent:!0});ze(y.shape,f.lineWidth),t.add(y)}}},minorSplitLine:function(i,t,e,r){var a=e.axis,n=e.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var h=[],c=[],p=o.getLineStyle(),d=0;d<u.length;d++)for(var f=0;f<u[d].length;f++){var v=a.toGlobalCoord(u[d][f].coord);l?(h[0]=v,h[1]=s.y,c[0]=v,c[1]=s.y+s.height):(h[0]=s.x,h[1]=v,c[0]=s.x+s.width,c[1]=v);var g=new Be({anid:"minor_line_"+u[d][f].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:p,silent:!0});ze(g.shape,p.lineWidth),t.add(g)}},splitArea:function(i,t,e,r){ba(i,t,e,r)}},Ot=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(Pt),Ia=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=Ot.type,e}return t.type="yAxis",t}(Pt),Ta=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new z({shape:e.coordinateSystem.getRect(),style:he({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ct),at={offset:0};function Ra(i){i.registerComponentView(Ta),i.registerComponentModel(pa),i.registerCoordinateSystem("cartesian2d",Ma),Je(i,"x",be,at),Je(i,"y",be,at),i.registerComponentView(Ot),i.registerComponentView(Ia),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Pa(i){K(Ra),K(ia)}var it="\0_ec_interaction_mutex";function nt(i,t){return!!Oa(i)[t]}function Oa(i){return i[it]||(i[it]={})}cr({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},dr);var Ea=function(i){C(t,i);function t(e){var r=i.call(this)||this;r._zr=e;var a=D(r._mousedownHandler,r),n=D(r._mousemoveHandler,r),o=D(r._mouseupHandler,r),s=D(r._mousewheelHandler,r),l=D(r._pinchHandler,r);return r.enable=function(u,h){this.disable(),this._opt=he(Lt(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",a),e.on("mousemove",n),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",a),e.off("mousemove",n),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Ge(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var a=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,a,n)&&(this._x=a,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!ae("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||nt(this._zr,"globalPan"))){var r=e.offsetX,a=e.offsetY,n=this._x,o=this._y,s=r-n,l=a-o;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&oe(e.event),Et(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:r,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Ge(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=ae("zoomOnMouseWheel",e,this._opt),a=ae("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),s=e.offsetX,l=e.offsetY;if(!(n===0||!r&&!a)){if(r){var u=o>3?1.4:o>1?1.2:1.1,h=n>0?u:1/u;ve(this,"zoom","zoomOnMouseWheel",e,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(a){var c=Math.abs(n),p=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);ve(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:p,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!nt(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;ve(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(fr);function ve(i,t,e,r,a){i.pointerChecker&&i.pointerChecker(r,a.originX,a.originY)&&(oe(r.event),Et(i,t,e,r,a))}function Et(i,t,e,r,a){a.isAvailableBehavior=D(ae,null,e,r),i.trigger(t,a)}function ae(i,t,e){var r=e[i];return!i||r&&(!Te(r)||t.event[r+"Key"])}const Va=Ea;function ce(i,t,e,r,a,n){i=i||0;var o=e[1]-e[0];if(a!=null&&(a=W(a,[0,o])),n!=null&&(n=Math.max(n,a??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=W(s,[0,o]),a=n=W(s,[a,n]),r=0}t[0]=W(t[0],e),t[1]=W(t[1],e);var l=ge(t,r);t[r]+=i;var u=a||0,h=e.slice();l.sign<0?h[0]+=u:h[1]-=u,t[r]=W(t[r],h);var c;return c=ge(t,r),a!=null&&(c.sign!==l.sign||c.span<a)&&(t[1-r]=t[r]+l.sign*a),c=ge(t,r),n!=null&&c.span>n&&(t[1-r]=t[r]+c.sign*n),t}function ge(i,t){var e=i[t]-i[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function W(i,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,i))}var ot=["x","y","radius","angle","single"],ka=["cartesian2d","polar","singleAxis"];function Za(i){var t=i.get("coordinateSystem");return j(ka,t)>=0}function G(i){return i+"Axis"}function Ba(i,t){var e=Z(),r=[],a=Z();i.eachComponent({mainType:"dataZoom",query:t},function(h){a.get(h.uid)||s(h)});var n;do n=!1,i.eachComponent("dataZoom",o);while(n);function o(h){!a.get(h.uid)&&l(h)&&(s(h),n=!0)}function s(h){a.set(h.uid,!0),r.push(h),u(h)}function l(h){var c=!1;return h.eachTargetAxis(function(p,d){var f=e.get(p);f&&f[d]&&(c=!0)}),c}function u(h){h.eachTargetAxis(function(c,p){(e.get(c)||e.set(c,[]))[p]=!0})}return r}function Vt(i){var t=i.ecModel,e={infoList:[],infoMap:Z()};return i.eachTargetAxis(function(r,a){var n=t.getComponent(G(r),a);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(n)}}}),e}var me=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i}(),se=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,r,a){var n=st(e);this.settledOption=n,this.mergeDefaultAndTheme(e,a),this._doInit(n)},t.prototype.mergeOption=function(e){var r=st(e);H(this.option,e,!0),H(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var a=this.settledOption;S([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(r[n[0]]=a[n[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=Z(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return S(ot,function(a){var n=this.getReferringComponents(G(a),pr);if(n.specified){r=!0;var o=new me;S(n.models,function(s){o.add(s.componentIndex)}),e.set(a,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var a=this.ecModel,n=!0;if(n){var o=r==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=a.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===r}});l(s,"single")}function l(u,h){var c=u[0];if(c){var p=new me;if(p.add(c.componentIndex),e.set(h,p),n=!1,h==="x"||h==="y"){var d=c.getReferringComponents("grid",k).models[0];d&&S(u,function(f){c.componentIndex!==f.componentIndex&&d===f.getReferringComponents("grid",k).models[0]&&p.add(f.componentIndex)})}}}n&&S(ot,function(u){if(n){var h=a.findComponents({mainType:G(u),filter:function(p){return p.get("type",!0)==="category"}});if(h[0]){var c=new me;c.add(h[0].componentIndex),e.set(u,c),n=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,a=this.get("rangeMode");S([["start","startValue"],["end","endValue"]],function(n,o){var s=e[n[0]]!=null,l=e[n[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":a?r[o]=a[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,a){e==null&&(e=this.ecModel.getComponent(G(r),a))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(a,n){S(a.indexList,function(o){e.call(r,n,o)})})},t.prototype.getAxisProxy=function(e,r){var a=this.getAxisModel(e,r);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var a=this._targetAxisInfoMap.get(e);if(a&&a.indexMap[r])return this.ecModel.getComponent(G(e),r)},t.prototype.setRawRange=function(e){var r=this.option,a=this.settledOption;S([["start","startValue"],["end","endValue"]],function(n){(e[n[0]]!=null||e[n[1]]!=null)&&(r[n[0]]=a[n[0]]=e[n[0]],r[n[1]]=a[n[1]]=e[n[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;S(["start","startValue","end","endValue"],function(a){r[a]=e[a]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(e==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(e,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),n=0;n<a.length;n++)for(var o=a[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Le);function st(i){var t={};return S(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}var za=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,a,n){this.dataZoomModel=e,this.ecModel=r,this.api=a},t.type="dataZoom",t}(Ct);const kt=za;var F=S,lt=U,Ga=function(){function i(t,e,r,a){this._dimName=t,this._axisIndex=e,this.ecModel=a,this._dataZoomModel=r}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Za(e)){var r=G(this._dimName),a=e.getReferringComponents(r,k).models[0];a&&this._axisIndex===a.componentIndex&&t.push(e)}},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return Lt(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var e=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;F(["start","end"],function(p,d){var f=t[p],v=t[p+"Value"];n[d]==="percent"?(f==null&&(f=o[d]),v=a.parse(E(f,o,e))):(u=!0,v=v==null?e[d]:a.parse(v),f=E(v,e,o)),l[d]=v==null||isNaN(v)?e[d]:v,s[d]=f==null||isNaN(f)?o[d]:f}),lt(l),lt(s);var h=this._minMaxSpan;u?c(l,s,e,o,!1):c(s,l,o,e,!0);function c(p,d,f,v,g){var x=g?"Span":"ValueSpan";ce(0,p,f,"all",h["min"+x],h["max"+x]);for(var m=0;m<2;m++)d[m]=E(p[m],f,v,!0),g&&(d[m]=a.parse(d[m]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Na(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),n=t.get("filterMode"),o=this._valueWindow;if(n==="none")return;F(a,function(l){var u=l.getData(),h=u.mapDimensionsAll(r);if(h.length){if(n==="weakFilter"){var c=u.getStore(),p=ue(h,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var f,v,g,x=0;x<h.length;x++){var m=c.get(p[x],d),y=!isNaN(m),A=m<o[0],_=m>o[1];if(y&&!A&&!_)return!0;y&&(g=!0),A&&(f=!0),_&&(v=!0)}return g&&f&&v})}else F(h,function(d){if(n==="empty")l.setData(u=u.map(d,function(v){return s(v)?v:NaN}));else{var f={};f[d]=o,u.selectRange(f)}});F(h,function(d){u.setApproximateExtent(o,d)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;F(["min","max"],function(a){var n=e.get(a+"Span"),o=e.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=E(r[0]+o,r,[0,100],!0):n!=null&&(o=E(n,[0,100],r,!0)-r[0]),t[a+"Span"]=n,t[a+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var a=vr(r,[0,500]);a=Math.min(a,20);var n=t.axis.scale.rawExtentInfo;e[0]!==0&&n.setDeterminedMinMax("min",+r[0].toFixed(a)),e[1]!==100&&n.setDeterminedMinMax("max",+r[1].toFixed(a)),n.freeze()}},i}();function Na(i,t,e){var r=[1/0,-1/0];F(e,function(o){Jr(r,o.getData(),t)});var a=i.getAxisModel(),n=Qr(a.axis.scale,a,r).calculate();return[n.min,n.max]}var Wa={getTargetSeries:function(i){function t(a){i.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=i.getComponent(G(o),s);a(o,s,l,n)})})}t(function(a,n,o,s){o.__dzAxisProxy=null});var e=[];t(function(a,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Ga(a,n,s,i),e.push(o.__dzAxisProxy))});var r=Z();return S(e,function(a){S(a.getTargetSeriesModels(),function(n){r.set(n.uid,n)})}),r},overallReset:function(i,t){i.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,a){e.getAxisProxy(r,a).reset(e)}),e.eachTargetAxis(function(r,a){e.getAxisProxy(r,a).filterData(e,t)})}),i.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),n=r.getDataValueWindow();e.setCalculatedRange({start:a[0],end:a[1],startValue:n[0],endValue:n[1]})}})}};const Fa=Wa;function Ha(i){i.registerAction("dataZoom",function(t,e){var r=Ba(e,t);S(r,function(a){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var ut=!1;function Zt(i){ut||(ut=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,Fa),Ha(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Ya(i,t){var e=i.mapDimensionsAll("defaultedLabel"),r=e.length;if(r===1){var a=Ne(i,t,e[0]);return a!=null?a+"":null}else if(r){for(var n=[],o=0;o<e.length;o++)n.push(Ne(i,t,e[o]));return n.join(" ")}}function Xa(i,t){var e=i.mapDimensionsAll("defaultedLabel");if(!J(t))return t+"";for(var r=[],a=0;a<e.length;a++){var n=i.getDimensionIndex(e[a]);n>=0&&r.push(t[n])}return r.join(" ")}function Bt(i,t){return i.type===t}var $a=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Re(se.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(se);const Ua=$a;var Ee=Dt();function ja(i,t,e){Ee(i).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(t.uid);a&&(a.getRange=e)})}function Ka(i,t){for(var e=Ee(i).coordSysRecordMap,r=e.keys(),a=0;a<r.length;a++){var n=r[a],o=e.get(n),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||zt(e,o))}}}function zt(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function qa(i,t){var e={model:t,containsPoint:ie(Qa,t),dispatchAction:ie(Ja,i),dataZoomInfoMap:null,controller:null},r=e.controller=new Va(i.getZr());return S(["pan","zoom","scrollMove"],function(a){r.on(a,function(n){var o=[];e.dataZoomInfoMap.each(function(s){if(n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function Ja(i,t){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Qa(i,t,e,r){return i.coordinateSystem.containPoint([e,r])}function ei(i){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return i.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[e+s]>r[e+t]&&(t=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function ti(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=Ee(e),a=r.coordSysRecordMap||(r.coordSysRecordMap=Z());a.each(function(n){n.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=Vt(n);S(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,qa(e,s.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=Z());h.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),a.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){zt(a,n);return}var h=ei(l);o.enable(h.controlType,h.opt),o.setPointerChecker(n.containsPoint),It(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var ri=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,r,a){if(i.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),ja(a,e,{pan:D(ye.pan,this),zoom:D(ye.zoom,this),scrollMove:D(ye.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Ka(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(kt),ye={zoom:function(i,t,e,r){var a=this.range,n=a.slice(),o=i.axisModels[0];if(o){var s=xe[t](null,[r.originX,r.originY],o,e,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(ce(0,n,[0,100],0,h.minSpan,h.maxSpan),this.range=n,a[0]!==n[0]||a[1]!==n[1])return n}},pan:ht(function(i,t,e,r,a,n){var o=xe[r]([n.oldX,n.oldY],[n.newX,n.newY],t,a,e);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:ht(function(i,t,e,r,a,n){var o=xe[r]([0,0],[n.scrollDelta,n.scrollDelta],t,a,e);return o.signal*(i[1]-i[0])*n.scrollDelta})};function ht(i){return function(t,e,r,a){var n=this.range,o=n.slice(),s=t.axisModels[0];if(s){var l=i(o,s,t,e,r,a);if(ce(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var xe={grid:function(i,t,e,r,a){var n=e.axis,o={},s=a.model.coordinateSystem.getRect();return i=i||[0,0],n.dim==="x"?(o.pixel=t[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=t[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(i,t,e,r,a){var n=e.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=t[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(i,t,e,r,a){var n=e.axis,o=a.model.coordinateSystem.getRect(),s={};return i=i||[0,0],n.orient==="horizontal"?(s.pixel=t[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=t[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};const ai=ri;function ii(i){Zt(i),i.registerComponentModel(Ua),i.registerComponentView(ai),ti(i)}var ni=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Re(se.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(se);const oi=ni;var X=z,ct=7,si=1,Ae=30,li=7,$="horizontal",dt="vertical",ui=5,hi=["line","bar","candlestick","scatter"],ci={easing:"cubicOut",duration:100,delay:0},di=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,r){this.api=r,this._onBrush=D(this._onBrush,this),this._onBrushEnd=D(this._onBrushEnd,this)},t.prototype.render=function(e,r,a,n){if(i.prototype.render.apply(this,arguments),It(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){gr(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new ne;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,a=e.get("brushSelect"),n=a?li:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===$?{right:s.width-o.x-o.width,top:s.height-Ae-ct-n,width:o.width,height:Ae}:{right:ct,top:o.y,width:Ae,height:o.height},u=bt(e.option);S(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var h=wt(u,s);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===dt&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,a=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===$&&!o?{scaleY:l?1:-1,scaleX:1}:a===$&&o?{scaleY:l?1:-1,scaleX:-1}:a===dt&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=r.x-u.x,e.y=r.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,n=e.get("brushSelect");a.add(new X({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new X({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:D(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var r=this._size,a=this._shadowSize||[],n=e.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var c=o.getDataExtent(l),p=(c[1]-c[0])*.3;c=[c[0]-p,c[1]+p];var d=[0,r[1]],f=[0,r[0]],v=[[r[0],0],[0,0]],g=[],x=f[1]/(o.count()-1),m=0,y=Math.round(o.count()/r[0]),A;o.each([l],function(O,B){if(y>0&&B%y){m+=x;return}var M=O==null||isNaN(O)||O==="",T=M?0:E(O,c,d,!0);M&&!A&&B?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!M&&A&&(v.push([m,0]),g.push([m,0])),v.push([m,T]),g.push([m,T]),m+=x,A=M}),u=this._shadowPolygonPts=v,h=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var _=this.dataZoomModel;function w(O){var B=_.getModel(O?"selectedDataBackground":"dataBackground"),M=new ne,T=new br({shape:{points:u},segmentIgnoreThreshold:1,style:B.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),I=new wr({shape:{points:h},segmentIgnoreThreshold:1,style:B.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return M.add(T),M.add(I),M}for(var b=0;b<3;b++){var L=w(b===1);this._displayables.sliderGroup.add(L),this._displayables.dataShadowSegs.push(L)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(r!==!1){var a,n=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();S(l,function(u){if(!a&&!(r!==!0&&j(hi,u.get("type"))<0)){var h=n.getComponent(G(o),s).axis,c=fi(o),p,d=u.coordinateSystem;c!=null&&d.getOtherAxis&&(p=d.getOtherAxis(h).inverse),c=u.getData().mapDimension(c),a={thisAxis:h,series:u,thisDim:o,otherDim:c,otherAxisInverse:p}}},this)},this),a}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,a=r.handles=[null,null],n=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),p=r.filler=new X({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(p),o.add(new X({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:si,fill:"rgba(0,0,0,0)"}})),S([0,1],function(y){var A=l.get("handleIcon");!mr[A]&&A.indexOf("path://")<0&&A.indexOf("image://")<0&&(A="path://"+A);var _=We(A,-1,0,2,2,null,!0);_.attr({cursor:ft(this._orient),draggable:!0,drift:D(this._onDragMove,this,y),ondragend:D(this._onDragEnd,this),onmouseover:D(this._showDataInfo,this,!0),onmouseout:D(this._showDataInfo,this,!1),z2:5});var w=_.getBoundingRect(),b=l.get("handleSize");this._handleHeight=Fe(b,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),yr(_);var L=l.get("handleColor");L!=null&&(_.style.fill=L),o.add(a[y]=_);var O=l.getModel("textStyle");e.add(n[y]=new xr({silent:!0,invisible:!0,style:Ar(O,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:O.getTextColor(),font:O.getFont()}),z2:10}))},this);var d=p;if(c){var f=Fe(l.get("moveHandleSize"),s[1]),v=r.moveHandle=new z({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:f}}),g=f*.8,x=r.moveHandleIcon=We(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);x.silent=!0,x.y=s[1]+f/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(f,10));d=r.moveZone=new z({invisible:!0,shape:{y:s[1]-m,height:f+m}}),d.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),o.add(v),o.add(x),o.add(d)}d.attr({draggable:!0,cursor:ft(this._orient),drift:D(this._onDragMove,this,"all"),ondragstart:D(this._showDataInfo,this,!0),ondragend:D(this._onDragEnd,this),onmouseover:D(this._showDataInfo,this,!0),onmouseout:D(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[E(e[0],[0,100],r,!0),E(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var a=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];ce(r,n,o,a.get("zoomLock")?"all":e,s.minSpan!=null?E(s.minSpan,l,o,!0):null,s.maxSpan!=null?E(s.maxSpan,l,o,!0):null);var u=this._range,h=this._range=U([E(n[0],o,l,!0),E(n[1],o,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var r=this._displayables,a=this._handleEnds,n=U(a.slice()),o=this._size;S([0,1],function(d){var f=r.handles[d],v=this._handleHeight;f.attr({scaleX:v/2,scaleY:v/2,x:a[d]+(d?-1:1),y:o[1]/2-v/2})},this),r.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,n[0],n[1],o[0]],h=0;h<l.length;h++){var c=l[h],p=c.getClipPath();p||(p=new z,c.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,a=this._displayables,n=a.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var p=U(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(f){var v=_r(a.handles[f].parent,this.group),g=Sr(f===0?"right":"left",v),x=this._handleWidth/2+ui,m=He([p[f]+(f===0?-x:x),this._size[1]/2],v);n[f].setStyle({x:m[0],y:m[1],verticalAlign:o===$?"middle":g,align:o===$?g:"center",text:s[f]})}},t.prototype._formatLabel=function(e,r){var a=this.dataZoomModel,n=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=e==null||isNaN(e)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return le(n)?n(e,s):Te(n)?n.replace("{value}",s):s},t.prototype._showDataInfo=function(e){e=this._dragging||e;var r=this._displayables,a=r.handleLabels;a[0].attr("invisible",!e),a[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,r,a,n){this._dragging=!0,oe(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=He([r,a],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var r=e.offsetX,a=e.offsetY;this._brushStart=new Mr(r,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=U([E(a.x,o,s,!0),E(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(oe(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var a=this._displayables,n=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new X({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,r),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?ci:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=Vt(this.dataZoomModel).infoList;if(!e&&r.length){var a=r[0].model.coordinateSystem;e=a.getRect&&a.getRect()}if(!e){var n=this.api.getWidth(),o=this.api.getHeight();e={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return e},t.type="dataZoom.slider",t}(kt);function fi(i){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[i]}function ft(i){return i==="vertical"?"ns-resize":"ew-resize"}const pi=di;function vi(i){i.registerComponentModel(oi),i.registerComponentView(pi),Zt(i)}function gi(i){K(ii),K(vi)}function mi(i,t,e,r,a){var n=i.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,h=e.get(["lineStyle","width"])||2;o-=h/2,s-=h/2,l+=h,u+=h,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var c=new z({shape:{x:o,y:s,width:l,height:u}});if(t){var p=i.getBaseAxis(),d=p.isHorizontal(),f=p.inverse;d?(f&&(c.shape.x+=l),c.shape.width=0):(f||(c.shape.y+=u),c.shape.height=0);var v=le(a)?function(g){a(g,c)}:null;Y(c,{shape:{width:l,height:u,x:o,y:s}},e,null,r,v)}return c}function yi(i,t,e){var r=i.getArea(),a=Q(r.r0,1),n=Q(r.r,1),o=new Pe({shape:{cx:Q(i.cx,1),cy:Q(i.cy,1),r0:a,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,Y(o,{shape:{endAngle:r.endAngle,r:n}},e)}return o}function xi(i,t,e,r,a){if(i){if(i.type==="polar")return yi(i,t,e);if(i.type==="cartesian2d")return mi(i,t,e,r,a)}else return null;return null}var Ai={average:function(i){for(var t=0,e=0,r=0;r<i.length;r++)isNaN(i[r])||(t+=i[r],e++);return e===0?NaN:t/e},sum:function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e]||0;return t},max:function(i){for(var t=-1/0,e=0;e<i.length;e++)i[e]>t&&(t=i[e]);return isFinite(t)?t:NaN},min:function(i){for(var t=1/0,e=0;e<i.length;e++)i[e]<t&&(t=i[e]);return isFinite(t)?t:NaN},minmax:function(i){for(var t=-1/0,e=-1/0,r=0;r<i.length;r++){var a=i[r],n=Math.abs(a);n>t&&(t=n,e=a)}return isFinite(e)?e:NaN},nearest:function(i){return i[0]}},_i=function(i){return Math.round(i.length/2)};function Si(i){return{seriesType:i,reset:function(t,e,r){var a=t.getData(),n=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),h=l.getExtent(),c=r.getDevicePixelRatio(),p=Math.abs(h[1]-h[0])*(c||1),d=Math.round(s/p);if(isFinite(d)&&d>1){n==="lttb"&&t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/d));var f=void 0;Te(n)?f=Ai[n]:le(n)&&(f=n),f&&t.setData(a.downSample(a.mapDimension(u.dim),1/d,f,_i))}}}}}var Ce=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return Rt(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,a){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),s=n.dataToPoint(o);if(a)S(n.getAxes(),function(p,d){if(p.type==="category"&&r!=null){var f=p.getTicksCoords(),v=p.getTickModel().get("alignWithLabel"),g=o[d],x=r[d]==="x1"||r[d]==="y1";if(x&&!v&&(g+=1),f.length<2)return;if(f.length===2){s[d]=p.toGlobalCoord(p.getExtent()[x?1:0]);return}for(var m=void 0,y=void 0,A=1,_=0;_<f.length;_++){var w=f[_].coord,b=_===f.length-1?f[_-1].tickValue+A:f[_].tickValue;if(b===g){y=w;break}else if(b<g)m=w;else if(m!=null&&b>g){y=(w+m)/2;break}_===1&&(A=b-f[0].tickValue)}y==null&&(m?m&&(y=f[f.length-1].coord):y=f[0].coord),s[d]=p.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),h=l.getLayout("size"),c=n.getBaseAxis().isHorizontal()?0:1;s[c]+=u+h/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Tt);Tt.registerClass(Ce);var Mi=function(i){C(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Rt(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,a){return a.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Re(Ce.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(Ce);const bi=Mi;function wi(i,t){t=t||{};var e=t.isRoundCap;return function(r,a,n){var o=a.position;if(!o||o instanceof Array)return Ye(r,a,n);var s=i(o),l=a.distance!=null?a.distance:5,u=this.shape,h=u.cx,c=u.cy,p=u.r,d=u.r0,f=(p+d)/2,v=u.startAngle,g=u.endAngle,x=(v+g)/2,m=e?Math.abs(p-d)/2:0,y=Math.cos,A=Math.sin,_=h+p*y(v),w=c+p*A(v),b="left",L="top";switch(s){case"startArc":_=h+(d-l)*y(x),w=c+(d-l)*A(x),b="center",L="top";break;case"insideStartArc":_=h+(d+l)*y(x),w=c+(d+l)*A(x),b="center",L="bottom";break;case"startAngle":_=h+f*y(v)+ee(v,l+m,!1),w=c+f*A(v)+te(v,l+m,!1),b="right",L="middle";break;case"insideStartAngle":_=h+f*y(v)+ee(v,-l+m,!1),w=c+f*A(v)+te(v,-l+m,!1),b="left",L="middle";break;case"middle":_=h+f*y(x),w=c+f*A(x),b="center",L="middle";break;case"endArc":_=h+(p+l)*y(x),w=c+(p+l)*A(x),b="center",L="bottom";break;case"insideEndArc":_=h+(p-l)*y(x),w=c+(p-l)*A(x),b="center",L="top";break;case"endAngle":_=h+f*y(g)+ee(g,l+m,!0),w=c+f*A(g)+te(g,l+m,!0),b="left",L="middle";break;case"insideEndAngle":_=h+f*y(g)+ee(g,-l+m,!0),w=c+f*A(g)+te(g,-l+m,!0),b="right",L="middle";break;default:return Ye(r,a,n)}return r=r||{},r.x=_,r.y=w,r.align=b,r.verticalAlign=L,r}}function Di(i,t,e,r){if(Dr(r)){i.setTextConfig({rotation:r});return}else if(J(t)){i.setTextConfig({rotation:0});return}var a=i.shape,n=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(n+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:i.setTextConfig({rotation:0});return}var h=Math.PI*1.5-l;u==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),i.setTextConfig({rotation:h})}function ee(i,t,e){return t*Math.sin(i)*(e?-1:1)}function te(i,t,e){return t*Math.cos(i)*(e?1:-1)}var _e=Math.max,Se=Math.min;function Ci(i,t){var e=i.getArea&&i.getArea();if(Bt(i,"cartesian2d")){var r=i.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=a,e.width+=a*2):(e.y-=a,e.height+=a*2)}}return e}var Li=function(i){C(t,i);function t(){var e=i.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,a,n){this._model=e,this._removeOnRenderedListener(a),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,a):this._renderNormal(e,r,a,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){Cr(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,a,n){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.getBaseAxis(),c;u.type==="cartesian2d"?c=h.isHorizontal():u.type==="polar"&&(c=h.dim==="angle");var p=e.isAnimationEnabled()?e:null,d=Ii(e,u);d&&this._enableRealtimeSort(d,s,a);var f=e.get("clip",!0)||d,v=Ci(u,s);o.removeClipPath();var g=e.get("roundCap",!0),x=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),y=m.get("borderRadius")||0,A=[],_=this._backgroundEls,w=n&&n.isInitSort,b=n&&n.type==="changeAxisOrder";function L(M){var T=re[u.type](s,M),I=ki(u,c,T);return I.useStyle(m.getItemStyle()),u.type==="cartesian2d"?I.setShape("r",y):I.setShape("cornerRadius",y),A[M]=I,I}s.diff(l).add(function(M){var T=s.getItemModel(M),I=re[u.type](s,M,T);if(x&&L(M),!(!s.hasValue(M)||!yt[u.type](I))){var V=!1;f&&(V=pt[u.type](v,I));var R=vt[u.type](e,s,M,I,c,p,h.model,!1,g);d&&(R.forceLabelAnimation=!0),xt(R,s,M,T,I,e,c,u.type==="polar"),w?R.attr({shape:I}):d?gt(d,p,R,I,M,c,!1,!1):Y(R,{shape:I},e,M),s.setItemGraphicEl(M,R),o.add(R),R.ignore=V}}).update(function(M,T){var I=s.getItemModel(M),V=re[u.type](s,M,I);if(x){var R=void 0;_.length===0?R=L(T):(R=_[T],R.useStyle(m.getItemStyle()),u.type==="cartesian2d"?R.setShape("r",y):R.setShape("cornerRadius",y),A[M]=R);var Wt=re[u.type](s,M),Ft=Nt(c,Wt,u);q(R,{shape:Ft},p,M)}var P=l.getItemGraphicEl(T);if(!s.hasValue(M)||!yt[u.type](V)){o.remove(P);return}var de=!1;if(f&&(de=pt[u.type](v,V),de&&o.remove(P)),P?Lr(P):P=vt[u.type](e,s,M,V,c,p,h.model,!!P,g),d&&(P.forceLabelAnimation=!0),b){var Ve=P.getTextContent();if(Ve){var fe=Ir(Ve);fe.prevValue!=null&&(fe.prevValue=fe.value)}}else xt(P,s,M,I,V,e,c,u.type==="polar");w?P.attr({shape:V}):d?gt(d,p,P,V,M,c,!0,b):q(P,{shape:V},e,M,null),s.setItemGraphicEl(M,P),P.ignore=de,o.add(P)}).remove(function(M){var T=l.getItemGraphicEl(M);T&&Xe(T,e,M)}).execute();var O=this._backgroundGroup||(this._backgroundGroup=new ne);O.removeAll();for(var B=0;B<A.length;++B)O.add(A[B]);o.add(O),this._backgroundEls=A,this._data=s},t.prototype._renderLarge=function(e,r,a){this._clear(),_t(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),_t(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&xi(e.coordinateSystem,!1,e),a=this.group;r?a.setClipPath(r):a.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,a){var n=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,a),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(o.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){n._updateSortWithinSameData(r,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,a){var n=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=a(s);l=l??NaN,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:ue(n,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,a){for(var n=a.scale,o=e.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(o,n.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:r(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var a=r.scale,n=a.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,a,n){if(this._isOrderChangedWithinSameData(e,r,a)){var o=this._dataSort(e,a,r);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,a){var n=r.baseAxis,o=this._dataSort(e,n,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,a=this._data;e&&e.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(n){Xe(n,e,Oe(n).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Tr),pt={cartesian2d:function(i,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var a=i.x+i.width,n=i.y+i.height,o=_e(t.x,i.x),s=Se(t.x+t.width,a),l=_e(t.y,i.y),u=Se(t.y+t.height,n),h=s<o,c=u<l;return t.x=h&&o>a?s:o,t.y=c&&l>n?u:l,t.width=h?0:s-o,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),h||c},polar:function(i,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var a=Se(t.r,i.r),n=_e(t.r0,i.r0);t.r=a,t.r0=n;var o=a-n<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},vt={cartesian2d:function(i,t,e,r,a,n,o,s,l){var u=new z({shape:Ie({},r),z2:1});if(u.__dataIndex=e,u.name="item",n){var h=u.shape,c=a?"height":"width";h[c]=0}return u},polar:function(i,t,e,r,a,n,o,s,l){var u=!a&&l?qe:Pe,h=new u({shape:r,z2:1});h.name="item";var c=Gt(a);if(h.calculateTextPosition=wi(c,{isRoundCap:u===qe}),n){var p=h.shape,d=a?"r":"endAngle",f={};p[d]=a?r.r0:r.startAngle,f[d]=r[d],(s?q:Y)(h,{shape:f},n)}return h}};function Ii(i,t){var e=i.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function gt(i,t,e,r,a,n,o,s){var l,u;n?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?q:Y)(e,{shape:l},t,a,null);var h=t?i.baseAxis.model:null;(o?q:Y)(e,{shape:u},h,a)}function mt(i,t){for(var e=0;e<t.length;e++)if(!isFinite(i[t[e]]))return!0;return!1}var Ti=["x","y","width","height"],Ri=["cx","cy","r","startAngle","endAngle"],yt={cartesian2d:function(i){return!mt(i,Ti)},polar:function(i){return!mt(i,Ri)}},re={cartesian2d:function(i,t,e){var r=i.getItemLayout(t),a=e?Oi(e,r):0,n=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+n*a/2,y:r.y+o*a/2,width:r.width-n*a,height:r.height-o*a}},polar:function(i,t,e){var r=i.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Pi(i){return i.startAngle!=null&&i.endAngle!=null&&i.startAngle===i.endAngle}function Gt(i){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(i)}function xt(i,t,e,r,a,n,o,s){var l=t.getItemVisual(e,"style");if(s){if(!n.get("roundCap")){var h=i.shape,c=na(r.getModel("itemStyle"),h,!0);Ie(h,c),i.setShape(h)}}else{var u=r.get(["itemStyle","borderRadius"])||0;i.setShape("r",u)}i.useStyle(l);var p=r.getShallow("cursor");p&&i.attr("cursor",p);var d=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",f=Rr(r);Pr(i,f,{labelFetcher:n,labelDataIndex:e,defaultText:Ya(n.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var v=i.getTextContent();if(s&&v){var g=r.get(["label","position"]);i.textConfig.inside=g==="middle"?!0:null,Di(i,g==="outside"?d:g,Gt(o),r.get(["label","rotate"]))}Or(v,f,n.getRawValue(e),function(m){return Xa(t,m)});var x=r.getModel(["emphasis"]);Er(i,x.get("focus"),x.get("blurScope"),x.get("disabled")),Vr(i,r),Pi(a)&&(i.style.fill="none",i.style.stroke="none",S(i.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function Oi(i,t){var e=i.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=i.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,a,n)}var Ei=function(){function i(){}return i}(),At=function(i){C(t,i);function t(e){var r=i.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new Ei},t.prototype.buildPath=function(e,r){for(var a=r.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,h=0;h<a.length;h+=3)l[n]=u,l[o]=a[h+2],s[n]=a[h+n],s[o]=a[h+o],e.rect(s[0],s[1],l[0],l[1])},t}(kr);function _t(i,t,e,r){var a=i.getData(),n=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=i.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var h=new At({shape:{points:u},incremental:!!r,silent:!0,z2:0});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,h.useStyle(l.getItemStyle()),t.add(h),e&&e.push(h)}var c=new At({shape:{points:a.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,t.add(c),c.useStyle(a.getVisual("style")),Oe(c).seriesIndex=i.seriesIndex,i.get("silent")||(c.on("mousedown",St),c.on("mousemove",St)),e&&e.push(c)}var St=Zr(function(i){var t=this,e=Vi(t,i.offsetX,i.offsetY);Oe(t).dataIndex=e>=0?e:null},30,!1);function Vi(i,t,e){for(var r=i.baseDimIdx,a=1-r,n=i.shape.points,o=i.largeDataIndices,s=[],l=[],u=i.barWidth,h=0,c=n.length/3;h<c;h++){var p=h*3;if(l[r]=u,l[a]=n[p+2],s[r]=n[p+r],s[a]=n[p+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[h]}return-1}function Nt(i,t,e){if(Bt(e,"cartesian2d")){var r=t,a=e.getArea();return{x:i?r.x:a.x,y:i?a.y:r.y,width:i?r.width:a.width,height:i?a.height:r.height}}else{var a=e.getArea(),n=t;return{cx:a.cx,cy:a.cy,r0:i?a.r0:n.r0,r:i?a.r:n.r,startAngle:i?n.startAngle:0,endAngle:i?n.endAngle:Math.PI*2}}}function ki(i,t,e){var r=i.type==="polar"?Pe:z;return new r({shape:Nt(t,e,i),silent:!0,z2:0})}const Zi=Li;function Bi(i){i.registerChartView(Zi),i.registerSeriesModel(bi),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,ie(ta,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ea("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,Si("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}const zi={class:"bar"},Gi={__name:"Bar",setup(i){let t=Yt(null);K([Hr,Pa,gi,Bi,zr]);let e=["","","","","","","","","","","","","","","","","","","",""],r=[220,182,191,234,290,330,310,123,442,321,90,149,210,122,133,334,198,123,125,220];for(let n=0;n<r.length;n++);let a;return a={title:{text:"  ",subtext:"Feature Sample: Gradient Color, Shadow, Click Zoom"},xAxis:{data:e,axisLabel:{inside:!0,color:"#fff"},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999"}},dataZoom:[{type:"inside"}],series:[{type:"bar",showBackground:!0,itemStyle:{color:new $e(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{itemStyle:{color:new $e(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:r}]},Xt(()=>{let n=Br(t.value);const o=6;n.on("click",function(s){console.log(e[Math.max(s.dataIndex-o/2,0)]),n.dispatchAction({type:"dataZoom",startValue:e[Math.max(s.dataIndex-o/2,0)],endValue:e[Math.min(s.dataIndex+o/2,r.length-1)]})}),a&&n.setOption(a)}),(n,o)=>($t(),Ut("div",zi,[jt("div",{class:"chart",ref_key:"main",ref:t},null,512)]))}},Ui=Ht(Gi,[["__scopeId","data-v-6a18f5b1"]]);export{Ui as default};

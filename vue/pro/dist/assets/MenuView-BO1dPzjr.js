import{u as h}from"./cart-BEZGx4n8.js";import{_ as k,r as C,o as V,a as q,b as i,c as r,d as s,t as n,w as v,u as p,F as y,e as g,f as D,g as F,n as f,h as N,i as b,j as S,k as A}from"./index-CC1GuSzH.js";import B from"./GoodsView-DQtqk3GI.js";import M from"./VipView-D01TYcxK.js";import j from"./RankView-BlRt3Wir.js";import I from"./FavoriteView-BhybQ_2l.js";import"./goods-DsbK9yDw.js";const P={class:"cont"},T={class:"header"},z={class:"all"},E={for:"all"},G=["src"],L={class:"info"},O={class:"title"},Q={class:"sub-title"},R={class:"price-new"},H={class:"price-old"},J={class:"oper"},K=["onClick"],U={class:"num"},W=["onClick"],X={class:"cart-num f-s-s"},Y={class:"price"},Z={class:"total-price f-s-m f-b"},ss={class:"total-promotion f-s-s"},ts={__name:"Cart",setup(w){const a=h(),e=C(!1),u=()=>{e.value=!e.value},_=()=>{e.value=!1},d=()=>a.cart.reduce((c,t)=>c+t.price*(1-t.discount)*t.quantity,0),m=()=>a.cart.reduce((c,t)=>c+t.price*t.discount*t.quantity,0),l=()=>a.cart.reduce((c,t)=>c+t.quantity,0);return V(()=>{console.log("cart loading",a.cart)}),(c,t)=>{const x=q("router-link");return i(),r("div",{class:f(["cart",{"show-cont-all":e.value}]),onClick:v(_,["self"])},[s("div",P,[s("header",T,[s("div",z,[t[1]||(t[1]=s("input",{type:"checkbox",id:"all"},null,-1)),s("label",E,"已选择商品（"+n(l())+"件）",1)]),s("button",{class:"clear",onClick:t[0]||(t[0]=v((...o)=>p(a).clearCart&&p(a).clearCart(...o),["stop"]))},t[2]||(t[2]=[s("span",{class:"iconfont icon-shanchu_o"},null,-1),s("span",null,"清空购物车",-1)]))]),(i(!0),r(y,null,g(p(a).cart,(o,is)=>(i(),r("div",{class:"item",key:o.id},[t[3]||(t[3]=s("input",{type:"checkbox",name:"",id:""},null,-1)),s("img",{class:"img",src:`https://glpla.github.io/utils${o.img}`,alt:""},null,8,G),s("div",L,[s("h4",O,n(o.name),1),s("div",Q,n(o.desc),1),s("div",null,[s("span",R,"¥"+n(o.price),1),s("span",H,"¥"+n(o.priceOrignal),1)])]),s("div",J,[s("button",{class:"btn dec",onClick:$=>o.quantity--},"-",8,K),s("span",U,n(o.quantity),1),s("button",{class:"btn inc",onClick:$=>o.quantity++},"+",8,W)])]))),128))]),s("footer",null,[s("button",{class:"btn cart-left",onClick:v(u,["stop"])},[t[4]||(t[4]=s("span",{class:"iconfont icon-icon_ruixingkafei"},null,-1)),s("span",X,n(l()),1)]),s("div",Y,[s("div",null,[t[5]||(t[5]=s("span",null,"预计到手 ",-1)),s("span",Z,"¥"+n(d().toFixed(2)),1)]),s("div",ss,[t[6]||(t[6]=s("span",null,"已享受更多优惠，共减免 ",-1)),s("span",null,"¥"+n(m().toFixed(2)),1)])]),D(x,{class:"btn pay-btn f-s-b",to:"/order"},{default:F(()=>t[7]||(t[7]=[N("去结算")])),_:1})])],2)}}},os=k(ts,[["__scopeId","data-v-b6b910ec"]]),ns={class:"menu-view"},as={class:"tab-box"},es=["onClick"],ls={class:"tab-cont"},cs={__name:"MenuView",setup(w){const a=h(),e=C("经典菜单"),u={经典菜单:B,会员卡:M,年度封神榜:j,我的常点:I};return(_,d)=>(i(),r("div",ns,[d[0]||(d[0]=s("div",{class:"loc-box"},[s("span",{class:"iconfont icon-didiandingwei_o"}),s("span",null,"桂林万达广场店 | 0.5km"),s("span",{class:"iconfont icon-jiantou_liebiaoxiangyou_o"})],-1)),s("div",as,[(i(),r(y,null,g(u,(m,l)=>s("button",{key:l,class:f(["tab-item f-s-m",{active:e.value===l}]),onClick:c=>e.value=l},n(l),11,es)),64))]),s("div",ls,[(i(),b(S(u[e.value])))]),p(a).cart.length?(i(),b(os,{key:0,class:f(["w cart",{pos:_.$route.meta.showNav}])},null,8,["class"])):A("",!0)]))}},ms=k(cs,[["__scopeId","data-v-e479bc0c"]]);export{ms as default};

import{a1 as y,s as z,r as n,_ as v,g as w,m as b,o as i,c as p,j as A,k as D,i as f,a as o,w as g,n as k,F as K,d as R,t as c,l as I}from"./index-B7Sa908Q.js";import{r as S,k as Z,a as O,S as V}from"./Tabbar.vue_vue_type_style_index_0_scoped_07715eb8_lang-CNHasL_8.js";const X="data:image/png;base64,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",C=y("map",()=>{const m=z("axios"),t=n({lat:22.99889,lng:113.76611}),a=n([]),l=n([]);return{center:t,locs:a,geometries:l,updateMarker:()=>{console.log("center",t.value),m.get(`/map-api/ws/place/v1/search?boundary=nearby(${t.value.lat},${t.value.lng},${S})&keyword=${Z}&page_size=10&page_index=1&key=${O}`).then(e=>{console.log("res",e),a.value=e.data.data.map(s=>({...s,title:s.title.replace(/瑞幸咖啡\(/,"").replace(/\)/,""),open:"08:30 - 21:30"})),l.value=e.data.data.map(s=>({styleId:"marker",position:s.location,content:s.title.replace(/瑞幸咖啡\(/,"").replace(/\)/,"")}))})}}}),E={class:"map"},H={__name:"Map",setup(m){const t=C(),a=n(null),l=n(null),d=n(15),e=n({scale:!1,zoom:!1,rotation:!1}),s=u=>{console.log("map dragend");const r=a.value.map.getCenter();console.log("New center:",r.lat,r.lng),t.center={lat:r.lat,lng:r.lng},t.updateMarker()},B=()=>{t.center={lat:22.99889,lng:113.76611},console.log(t.center.value),t.updateMarker()},M=u=>{console.log("marker click"),console.log(u)},Q=n({marker:{width:40,height:40,anchor:{x:10,y:30},src:X}}),G=n({minZoom:5,maxZoom:15}),h=()=>{console.log("map",a.value),console.log("marker",l.value)};return w(()=>{t.updateMarker()}),(u,r)=>{const Y=b("tlbs-multi-marker"),x=b("tlbs-map");return i(),p("div",E,[A(x,{class:"tlbs-map",ref_key:"mapRef",ref:a,"api-key":"YI6BZ-MTZW4-HYFUC-F42DP-MK7MQ-3GBRU",center:f(t).center,zoom:d.value,control:e.value,onMap_inited:h,onDragend:s},{default:D(()=>[A(Y,{ref_key:"markerRef",ref:l,geometries:f(t).geometries,styles:Q.value,options:G.value,onClick:M},null,8,["geometries","styles","options"])]),_:1},8,["center","zoom","control"]),o("button",{class:"pos",onClick:g(B,["stop"])},r[0]||(r[0]=[o("span",{class:"iconfont icon-location2"},null,-1)]))])}}},W=v(H,[["__scopeId","data-v-e6677f63"]]),L={class:"location-view"},T={class:"tab-box"},F={class:"list"},U={class:"m-b-1"},J={class:"desc"},P={class:"desc"},N={class:"info"},_={__name:"LocationView",setup(m){const t=C(),a=n(0),l=n([{title:"门店自提"},{title:"送货上门"}]);return w(()=>{t.updateMarker()}),(d,e)=>(i(),p("div",L,[o("header",null,[A(V,{switchs:l.value},null,8,["switchs"]),A(W),o("div",T,[o("button",{onClick:e[0]||(e[0]=g(s=>a.value=0,["stop"]))},[o("h3",{class:k(["tab-item",{active:a.value===0}])},"附近",2)]),o("button",{onClick:e[1]||(e[1]=g(s=>a.value=1,["stop"]))},[o("h3",{class:k(["tab-item",{active:a.value===1}])},"常用门店",2)])])]),o("div",F,[(i(!0),p(K,null,R(f(t).locs,s=>(i(),p("div",{class:"item",key:s},[o("h4",U,c(s.title),1),o("div",J,[e[2]||(e[2]=o("span",{class:"iconfont icon-ditu_dingwei_o f-s-m"},null,-1)),o("p",null,"距您"+c(s._distance.toFixed(0))+"m | "+c(s.address),1)]),o("div",P,[e[6]||(e[6]=o("span",{class:"iconfont icon-shijian_o f-s-m"},null,-1)),o("p",N,[I(c(s.open)+" 09:30-22:30",1),e[3]||(e[3]=o("span",null,"打样",-1)),e[4]||(e[4]=I()),e[5]||(e[5]=o("span",null,"常用门店",-1))])]),e[7]||(e[7]=o("button",null,[o("span",{class:"iconfont icon-guanyu_o about f-s-b"})],-1))]))),128))])]))}},$=v(_,[["__scopeId","data-v-7efc321b"]]);export{$ as default};

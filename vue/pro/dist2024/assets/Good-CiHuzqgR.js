import{h as x,r as u,_ as f,i as h,a as d,j as I,u as p,c as l,k as L,T as V,p as y,l as S,d as s,o as $,g as b,F as m,f as G,e as v,m as _,t as i}from"./index-CfvwQzZa.js";import{g as T}from"./api-aUDBALjn.js";import{u as B}from"./cart-CBqJNepa.js";import{N as F}from"./Notice-CoJLqVL-.js";import"./axios-Cm0UX6qg.js";const k=x("coffee",()=>{let e=u([]),t=u(!1),a=u("");return{goods:e,isLoading:t,errMsg:a,fetchGoods:async()=>{t.value=!0,a.value="loading...";const r=await T();e.value=r.data.cont,t.value=!1,a.value="loading ok"}}}),D=e=>(y("data-v-68ab2ac2"),e=e(),S(),e),M={key:0,class:"msg"},R=D(()=>s("div",{class:"modal-cont"},[s("div",{class:"item",style:{"--deg":"0"}}),s("div",{class:"item",style:{"--deg":"1"}}),s("div",{class:"item",style:{"--deg":"2"}}),s("div",{class:"item",style:{"--deg":"3"}}),s("div",{class:"item",style:{"--deg":"4"}}),s("div",{class:"item",style:{"--deg":"5"}}),s("div",{class:"item",style:{"--deg":"6"}}),s("div",{class:"item",style:{"--deg":"7"}}),s("div",{class:"item",style:{"--deg":"8"}}),s("div",{class:"item",style:{"--deg":"9"}}),s("div",{class:"item",style:{"--deg":"10"}}),s("div",{class:"item",style:{"--deg":"11"}}),s("div",{class:"item",style:{"--deg":"12"}}),s("div",{class:"item",style:{"--deg":"13"}}),s("div",{class:"item",style:{"--deg":"14"}}),s("div",{class:"item",style:{"--deg":"15"}}),s("div",{class:"item",style:{"--deg":"16"}}),s("div",{class:"item",style:{"--deg":"17"}})],-1)),j=[R],E={__name:"Loading",setup(e){const t=k();let a=h(()=>t.isLoading);return(n,r)=>(d(),I(V,{to:"body"},[p(a)?(d(),l("div",M,j)):L("",!0)]))}},O=f(E,[["__scopeId","data-v-68ab2ac2"]]),q=e=>(y("data-v-4431d8fc"),e=e(),S(),e),z={class:"good"},A={key:0,class:"wrap"},H=["src"],J={class:"info"},K={class:"title"},P={class:"flavour"},Q={class:"desc"},U={class:"price"},W={class:"price-inner"},X={class:"price-discount"},Y=["onClick"],Z=q(()=>s("span",{class:"iconfont icon-cart-add"},null,-1)),ss=[Z],es={key:1,class:"wrap"},ts={__name:"Good",setup(e){let t=u(!1),a=u("");const n=k(),r=B(),C=h(()=>c=>(c.price*(1-c.discount)).toFixed(2)),w=c=>{r.addToCart(c),g("添加到购物车")};$(()=>{n.fetchGoods(),r.fetchCart(),g("数据加载完毕")});const g=c=>{t.value=!0,a.value=c,setTimeout(()=>{t.value=!1},3e3)};return(c,os)=>{const N=b("RouterView");return d(),l(m,null,[s("div",z,[p(n).goods.length?(d(),l("div",A,[(d(!0),l(m,null,G(p(n).goods,(o,as)=>(d(),l("div",{class:"item",key:o.id},[s("img",{class:"img",src:"https://glpla.github.io/utils"+o.img,alt:""},null,8,H),s("div",J,[s("div",K,[_(i(o.name)+" ",1),s("span",P,i(o.flavour),1)]),s("div",Q,i(o.desc.repeat(2)),1),s("div",U,[_("¥"+i(o.price)+" ",1),s("span",W,[_("(市场价"),s("span",null,"¥"+i(o.priceOrignal),1),_(")")])]),s("div",X,[_("预估到手 "),s("span",null,"¥"+i(C.value(o)),1)])]),s("div",{class:"btn",onClick:cs=>w(o)},ss,8,Y)]))),128))])):(d(),l("div",es,"lists empty")),v(O),v(F,{flag:p(t),tips:p(a)},null,8,["flag","tips"])]),v(N)],64)}}},_s=f(ts,[["__scopeId","data-v-4431d8fc"]]);export{_s as default};
